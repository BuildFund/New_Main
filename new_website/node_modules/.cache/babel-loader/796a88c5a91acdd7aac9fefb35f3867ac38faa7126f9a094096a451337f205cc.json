{"ast":null,"code":"var _jsxFileName = \"C:\\\\dev\\\\BuildFund\\\\1.0 Website Dev\\\\GitHub\\\\new_website\\\\src\\\\pages\\\\LenderProfileWizard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport api from '../api';\nimport { theme, commonStyles } from '../styles/theme';\nimport Wizard from '../components/Wizard';\nimport Input from '../components/Input';\nimport Select from '../components/Select';\nimport Textarea from '../components/Textarea';\nimport Checkbox from '../components/Checkbox';\nimport Button from '../components/Button';\nimport Badge from '../components/Badge';\nimport CompanyDetails from '../components/CompanyDetails';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction LenderProfileWizard() {\n  _s();\n  const navigate = useNavigate();\n  const [step, setStep] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [message, setMessage] = useState(null);\n  const [profile, setProfile] = useState(null);\n\n  // Step 1: Account setup and consent\n  const [step1Data, setStep1Data] = useState({\n    email: '',\n    mobile_number: '',\n    mfa_enabled: false,\n    consent_privacy: false,\n    consent_terms: false,\n    consent_credit_search: false\n  });\n\n  // Step 2: Company verification\n  const [step2Data, setStep2Data] = useState({\n    company_number: '',\n    company_name: '',\n    company_search_type: 'number',\n    company_data: null,\n    company_search_results: [],\n    show_search_results: false,\n    trading_address: '',\n    primary_contact_email: '',\n    primary_contact_phone: '',\n    confirmed: false\n  });\n\n  // Step 3: Directors and shareholders (for reference, user assignment)\n  const [step3Data, setStep3Data] = useState({\n    directors: [],\n    shareholders: [],\n    key_personnel_confirmed: [],\n    account_holder_is_director: false,\n    account_holder_name: '',\n    account_holder_role: ''\n  });\n\n  // Step 4: Key contact details\n  const [step4Data, setStep4Data] = useState({\n    primary_contact_email: '',\n    primary_contact_phone: '',\n    website: '',\n    fca_registration_number: '',\n    financial_licences: '',\n    membership_bodies: ''\n  });\n\n  // Step 5: Additional lender details (existing)\n  const [step5Data, setStep5Data] = useState({\n    organisation_name: '',\n    company_story: '',\n    number_of_employees: '',\n    key_personnel: [],\n    risk_compliance_details: {}\n  });\n  const steps = ['Account & Consent', 'Company Verification', 'Company Personnel', 'Key Contact Details', 'Additional Information', 'Review'];\n  useEffect(() => {\n    fetchProfile();\n  }, []);\n  const fetchProfile = async () => {\n    try {\n      const res = await api.get('/api/lenders/profiles/');\n      const data = Array.isArray(res.data) ? res.data[0] : res.data;\n      if (data) {\n        setProfile(data);\n        // Pre-populate form data\n        setStep1Data({\n          email: data.contact_email || '',\n          mobile_number: data.contact_phone || '',\n          mfa_enabled: false,\n          consent_privacy: data.consent_privacy || false,\n          consent_terms: data.consent_terms || false,\n          consent_credit_search: data.consent_credit_search || false\n        });\n        setStep2Data({\n          company_number: data.company_number || '',\n          company_name: data.organisation_name || '',\n          company_search_type: 'number',\n          company_data: null,\n          company_search_results: [],\n          show_search_results: false,\n          trading_address: '',\n          primary_contact_email: data.contact_email || '',\n          primary_contact_phone: data.contact_phone || '',\n          confirmed: !!data.company_number\n        });\n        setStep4Data({\n          primary_contact_email: data.contact_email || '',\n          primary_contact_phone: data.contact_phone || '',\n          website: data.website || '',\n          fca_registration_number: data.fca_registration_number || '',\n          financial_licences: data.financial_licences || '',\n          membership_bodies: data.membership_bodies || ''\n        });\n        setStep5Data({\n          organisation_name: data.organisation_name || '',\n          company_story: data.company_story || '',\n          number_of_employees: data.number_of_employees || '',\n          key_personnel: data.key_personnel || [],\n          risk_compliance_details: data.risk_compliance_details || {}\n        });\n      }\n    } catch (err) {\n      var _err$response;\n      console.error(err);\n      if (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) !== 404) {\n        setError('Failed to load lender profile');\n      }\n    }\n  };\n  const handleCompanySearch = async () => {\n    if (step2Data.company_search_type === 'number') {\n      if (!step2Data.company_number) {\n        setError('Please enter a company number');\n        return;\n      }\n      setLoading(true);\n      setError(null);\n      try {\n        const res = await api.get('/api/verification/company/get_full_company_details/', {\n          params: {\n            company_number: step2Data.company_number\n          }\n        });\n        if (res.data.error) {\n          setError(res.data.error);\n        } else {\n          setStep2Data({\n            ...step2Data,\n            company_data: res.data,\n            company_number: res.data.company_number || step2Data.company_number,\n            company_name: res.data.company_name || step2Data.company_name,\n            show_search_results: false\n          });\n          setMessage('Company found! Please review and confirm the details.');\n        }\n      } catch (err) {\n        var _err$response2, _err$response2$data;\n        console.error('Company search error:', err);\n        setError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.error) || 'Failed to search company. Please try again.');\n      } finally {\n        setLoading(false);\n      }\n    } else {\n      if (!step2Data.company_name) {\n        setError('Please enter a company name');\n        return;\n      }\n      setLoading(true);\n      setError(null);\n      try {\n        const res = await api.get('/api/verification/company/search_companies/', {\n          params: {\n            company_name: step2Data.company_name\n          }\n        });\n        if (res.data.error) {\n          setError(res.data.error);\n        } else if (res.data.companies && res.data.companies.length > 0) {\n          if (res.data.companies.length === 1) {\n            await handleSelectCompany(res.data.companies[0].company_number);\n          } else {\n            setStep2Data({\n              ...step2Data,\n              company_search_results: res.data.companies,\n              show_search_results: true\n            });\n            setMessage(`Found ${res.data.companies.length} matching companies. Please select one:`);\n          }\n        } else {\n          setError('No companies found matching that name. Please try a different search term.');\n        }\n      } catch (err) {\n        var _err$response3, _err$response3$data;\n        console.error('Company search error:', err);\n        setError(((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.error) || 'Failed to search company. Please try again.');\n      } finally {\n        setLoading(false);\n      }\n    }\n  };\n  const handleSelectCompany = async companyNumber => {\n    setLoading(true);\n    setError(null);\n    try {\n      const res = await api.get('/api/verification/company/get_full_company_details/', {\n        params: {\n          company_number: companyNumber\n        }\n      });\n      if (res.data.error) {\n        setError(res.data.error);\n      } else {\n        setStep2Data({\n          ...step2Data,\n          company_data: res.data,\n          company_number: res.data.company_number,\n          company_name: res.data.company_name,\n          company_search_results: [],\n          show_search_results: false\n        });\n        setMessage('Company found! Please review and confirm the details.');\n        // Auto-populate step 3 with directors\n        if (res.data.directors) {\n          setStep3Data(prev => ({\n            ...prev,\n            directors: res.data.directors.map(d => ({\n              ...d,\n              confirmed: false\n            }))\n          }));\n        }\n        if (res.data.pscs) {\n          setStep3Data(prev => ({\n            ...prev,\n            shareholders: res.data.pscs.map(p => ({\n              ...p,\n              confirmed: false\n            }))\n          }));\n        }\n      }\n    } catch (err) {\n      var _err$response4, _err$response4$data;\n      console.error('Failed to load company details:', err);\n      setError(((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.error) || 'Failed to load company details. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleSaveAndContinue = async () => {\n    setError(null);\n    setMessage(null);\n    if (step < steps.length) {\n      try {\n        const payload = buildPayload();\n        if (profile) {\n          await api.put(`/api/lenders/profiles/${profile.id}/`, payload);\n        } else {\n          const response = await api.post('/api/lenders/profiles/', payload);\n          setProfile(response.data);\n        }\n        setStep(step + 1);\n      } catch (err) {\n        var _err$response5, _err$response5$data;\n        console.error('Save failed:', err);\n        setError(((_err$response5 = err.response) === null || _err$response5 === void 0 ? void 0 : (_err$response5$data = _err$response5.data) === null || _err$response5$data === void 0 ? void 0 : _err$response5$data.detail) || 'Failed to save profile');\n      }\n    } else {\n      await handleSubmit();\n    }\n  };\n  const handleSubmit = async () => {\n    setLoading(true);\n    setError(null);\n    setMessage(null);\n    try {\n      const payload = buildPayload();\n      if (profile) {\n        await api.put(`/api/lenders/profiles/${profile.id}/`, payload);\n        setMessage('Profile updated successfully');\n      } else {\n        await api.post('/api/lenders/profiles/', payload);\n        setMessage('Profile created successfully');\n      }\n      setTimeout(() => {\n        navigate('/lender/profile');\n      }, 1500);\n    } catch (err) {\n      var _err$response6, _err$response6$data;\n      console.error('Submit failed:', err);\n      setError(((_err$response6 = err.response) === null || _err$response6 === void 0 ? void 0 : (_err$response6$data = _err$response6.data) === null || _err$response6$data === void 0 ? void 0 : _err$response6$data.detail) || 'Failed to save profile');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const buildPayload = () => {\n    return {\n      organisation_name: step2Data.company_name || step5Data.organisation_name,\n      company_number: step2Data.company_number,\n      contact_email: step4Data.primary_contact_email || step1Data.email,\n      contact_phone: step4Data.primary_contact_phone || step1Data.mobile_number,\n      website: step4Data.website,\n      fca_registration_number: step4Data.fca_registration_number,\n      financial_licences: step4Data.financial_licences,\n      membership_bodies: step4Data.membership_bodies,\n      company_story: step5Data.company_story,\n      number_of_employees: step5Data.number_of_employees || null,\n      key_personnel: step3Data.key_personnel_confirmed.length > 0 ? step3Data.key_personnel_confirmed : step5Data.key_personnel,\n      risk_compliance_details: step5Data.risk_compliance_details,\n      consent_privacy: step1Data.consent_privacy,\n      consent_terms: step1Data.consent_terms,\n      consent_credit_search: step1Data.consent_credit_search,\n      mobile_number: step1Data.mobile_number,\n      mfa_enabled: step1Data.mfa_enabled\n    };\n  };\n  const nextStep = () => {\n    if (step < steps.length) {\n      setStep(step + 1);\n    }\n  };\n  const prevStep = () => {\n    if (step > 1) {\n      setStep(step - 1);\n    }\n  };\n  const canNavigateToStep = stepNumber => {\n    // Allow navigation to completed steps\n    if (stepNumber <= step) return true;\n    // Allow navigation if previous steps are complete\n    if (stepNumber === 2 && step1Data.consent_privacy && step1Data.consent_terms && step1Data.consent_credit_search) return true;\n    if (stepNumber === 3 && step2Data.company_data) return true;\n    if (stepNumber === 4 && step3Data.key_personnel_confirmed.length > 0) return true;\n    return false;\n  };\n  const handleStepClick = stepNumber => {\n    if (canNavigateToStep(stepNumber)) {\n      setStep(stepNumber);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      ...commonStyles.container,\n      padding: theme.spacing.xl\n    },\n    children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: theme.colors.errorLight,\n        color: theme.colors.errorDark,\n        padding: theme.spacing.md,\n        borderRadius: theme.borderRadius.md,\n        marginBottom: theme.spacing.lg\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 9\n    }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: theme.colors.successLight,\n        color: theme.colors.successDark,\n        padding: theme.spacing.md,\n        borderRadius: theme.borderRadius.md,\n        marginBottom: theme.spacing.lg\n      },\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Wizard, {\n      steps: steps,\n      currentStep: step,\n      onStepClick: handleStepClick,\n      canNavigateToStep: canNavigateToStep,\n      children: [step === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            fontSize: theme.typography.fontSize['2xl'],\n            fontWeight: theme.typography.fontWeight.semibold,\n            margin: `0 0 ${theme.spacing.lg} 0`\n          },\n          children: \"Account Setup & Consent\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: theme.colors.textSecondary,\n            marginBottom: theme.spacing.lg\n          },\n          children: \"Please provide your contact details and confirm your consents.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gap: theme.spacing.lg,\n            marginBottom: theme.spacing.xl\n          },\n          children: [/*#__PURE__*/_jsxDEV(Input, {\n            label: \"Email Address\",\n            type: \"email\",\n            value: step1Data.email,\n            onChange: e => setStep1Data({\n              ...step1Data,\n              email: e.target.value\n            }),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: \"Mobile Number\",\n            type: \"tel\",\n            value: step1Data.mobile_number,\n            onChange: e => setStep1Data({\n              ...step1Data,\n              mobile_number: e.target.value\n            }),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Checkbox, {\n            label: \"Enable Multi-Factor Authentication (MFA)\",\n            checked: step1Data.mfa_enabled,\n            onChange: e => setStep1Data({\n              ...step1Data,\n              mfa_enabled: e.target.checked\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            ...commonStyles.card,\n            padding: theme.spacing.lg,\n            marginBottom: theme.spacing.xl,\n            background: theme.colors.gray50,\n            border: `2px solid ${!step1Data.consent_privacy || !step1Data.consent_terms || !step1Data.consent_credit_search ? theme.colors.warning : theme.colors.gray200}`\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: `0 0 ${theme.spacing.md} 0`\n            },\n            children: \"Required Consents\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: theme.typography.fontSize.sm,\n              color: theme.colors.textSecondary,\n              marginBottom: theme.spacing.md\n            },\n            children: \"You must agree to all of the following to proceed with your profile setup.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: theme.spacing.md\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                alignItems: 'start',\n                gap: theme.spacing.sm\n              },\n              children: [/*#__PURE__*/_jsxDEV(Checkbox, {\n                label: \"\",\n                checked: step1Data.consent_privacy,\n                onChange: e => setStep1Data({\n                  ...step1Data,\n                  consent_privacy: e.target.checked\n                }),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 429,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  flex: 1\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  style: {\n                    cursor: 'pointer'\n                  },\n                  children: [\"I consent to the\", ' ', /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: \"/privacy-policy\",\n                    target: \"_blank\",\n                    rel: \"noopener noreferrer\",\n                    style: {\n                      color: theme.colors.primary,\n                      textDecoration: 'underline'\n                    },\n                    children: \"Privacy Policy\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 438,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 436,\n                  columnNumber: 21\n                }, this), !step1Data.consent_privacy && /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    margin: `${theme.spacing.xs} 0 0 0`,\n                    fontSize: theme.typography.fontSize.xs,\n                    color: theme.colors.error\n                  },\n                  children: \"This consent is required\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 443,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 435,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                alignItems: 'start',\n                gap: theme.spacing.sm\n              },\n              children: [/*#__PURE__*/_jsxDEV(Checkbox, {\n                label: \"\",\n                checked: step1Data.consent_terms,\n                onChange: e => setStep1Data({\n                  ...step1Data,\n                  consent_terms: e.target.checked\n                }),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 451,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  flex: 1\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  style: {\n                    cursor: 'pointer'\n                  },\n                  children: [\"I accept the\", ' ', /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: \"/terms-and-conditions\",\n                    target: \"_blank\",\n                    rel: \"noopener noreferrer\",\n                    style: {\n                      color: theme.colors.primary,\n                      textDecoration: 'underline'\n                    },\n                    children: \"Terms and Conditions\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 460,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 458,\n                  columnNumber: 21\n                }, this), !step1Data.consent_terms && /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    margin: `${theme.spacing.xs} 0 0 0`,\n                    fontSize: theme.typography.fontSize.xs,\n                    color: theme.colors.error\n                  },\n                  children: \"This consent is required\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 465,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                alignItems: 'start',\n                gap: theme.spacing.sm\n              },\n              children: [/*#__PURE__*/_jsxDEV(Checkbox, {\n                label: \"\",\n                checked: step1Data.consent_credit_search,\n                onChange: e => setStep1Data({\n                  ...step1Data,\n                  consent_credit_search: e.target.checked\n                }),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  flex: 1\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  style: {\n                    cursor: 'pointer'\n                  },\n                  children: \"I consent to credit search permission\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 480,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    margin: `${theme.spacing.xs} 0 0 0`,\n                    fontSize: theme.typography.fontSize.xs,\n                    color: theme.colors.textSecondary\n                  },\n                  children: \"We may perform credit checks as part of the verification process\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 483,\n                  columnNumber: 21\n                }, this), !step1Data.consent_credit_search && /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    margin: `${theme.spacing.xs} 0 0 0`,\n                    fontSize: theme.typography.fontSize.xs,\n                    color: theme.colors.error\n                  },\n                  children: \"This consent is required\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 487,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 479,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'flex-end',\n            marginTop: theme.spacing.xl\n          },\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: nextStep,\n            disabled: !step1Data.consent_privacy || !step1Data.consent_terms || !step1Data.consent_credit_search,\n            children: \"Next: Company Verification\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 496,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 11\n      }, this), step === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            fontSize: theme.typography.fontSize['2xl'],\n            fontWeight: theme.typography.fontWeight.semibold,\n            margin: `0 0 ${theme.spacing.lg} 0`\n          },\n          children: \"Company Verification (UK Only)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 511,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: theme.colors.textSecondary,\n            marginBottom: theme.spacing.lg\n          },\n          children: \"Search for your company using Companies House.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 518,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: theme.spacing.lg\n          },\n          children: [/*#__PURE__*/_jsxDEV(Select, {\n            label: \"Search By\",\n            value: step2Data.company_search_type,\n            onChange: e => setStep2Data({\n              ...step2Data,\n              company_search_type: e.target.value\n            }),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"number\",\n              children: \"Company Number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 528,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"name\",\n              children: \"Company Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 529,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 523,\n            columnNumber: 15\n          }, this), step2Data.company_search_type === 'number' ? /*#__PURE__*/_jsxDEV(Input, {\n            label: \"Company Number\",\n            value: step2Data.company_number,\n            onChange: e => setStep2Data({\n              ...step2Data,\n              company_number: e.target.value\n            }),\n            placeholder: \"e.g., 12345678\",\n            style: {\n              marginTop: theme.spacing.md\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 533,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(Input, {\n            label: \"Company Name\",\n            value: step2Data.company_name,\n            onChange: e => setStep2Data({\n              ...step2Data,\n              company_name: e.target.value\n            }),\n            placeholder: \"e.g., Example Company Ltd\",\n            style: {\n              marginTop: theme.spacing.md\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 541,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: handleCompanySearch,\n            loading: loading,\n            style: {\n              marginTop: theme.spacing.md\n            },\n            children: \"Search Company\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 550,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 522,\n          columnNumber: 13\n        }, this), step2Data.show_search_results && step2Data.company_search_results.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: theme.spacing.xl\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              fontSize: theme.typography.fontSize.lg,\n              fontWeight: theme.typography.fontWeight.semibold,\n              margin: `0 0 ${theme.spacing.md} 0`\n            },\n            children: [\"Select Company (\", step2Data.company_search_results.length, \" found)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 563,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: theme.spacing.sm,\n              maxHeight: '400px',\n              overflowY: 'auto',\n              border: `1px solid ${theme.colors.gray200}`,\n              borderRadius: theme.borderRadius.md,\n              padding: theme.spacing.md,\n              background: theme.colors.gray50\n            },\n            children: step2Data.company_search_results.map(company => /*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: () => handleSelectCompany(company.company_number),\n              style: {\n                padding: theme.spacing.md,\n                border: `1px solid ${theme.colors.gray200}`,\n                borderRadius: theme.borderRadius.md,\n                cursor: 'pointer',\n                transition: 'all 0.2s',\n                background: theme.colors.white\n              },\n              onMouseEnter: e => {\n                e.currentTarget.style.background = theme.colors.primaryLight;\n                e.currentTarget.style.borderColor = theme.colors.primary;\n              },\n              onMouseLeave: e => {\n                e.currentTarget.style.background = theme.colors.white;\n                e.currentTarget.style.borderColor = theme.colors.gray200;\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'flex-start'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    flex: 1\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      margin: 0,\n                      fontWeight: theme.typography.fontWeight.semibold,\n                      fontSize: theme.typography.fontSize.base,\n                      color: theme.colors.textPrimary\n                    },\n                    children: company.company_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 604,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      margin: `${theme.spacing.xs} 0 0 0`,\n                      fontSize: theme.typography.fontSize.sm,\n                      color: theme.colors.textSecondary\n                    },\n                    children: [\"Company Number: \", company.company_number]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 612,\n                    columnNumber: 27\n                  }, this), company.address_snippet && /*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      margin: `${theme.spacing.xs} 0 0 0`,\n                      fontSize: theme.typography.fontSize.sm,\n                      color: theme.colors.textSecondary\n                    },\n                    children: company.address_snippet\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 620,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: 'flex',\n                      gap: theme.spacing.sm,\n                      marginTop: theme.spacing.xs,\n                      flexWrap: 'wrap',\n                      alignItems: 'center'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Badge, {\n                      variant: company.company_status === 'active' ? 'success' : company.company_status === 'dissolved' ? 'warning' : 'error',\n                      children: company.company_status || 'Unknown'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 629,\n                      columnNumber: 29\n                    }, this), company.company_type && /*#__PURE__*/_jsxDEV(Badge, {\n                      variant: \"info\",\n                      children: company.company_type\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 633,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 628,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 603,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outline\",\n                  size: \"sm\",\n                  onClick: e => {\n                    e.stopPropagation();\n                    handleSelectCompany(company.company_number);\n                  },\n                  style: {\n                    marginLeft: theme.spacing.md\n                  },\n                  children: \"Select\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 639,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 602,\n                columnNumber: 23\n              }, this)\n            }, company.company_number, false, {\n              fileName: _jsxFileName,\n              lineNumber: 582,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 570,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 562,\n          columnNumber: 15\n        }, this), step2Data.company_data && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: theme.spacing.xl\n          },\n          children: [/*#__PURE__*/_jsxDEV(CompanyDetails, {\n            companyNumber: step2Data.company_data.company_number,\n            onAutoImport: async result => {\n              setMessage('Company data imported successfully!');\n              if (result && result.results) {\n                setStep3Data(prev => ({\n                  ...prev,\n                  directors: result.results.directors || prev.directors,\n                  shareholders: result.results.shareholders || prev.shareholders\n                }));\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 659,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: theme.spacing.lg\n            },\n            children: /*#__PURE__*/_jsxDEV(Input, {\n              label: \"Trading Address (if different from registered address)\",\n              value: step2Data.trading_address,\n              onChange: e => setStep2Data({\n                ...step2Data,\n                trading_address: e.target.value\n              }),\n              placeholder: \"Enter trading address if different\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 673,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 672,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 658,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            marginTop: theme.spacing.xl\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            onClick: prevStep,\n            children: \"Previous\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 684,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: nextStep,\n            disabled: !step2Data.company_data,\n            children: \"Next: Company Personnel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 687,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 683,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 510,\n        columnNumber: 11\n      }, this), step === 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            fontSize: theme.typography.fontSize['2xl'],\n            fontWeight: theme.typography.fontWeight.semibold,\n            margin: `0 0 ${theme.spacing.lg} 0`\n          },\n          children: \"Company Personnel & Account Assignment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 701,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: theme.colors.textSecondary,\n            marginBottom: theme.spacing.lg\n          },\n          children: \"Review the company directors and shareholders. Confirm key personnel and assign this account to the appropriate user.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 708,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            ...commonStyles.card,\n            padding: theme.spacing.md,\n            marginBottom: theme.spacing.lg,\n            background: theme.colors.primaryLight,\n            border: `1px solid ${theme.colors.primary}`\n          },\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: 0,\n              fontSize: theme.typography.fontSize.sm\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Note:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 720,\n              columnNumber: 17\n            }, this), \" The person using this account may be different from the company directors. You can confirm company personnel for reference, but this account will be assigned to you (the current user).\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 719,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 712,\n          columnNumber: 13\n        }, this), step2Data.company_data && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [step3Data.directors.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: theme.spacing.xl\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                margin: `0 0 ${theme.spacing.md} 0`\n              },\n              children: \"Directors\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 730,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'grid',\n                gap: theme.spacing.md\n              },\n              children: step3Data.directors.map((director, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  ...commonStyles.card,\n                  padding: theme.spacing.md,\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      margin: 0,\n                      fontWeight: theme.typography.fontWeight.medium\n                    },\n                    children: director.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 741,\n                    columnNumber: 29\n                  }, this), director.nationality && /*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      margin: `${theme.spacing.xs} 0 0 0`,\n                      fontSize: theme.typography.fontSize.sm,\n                      color: theme.colors.textSecondary\n                    },\n                    children: [\"Nationality: \", director.nationality]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 745,\n                    columnNumber: 31\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 740,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(Checkbox, {\n                  label: \"Confirm as Key Personnel\",\n                  checked: director.confirmed || false,\n                  onChange: e => {\n                    const updated = [...step3Data.directors];\n                    updated[index].confirmed = e.target.checked;\n                    const confirmed = updated.filter(d => d.confirmed);\n                    setStep3Data({\n                      ...step3Data,\n                      directors: updated,\n                      key_personnel_confirmed: [...step3Data.shareholders.filter(s => s.confirmed), ...confirmed]\n                    });\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 750,\n                  columnNumber: 27\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 733,\n                columnNumber: 25\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 731,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 729,\n            columnNumber: 19\n          }, this), step3Data.shareholders.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: theme.spacing.xl\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                margin: `0 0 ${theme.spacing.md} 0`\n              },\n              children: \"Persons with Significant Control\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 776,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'grid',\n                gap: theme.spacing.md\n              },\n              children: step3Data.shareholders.map((shareholder, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  ...commonStyles.card,\n                  padding: theme.spacing.md,\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      margin: 0,\n                      fontWeight: theme.typography.fontWeight.medium\n                    },\n                    children: shareholder.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 787,\n                    columnNumber: 29\n                  }, this), shareholder.natures_of_control && /*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      margin: `${theme.spacing.xs} 0 0 0`,\n                      fontSize: theme.typography.fontSize.sm,\n                      color: theme.colors.textSecondary\n                    },\n                    children: [\"Control: \", shareholder.natures_of_control.join(', ')]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 791,\n                    columnNumber: 31\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 786,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(Checkbox, {\n                  label: \"Confirm as Key Personnel\",\n                  checked: shareholder.confirmed || false,\n                  onChange: e => {\n                    const updated = [...step3Data.shareholders];\n                    updated[index].confirmed = e.target.checked;\n                    const confirmed = updated.filter(s => s.confirmed);\n                    setStep3Data({\n                      ...step3Data,\n                      shareholders: updated,\n                      key_personnel_confirmed: [...step3Data.directors.filter(d => d.confirmed), ...confirmed]\n                    });\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 796,\n                  columnNumber: 27\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 779,\n                columnNumber: 25\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 777,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 775,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              ...commonStyles.card,\n              padding: theme.spacing.lg,\n              marginTop: theme.spacing.xl,\n              background: theme.colors.gray50\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                margin: `0 0 ${theme.spacing.md} 0`\n              },\n              children: \"Account Assignment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 826,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: theme.colors.textSecondary,\n                marginBottom: theme.spacing.md\n              },\n              children: \"This account will be assigned to you (the current logged-in user). If you are not a director, you can still manage the lender profile on behalf of the company.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 827,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Checkbox, {\n              label: \"I am a director of this company\",\n              checked: step3Data.account_holder_is_director,\n              onChange: e => setStep3Data({\n                ...step3Data,\n                account_holder_is_director: e.target.checked\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 831,\n              columnNumber: 19\n            }, this), !step3Data.account_holder_is_director && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: theme.spacing.md\n              },\n              children: [/*#__PURE__*/_jsxDEV(Input, {\n                label: \"Your Name\",\n                value: step3Data.account_holder_name,\n                onChange: e => setStep3Data({\n                  ...step3Data,\n                  account_holder_name: e.target.value\n                }),\n                placeholder: \"Enter your full name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 838,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                label: \"Your Role\",\n                value: step3Data.account_holder_role,\n                onChange: e => setStep3Data({\n                  ...step3Data,\n                  account_holder_role: e.target.value\n                }),\n                placeholder: \"e.g., Operations Manager, Finance Director\",\n                style: {\n                  marginTop: theme.spacing.md\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 844,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 837,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 820,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 726,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            marginTop: theme.spacing.xl\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            onClick: prevStep,\n            children: \"Previous\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 858,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: nextStep,\n            children: \"Next: Key Contact Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 861,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 857,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 700,\n        columnNumber: 11\n      }, this), step === 4 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            fontSize: theme.typography.fontSize['2xl'],\n            fontWeight: theme.typography.fontWeight.semibold,\n            margin: `0 0 ${theme.spacing.lg} 0`\n          },\n          children: \"Key Contact Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 874,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: theme.colors.textSecondary,\n            marginBottom: theme.spacing.lg\n          },\n          children: \"Provide the primary contact information for your organisation.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 881,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gap: theme.spacing.lg,\n            marginBottom: theme.spacing.xl\n          },\n          children: [/*#__PURE__*/_jsxDEV(Input, {\n            label: \"Primary Contact Email *\",\n            type: \"email\",\n            value: step4Data.primary_contact_email,\n            onChange: e => setStep4Data({\n              ...step4Data,\n              primary_contact_email: e.target.value\n            }),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 886,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: \"Primary Contact Phone *\",\n            type: \"tel\",\n            value: step4Data.primary_contact_phone,\n            onChange: e => setStep4Data({\n              ...step4Data,\n              primary_contact_phone: e.target.value\n            }),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 893,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: \"Website\",\n            type: \"url\",\n            value: step4Data.website,\n            onChange: e => setStep4Data({\n              ...step4Data,\n              website: e.target.value\n            }),\n            placeholder: \"https://example.com\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 900,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: \"FCA Registration Number\",\n            value: step4Data.fca_registration_number,\n            onChange: e => setStep4Data({\n              ...step4Data,\n              fca_registration_number: e.target.value\n            }),\n            placeholder: \"If applicable\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 907,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: \"Financial Licences\",\n            value: step4Data.financial_licences,\n            onChange: e => setStep4Data({\n              ...step4Data,\n              financial_licences: e.target.value\n            }),\n            placeholder: \"Comma-separated list of licences\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 913,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: \"Membership Bodies\",\n            value: step4Data.membership_bodies,\n            onChange: e => setStep4Data({\n              ...step4Data,\n              membership_bodies: e.target.value\n            }),\n            placeholder: \"e.g., UK Finance, BBA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 919,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 885,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            marginTop: theme.spacing.xl\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            onClick: prevStep,\n            children: \"Previous\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 928,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: nextStep,\n            disabled: !step4Data.primary_contact_email || !step4Data.primary_contact_phone,\n            children: \"Next: Additional Information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 931,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 927,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 873,\n        columnNumber: 11\n      }, this), step === 5 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            fontSize: theme.typography.fontSize['2xl'],\n            fontWeight: theme.typography.fontWeight.semibold,\n            margin: `0 0 ${theme.spacing.lg} 0`\n          },\n          children: \"Additional Information\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 945,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: theme.colors.textSecondary,\n            marginBottom: theme.spacing.lg\n          },\n          children: \"Provide additional details about your organisation (optional).\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 952,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gap: theme.spacing.lg,\n            marginBottom: theme.spacing.xl\n          },\n          children: [/*#__PURE__*/_jsxDEV(Input, {\n            label: \"Organisation Name\",\n            value: step5Data.organisation_name || step2Data.company_name,\n            onChange: e => setStep5Data({\n              ...step5Data,\n              organisation_name: e.target.value\n            }),\n            disabled: !!step2Data.company_name,\n            helperText: step2Data.company_name ? \"Auto-filled from company verification\" : \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 957,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: \"Number of Employees\",\n            type: \"number\",\n            value: step5Data.number_of_employees,\n            onChange: e => setStep5Data({\n              ...step5Data,\n              number_of_employees: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 964,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n            label: \"Company Story\",\n            value: step5Data.company_story,\n            onChange: e => setStep5Data({\n              ...step5Data,\n              company_story: e.target.value\n            }),\n            rows: 4,\n            placeholder: \"Tell us about your organisation...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 970,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 956,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            marginTop: theme.spacing.xl\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            onClick: prevStep,\n            children: \"Previous\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 980,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: nextStep,\n            children: \"Next: Review\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 983,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 979,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 944,\n        columnNumber: 11\n      }, this), step === 6 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            fontSize: theme.typography.fontSize['2xl'],\n            fontWeight: theme.typography.fontWeight.semibold,\n            margin: `0 0 ${theme.spacing.lg} 0`\n          },\n          children: \"Review Your Information\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 996,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: theme.colors.textSecondary,\n            marginBottom: theme.spacing.lg\n          },\n          children: \"Please review all information before submitting.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1003,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            ...commonStyles.card,\n            marginBottom: theme.spacing.lg\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: `0 0 ${theme.spacing.md} 0`\n            },\n            children: \"Account & Consent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1008,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Email:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1009,\n              columnNumber: 18\n            }, this), \" \", step1Data.email]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1009,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Mobile:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1010,\n              columnNumber: 18\n            }, this), \" \", step1Data.mobile_number]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1010,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"MFA Enabled:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1011,\n              columnNumber: 18\n            }, this), \" \", step1Data.mfa_enabled ? 'Yes' : 'No']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1011,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Consents:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1012,\n              columnNumber: 18\n            }, this), \" All confirmed\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1012,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1007,\n          columnNumber: 13\n        }, this), step2Data.company_data && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            ...commonStyles.card,\n            marginBottom: theme.spacing.lg\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: `0 0 ${theme.spacing.md} 0`\n            },\n            children: \"Company\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1017,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Name:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1018,\n              columnNumber: 20\n            }, this), \" \", step2Data.company_data.company_name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1018,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Number:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1019,\n              columnNumber: 20\n            }, this), \" \", step2Data.company_data.company_number]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1019,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Status:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1020,\n              columnNumber: 20\n            }, this), \" \", step2Data.company_data.company_status]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1020,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1016,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            ...commonStyles.card,\n            marginBottom: theme.spacing.lg\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: `0 0 ${theme.spacing.md} 0`\n            },\n            children: \"Contact\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1025,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Email:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1026,\n              columnNumber: 18\n            }, this), \" \", step4Data.primary_contact_email]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1026,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Phone:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1027,\n              columnNumber: 18\n            }, this), \" \", step4Data.primary_contact_phone]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1027,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Website:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1028,\n              columnNumber: 18\n            }, this), \" \", step4Data.website || 'Not provided']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1028,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"FCA Registration:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1029,\n              columnNumber: 18\n            }, this), \" \", step4Data.fca_registration_number || 'Not provided']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1029,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1024,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            marginTop: theme.spacing.xl\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            onClick: prevStep,\n            children: \"Previous\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1033,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: handleSubmit,\n            loading: loading,\n            children: loading ? 'Saving...' : 'Complete Profile'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1036,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1032,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 995,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 346,\n    columnNumber: 5\n  }, this);\n}\n_s(LenderProfileWizard, \"aq6lbq7bbq1xs1TkKB1XDbBqVEE=\", false, function () {\n  return [useNavigate];\n});\n_c = LenderProfileWizard;\nexport default LenderProfileWizard;\nvar _c;\n$RefreshReg$(_c, \"LenderProfileWizard\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","api","theme","commonStyles","Wizard","Input","Select","Textarea","Checkbox","Button","Badge","CompanyDetails","jsxDEV","_jsxDEV","LenderProfileWizard","_s","navigate","step","setStep","loading","setLoading","error","setError","message","setMessage","profile","setProfile","step1Data","setStep1Data","email","mobile_number","mfa_enabled","consent_privacy","consent_terms","consent_credit_search","step2Data","setStep2Data","company_number","company_name","company_search_type","company_data","company_search_results","show_search_results","trading_address","primary_contact_email","primary_contact_phone","confirmed","step3Data","setStep3Data","directors","shareholders","key_personnel_confirmed","account_holder_is_director","account_holder_name","account_holder_role","step4Data","setStep4Data","website","fca_registration_number","financial_licences","membership_bodies","step5Data","setStep5Data","organisation_name","company_story","number_of_employees","key_personnel","risk_compliance_details","steps","fetchProfile","res","get","data","Array","isArray","contact_email","contact_phone","err","_err$response","console","response","status","handleCompanySearch","params","_err$response2","_err$response2$data","companies","length","handleSelectCompany","_err$response3","_err$response3$data","companyNumber","prev","map","d","pscs","p","_err$response4","_err$response4$data","handleSaveAndContinue","payload","buildPayload","put","id","post","_err$response5","_err$response5$data","detail","handleSubmit","setTimeout","_err$response6","_err$response6$data","nextStep","prevStep","canNavigateToStep","stepNumber","handleStepClick","style","container","padding","spacing","xl","children","background","colors","errorLight","color","errorDark","md","borderRadius","marginBottom","lg","fileName","_jsxFileName","lineNumber","columnNumber","successLight","successDark","currentStep","onStepClick","fontSize","typography","fontWeight","semibold","margin","textSecondary","display","gap","label","type","value","onChange","e","target","required","checked","card","gray50","border","warning","gray200","sm","flexDirection","alignItems","flex","cursor","href","rel","primary","textDecoration","xs","justifyContent","marginTop","variant","onClick","disabled","placeholder","maxHeight","overflowY","company","transition","white","onMouseEnter","currentTarget","primaryLight","borderColor","onMouseLeave","base","textPrimary","address_snippet","flexWrap","company_status","company_type","size","stopPropagation","marginLeft","onAutoImport","result","results","director","index","medium","name","nationality","updated","filter","s","shareholder","natures_of_control","join","helperText","rows","_c","$RefreshReg$"],"sources":["C:/dev/BuildFund/1.0 Website Dev/GitHub/new_website/src/pages/LenderProfileWizard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport api from '../api';\r\nimport { theme, commonStyles } from '../styles/theme';\r\nimport Wizard from '../components/Wizard';\r\nimport Input from '../components/Input';\r\nimport Select from '../components/Select';\r\nimport Textarea from '../components/Textarea';\r\nimport Checkbox from '../components/Checkbox';\r\nimport Button from '../components/Button';\r\nimport Badge from '../components/Badge';\r\nimport CompanyDetails from '../components/CompanyDetails';\r\n\r\nfunction LenderProfileWizard() {\r\n  const navigate = useNavigate();\r\n  const [step, setStep] = useState(1);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [message, setMessage] = useState(null);\r\n  const [profile, setProfile] = useState(null);\r\n\r\n  // Step 1: Account setup and consent\r\n  const [step1Data, setStep1Data] = useState({\r\n    email: '',\r\n    mobile_number: '',\r\n    mfa_enabled: false,\r\n    consent_privacy: false,\r\n    consent_terms: false,\r\n    consent_credit_search: false,\r\n  });\r\n\r\n  // Step 2: Company verification\r\n  const [step2Data, setStep2Data] = useState({\r\n    company_number: '',\r\n    company_name: '',\r\n    company_search_type: 'number',\r\n    company_data: null,\r\n    company_search_results: [],\r\n    show_search_results: false,\r\n    trading_address: '',\r\n    primary_contact_email: '',\r\n    primary_contact_phone: '',\r\n    confirmed: false,\r\n  });\r\n\r\n  // Step 3: Directors and shareholders (for reference, user assignment)\r\n  const [step3Data, setStep3Data] = useState({\r\n    directors: [],\r\n    shareholders: [],\r\n    key_personnel_confirmed: [],\r\n    account_holder_is_director: false,\r\n    account_holder_name: '',\r\n    account_holder_role: '',\r\n  });\r\n\r\n  // Step 4: Key contact details\r\n  const [step4Data, setStep4Data] = useState({\r\n    primary_contact_email: '',\r\n    primary_contact_phone: '',\r\n    website: '',\r\n    fca_registration_number: '',\r\n    financial_licences: '',\r\n    membership_bodies: '',\r\n  });\r\n\r\n  // Step 5: Additional lender details (existing)\r\n  const [step5Data, setStep5Data] = useState({\r\n    organisation_name: '',\r\n    company_story: '',\r\n    number_of_employees: '',\r\n    key_personnel: [],\r\n    risk_compliance_details: {},\r\n  });\r\n\r\n  const steps = [\r\n    'Account & Consent',\r\n    'Company Verification',\r\n    'Company Personnel',\r\n    'Key Contact Details',\r\n    'Additional Information',\r\n    'Review',\r\n  ];\r\n\r\n  useEffect(() => {\r\n    fetchProfile();\r\n  }, []);\r\n\r\n  const fetchProfile = async () => {\r\n    try {\r\n      const res = await api.get('/api/lenders/profiles/');\r\n      const data = Array.isArray(res.data) ? res.data[0] : res.data;\r\n      if (data) {\r\n        setProfile(data);\r\n        // Pre-populate form data\r\n        setStep1Data({\r\n          email: data.contact_email || '',\r\n          mobile_number: data.contact_phone || '',\r\n          mfa_enabled: false,\r\n          consent_privacy: data.consent_privacy || false,\r\n          consent_terms: data.consent_terms || false,\r\n          consent_credit_search: data.consent_credit_search || false,\r\n        });\r\n        setStep2Data({\r\n          company_number: data.company_number || '',\r\n          company_name: data.organisation_name || '',\r\n          company_search_type: 'number',\r\n          company_data: null,\r\n          company_search_results: [],\r\n          show_search_results: false,\r\n          trading_address: '',\r\n          primary_contact_email: data.contact_email || '',\r\n          primary_contact_phone: data.contact_phone || '',\r\n          confirmed: !!data.company_number,\r\n        });\r\n        setStep4Data({\r\n          primary_contact_email: data.contact_email || '',\r\n          primary_contact_phone: data.contact_phone || '',\r\n          website: data.website || '',\r\n          fca_registration_number: data.fca_registration_number || '',\r\n          financial_licences: data.financial_licences || '',\r\n          membership_bodies: data.membership_bodies || '',\r\n        });\r\n        setStep5Data({\r\n          organisation_name: data.organisation_name || '',\r\n          company_story: data.company_story || '',\r\n          number_of_employees: data.number_of_employees || '',\r\n          key_personnel: data.key_personnel || [],\r\n          risk_compliance_details: data.risk_compliance_details || {},\r\n        });\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      if (err.response?.status !== 404) {\r\n        setError('Failed to load lender profile');\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleCompanySearch = async () => {\r\n    if (step2Data.company_search_type === 'number') {\r\n      if (!step2Data.company_number) {\r\n        setError('Please enter a company number');\r\n        return;\r\n      }\r\n      setLoading(true);\r\n      setError(null);\r\n      try {\r\n        const res = await api.get('/api/verification/company/get_full_company_details/', {\r\n          params: { company_number: step2Data.company_number },\r\n        });\r\n        if (res.data.error) {\r\n          setError(res.data.error);\r\n        } else {\r\n          setStep2Data({\r\n            ...step2Data,\r\n            company_data: res.data,\r\n            company_number: res.data.company_number || step2Data.company_number,\r\n            company_name: res.data.company_name || step2Data.company_name,\r\n            show_search_results: false,\r\n          });\r\n          setMessage('Company found! Please review and confirm the details.');\r\n        }\r\n      } catch (err) {\r\n        console.error('Company search error:', err);\r\n        setError(err.response?.data?.error || 'Failed to search company. Please try again.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    } else {\r\n      if (!step2Data.company_name) {\r\n        setError('Please enter a company name');\r\n        return;\r\n      }\r\n      setLoading(true);\r\n      setError(null);\r\n      try {\r\n        const res = await api.get('/api/verification/company/search_companies/', {\r\n          params: { company_name: step2Data.company_name },\r\n        });\r\n        if (res.data.error) {\r\n          setError(res.data.error);\r\n        } else if (res.data.companies && res.data.companies.length > 0) {\r\n          if (res.data.companies.length === 1) {\r\n            await handleSelectCompany(res.data.companies[0].company_number);\r\n          } else {\r\n            setStep2Data({\r\n              ...step2Data,\r\n              company_search_results: res.data.companies,\r\n              show_search_results: true,\r\n            });\r\n            setMessage(`Found ${res.data.companies.length} matching companies. Please select one:`);\r\n          }\r\n        } else {\r\n          setError('No companies found matching that name. Please try a different search term.');\r\n        }\r\n      } catch (err) {\r\n        console.error('Company search error:', err);\r\n        setError(err.response?.data?.error || 'Failed to search company. Please try again.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSelectCompany = async (companyNumber) => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const res = await api.get('/api/verification/company/get_full_company_details/', {\r\n        params: { company_number: companyNumber },\r\n      });\r\n      if (res.data.error) {\r\n        setError(res.data.error);\r\n      } else {\r\n        setStep2Data({\r\n          ...step2Data,\r\n          company_data: res.data,\r\n          company_number: res.data.company_number,\r\n          company_name: res.data.company_name,\r\n          company_search_results: [],\r\n          show_search_results: false,\r\n        });\r\n        setMessage('Company found! Please review and confirm the details.');\r\n        // Auto-populate step 3 with directors\r\n        if (res.data.directors) {\r\n          setStep3Data(prev => ({\r\n            ...prev,\r\n            directors: res.data.directors.map(d => ({ ...d, confirmed: false })),\r\n          }));\r\n        }\r\n        if (res.data.pscs) {\r\n          setStep3Data(prev => ({\r\n            ...prev,\r\n            shareholders: res.data.pscs.map(p => ({ ...p, confirmed: false })),\r\n          }));\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to load company details:', err);\r\n      setError(err.response?.data?.error || 'Failed to load company details. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSaveAndContinue = async () => {\r\n    setError(null);\r\n    setMessage(null);\r\n\r\n    if (step < steps.length) {\r\n      try {\r\n        const payload = buildPayload();\r\n        if (profile) {\r\n          await api.put(`/api/lenders/profiles/${profile.id}/`, payload);\r\n        } else {\r\n          const response = await api.post('/api/lenders/profiles/', payload);\r\n          setProfile(response.data);\r\n        }\r\n        setStep(step + 1);\r\n      } catch (err) {\r\n        console.error('Save failed:', err);\r\n        setError(err.response?.data?.detail || 'Failed to save profile');\r\n      }\r\n    } else {\r\n      await handleSubmit();\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    setMessage(null);\r\n    try {\r\n      const payload = buildPayload();\r\n      if (profile) {\r\n        await api.put(`/api/lenders/profiles/${profile.id}/`, payload);\r\n        setMessage('Profile updated successfully');\r\n      } else {\r\n        await api.post('/api/lenders/profiles/', payload);\r\n        setMessage('Profile created successfully');\r\n      }\r\n      setTimeout(() => {\r\n        navigate('/lender/profile');\r\n      }, 1500);\r\n    } catch (err) {\r\n      console.error('Submit failed:', err);\r\n      setError(err.response?.data?.detail || 'Failed to save profile');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const buildPayload = () => {\r\n    return {\r\n      organisation_name: step2Data.company_name || step5Data.organisation_name,\r\n      company_number: step2Data.company_number,\r\n      contact_email: step4Data.primary_contact_email || step1Data.email,\r\n      contact_phone: step4Data.primary_contact_phone || step1Data.mobile_number,\r\n      website: step4Data.website,\r\n      fca_registration_number: step4Data.fca_registration_number,\r\n      financial_licences: step4Data.financial_licences,\r\n      membership_bodies: step4Data.membership_bodies,\r\n      company_story: step5Data.company_story,\r\n      number_of_employees: step5Data.number_of_employees || null,\r\n      key_personnel: step3Data.key_personnel_confirmed.length > 0 \r\n        ? step3Data.key_personnel_confirmed \r\n        : step5Data.key_personnel,\r\n      risk_compliance_details: step5Data.risk_compliance_details,\r\n      consent_privacy: step1Data.consent_privacy,\r\n      consent_terms: step1Data.consent_terms,\r\n      consent_credit_search: step1Data.consent_credit_search,\r\n      mobile_number: step1Data.mobile_number,\r\n      mfa_enabled: step1Data.mfa_enabled,\r\n    };\r\n  };\r\n\r\n  const nextStep = () => {\r\n    if (step < steps.length) {\r\n      setStep(step + 1);\r\n    }\r\n  };\r\n\r\n  const prevStep = () => {\r\n    if (step > 1) {\r\n      setStep(step - 1);\r\n    }\r\n  };\r\n\r\n  const canNavigateToStep = (stepNumber) => {\r\n    // Allow navigation to completed steps\r\n    if (stepNumber <= step) return true;\r\n    // Allow navigation if previous steps are complete\r\n    if (stepNumber === 2 && step1Data.consent_privacy && step1Data.consent_terms && step1Data.consent_credit_search) return true;\r\n    if (stepNumber === 3 && step2Data.company_data) return true;\r\n    if (stepNumber === 4 && step3Data.key_personnel_confirmed.length > 0) return true;\r\n    return false;\r\n  };\r\n\r\n  const handleStepClick = (stepNumber) => {\r\n    if (canNavigateToStep(stepNumber)) {\r\n      setStep(stepNumber);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ ...commonStyles.container, padding: theme.spacing.xl }}>\r\n      {error && (\r\n        <div style={{\r\n          background: theme.colors.errorLight,\r\n          color: theme.colors.errorDark,\r\n          padding: theme.spacing.md,\r\n          borderRadius: theme.borderRadius.md,\r\n          marginBottom: theme.spacing.lg,\r\n        }}>\r\n          {error}\r\n        </div>\r\n      )}\r\n      {message && (\r\n        <div style={{\r\n          background: theme.colors.successLight,\r\n          color: theme.colors.successDark,\r\n          padding: theme.spacing.md,\r\n          borderRadius: theme.borderRadius.md,\r\n          marginBottom: theme.spacing.lg,\r\n        }}>\r\n          {message}\r\n        </div>\r\n      )}\r\n\r\n      <Wizard\r\n        steps={steps}\r\n        currentStep={step}\r\n        onStepClick={handleStepClick}\r\n        canNavigateToStep={canNavigateToStep}\r\n      >\r\n        {/* Step 1: Account & Consent */}\r\n        {step === 1 && (\r\n          <div>\r\n            <h2 style={{\r\n              fontSize: theme.typography.fontSize['2xl'],\r\n              fontWeight: theme.typography.fontWeight.semibold,\r\n              margin: `0 0 ${theme.spacing.lg} 0`,\r\n            }}>\r\n              Account Setup & Consent\r\n            </h2>\r\n            <p style={{ color: theme.colors.textSecondary, marginBottom: theme.spacing.lg }}>\r\n              Please provide your contact details and confirm your consents.\r\n            </p>\r\n\r\n            <div style={{ display: 'grid', gap: theme.spacing.lg, marginBottom: theme.spacing.xl }}>\r\n              <Input\r\n                label=\"Email Address\"\r\n                type=\"email\"\r\n                value={step1Data.email}\r\n                onChange={(e) => setStep1Data({ ...step1Data, email: e.target.value })}\r\n                required\r\n              />\r\n              <Input\r\n                label=\"Mobile Number\"\r\n                type=\"tel\"\r\n                value={step1Data.mobile_number}\r\n                onChange={(e) => setStep1Data({ ...step1Data, mobile_number: e.target.value })}\r\n                required\r\n              />\r\n              <Checkbox\r\n                label=\"Enable Multi-Factor Authentication (MFA)\"\r\n                checked={step1Data.mfa_enabled}\r\n                onChange={(e) => setStep1Data({ ...step1Data, mfa_enabled: e.target.checked })}\r\n              />\r\n            </div>\r\n\r\n            <div style={{\r\n              ...commonStyles.card,\r\n              padding: theme.spacing.lg,\r\n              marginBottom: theme.spacing.xl,\r\n              background: theme.colors.gray50,\r\n              border: `2px solid ${(!step1Data.consent_privacy || !step1Data.consent_terms || !step1Data.consent_credit_search) ? theme.colors.warning : theme.colors.gray200}`,\r\n            }}>\r\n              <h3 style={{ margin: `0 0 ${theme.spacing.md} 0` }}>Required Consents</h3>\r\n              <p style={{ \r\n                fontSize: theme.typography.fontSize.sm, \r\n                color: theme.colors.textSecondary,\r\n                marginBottom: theme.spacing.md,\r\n              }}>\r\n                You must agree to all of the following to proceed with your profile setup.\r\n              </p>\r\n              <div style={{ display: 'flex', flexDirection: 'column', gap: theme.spacing.md }}>\r\n                <div style={{ display: 'flex', alignItems: 'start', gap: theme.spacing.sm }}>\r\n                  <Checkbox\r\n                    label=\"\"\r\n                    checked={step1Data.consent_privacy}\r\n                    onChange={(e) => setStep1Data({ ...step1Data, consent_privacy: e.target.checked })}\r\n                    required\r\n                  />\r\n                  <div style={{ flex: 1 }}>\r\n                    <label style={{ cursor: 'pointer' }}>\r\n                      I consent to the{' '}\r\n                      <a href=\"/privacy-policy\" target=\"_blank\" rel=\"noopener noreferrer\" style={{ color: theme.colors.primary, textDecoration: 'underline' }}>\r\n                        Privacy Policy\r\n                      </a>\r\n                    </label>\r\n                    {!step1Data.consent_privacy && (\r\n                      <p style={{ margin: `${theme.spacing.xs} 0 0 0`, fontSize: theme.typography.fontSize.xs, color: theme.colors.error }}>\r\n                        This consent is required\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                \r\n                <div style={{ display: 'flex', alignItems: 'start', gap: theme.spacing.sm }}>\r\n                  <Checkbox\r\n                    label=\"\"\r\n                    checked={step1Data.consent_terms}\r\n                    onChange={(e) => setStep1Data({ ...step1Data, consent_terms: e.target.checked })}\r\n                    required\r\n                  />\r\n                  <div style={{ flex: 1 }}>\r\n                    <label style={{ cursor: 'pointer' }}>\r\n                      I accept the{' '}\r\n                      <a href=\"/terms-and-conditions\" target=\"_blank\" rel=\"noopener noreferrer\" style={{ color: theme.colors.primary, textDecoration: 'underline' }}>\r\n                        Terms and Conditions\r\n                      </a>\r\n                    </label>\r\n                    {!step1Data.consent_terms && (\r\n                      <p style={{ margin: `${theme.spacing.xs} 0 0 0`, fontSize: theme.typography.fontSize.xs, color: theme.colors.error }}>\r\n                        This consent is required\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                \r\n                <div style={{ display: 'flex', alignItems: 'start', gap: theme.spacing.sm }}>\r\n                  <Checkbox\r\n                    label=\"\"\r\n                    checked={step1Data.consent_credit_search}\r\n                    onChange={(e) => setStep1Data({ ...step1Data, consent_credit_search: e.target.checked })}\r\n                    required\r\n                  />\r\n                  <div style={{ flex: 1 }}>\r\n                    <label style={{ cursor: 'pointer' }}>\r\n                      I consent to credit search permission\r\n                    </label>\r\n                    <p style={{ margin: `${theme.spacing.xs} 0 0 0`, fontSize: theme.typography.fontSize.xs, color: theme.colors.textSecondary }}>\r\n                      We may perform credit checks as part of the verification process\r\n                    </p>\r\n                    {!step1Data.consent_credit_search && (\r\n                      <p style={{ margin: `${theme.spacing.xs} 0 0 0`, fontSize: theme.typography.fontSize.xs, color: theme.colors.error }}>\r\n                        This consent is required\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div style={{ display: 'flex', justifyContent: 'flex-end', marginTop: theme.spacing.xl }}>\r\n              <Button\r\n                variant=\"primary\"\r\n                onClick={nextStep}\r\n                disabled={!step1Data.consent_privacy || !step1Data.consent_terms || !step1Data.consent_credit_search}\r\n              >\r\n                Next: Company Verification\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Step 2: Company verification */}\r\n        {step === 2 && (\r\n          <div>\r\n            <h2 style={{\r\n              fontSize: theme.typography.fontSize['2xl'],\r\n              fontWeight: theme.typography.fontWeight.semibold,\r\n              margin: `0 0 ${theme.spacing.lg} 0`,\r\n            }}>\r\n              Company Verification (UK Only)\r\n            </h2>\r\n            <p style={{ color: theme.colors.textSecondary, marginBottom: theme.spacing.lg }}>\r\n              Search for your company using Companies House.\r\n            </p>\r\n\r\n            <div style={{ marginBottom: theme.spacing.lg }}>\r\n              <Select\r\n                label=\"Search By\"\r\n                value={step2Data.company_search_type}\r\n                onChange={(e) => setStep2Data({ ...step2Data, company_search_type: e.target.value })}\r\n              >\r\n                <option value=\"number\">Company Number</option>\r\n                <option value=\"name\">Company Name</option>\r\n              </Select>\r\n\r\n              {step2Data.company_search_type === 'number' ? (\r\n                <Input\r\n                  label=\"Company Number\"\r\n                  value={step2Data.company_number}\r\n                  onChange={(e) => setStep2Data({ ...step2Data, company_number: e.target.value })}\r\n                  placeholder=\"e.g., 12345678\"\r\n                  style={{ marginTop: theme.spacing.md }}\r\n                />\r\n              ) : (\r\n                <Input\r\n                  label=\"Company Name\"\r\n                  value={step2Data.company_name}\r\n                  onChange={(e) => setStep2Data({ ...step2Data, company_name: e.target.value })}\r\n                  placeholder=\"e.g., Example Company Ltd\"\r\n                  style={{ marginTop: theme.spacing.md }}\r\n                />\r\n              )}\r\n\r\n              <Button\r\n                variant=\"primary\"\r\n                onClick={handleCompanySearch}\r\n                loading={loading}\r\n                style={{ marginTop: theme.spacing.md }}\r\n              >\r\n                Search Company\r\n              </Button>\r\n            </div>\r\n\r\n            {/* Search Results List */}\r\n            {step2Data.show_search_results && step2Data.company_search_results.length > 0 && (\r\n              <div style={{ marginBottom: theme.spacing.xl }}>\r\n                <h3 style={{\r\n                  fontSize: theme.typography.fontSize.lg,\r\n                  fontWeight: theme.typography.fontWeight.semibold,\r\n                  margin: `0 0 ${theme.spacing.md} 0`,\r\n                }}>\r\n                  Select Company ({step2Data.company_search_results.length} found)\r\n                </h3>\r\n                <div style={{\r\n                  display: 'flex',\r\n                  flexDirection: 'column',\r\n                  gap: theme.spacing.sm,\r\n                  maxHeight: '400px',\r\n                  overflowY: 'auto',\r\n                  border: `1px solid ${theme.colors.gray200}`,\r\n                  borderRadius: theme.borderRadius.md,\r\n                  padding: theme.spacing.md,\r\n                  background: theme.colors.gray50,\r\n                }}>\r\n                  {step2Data.company_search_results.map((company) => (\r\n                    <div\r\n                      key={company.company_number}\r\n                      onClick={() => handleSelectCompany(company.company_number)}\r\n                      style={{\r\n                        padding: theme.spacing.md,\r\n                        border: `1px solid ${theme.colors.gray200}`,\r\n                        borderRadius: theme.borderRadius.md,\r\n                        cursor: 'pointer',\r\n                        transition: 'all 0.2s',\r\n                        background: theme.colors.white,\r\n                      }}\r\n                      onMouseEnter={(e) => {\r\n                        e.currentTarget.style.background = theme.colors.primaryLight;\r\n                        e.currentTarget.style.borderColor = theme.colors.primary;\r\n                      }}\r\n                      onMouseLeave={(e) => {\r\n                        e.currentTarget.style.background = theme.colors.white;\r\n                        e.currentTarget.style.borderColor = theme.colors.gray200;\r\n                      }}\r\n                    >\r\n                      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start' }}>\r\n                        <div style={{ flex: 1 }}>\r\n                          <p style={{\r\n                            margin: 0,\r\n                            fontWeight: theme.typography.fontWeight.semibold,\r\n                            fontSize: theme.typography.fontSize.base,\r\n                            color: theme.colors.textPrimary,\r\n                          }}>\r\n                            {company.company_name}\r\n                          </p>\r\n                          <p style={{\r\n                            margin: `${theme.spacing.xs} 0 0 0`,\r\n                            fontSize: theme.typography.fontSize.sm,\r\n                            color: theme.colors.textSecondary,\r\n                          }}>\r\n                            Company Number: {company.company_number}\r\n                          </p>\r\n                          {company.address_snippet && (\r\n                            <p style={{\r\n                              margin: `${theme.spacing.xs} 0 0 0`,\r\n                              fontSize: theme.typography.fontSize.sm,\r\n                              color: theme.colors.textSecondary,\r\n                            }}>\r\n                              {company.address_snippet}\r\n                            </p>\r\n                          )}\r\n                          <div style={{ display: 'flex', gap: theme.spacing.sm, marginTop: theme.spacing.xs, flexWrap: 'wrap', alignItems: 'center' }}>\r\n                            <Badge variant={company.company_status === 'active' ? 'success' : company.company_status === 'dissolved' ? 'warning' : 'error'}>\r\n                              {company.company_status || 'Unknown'}\r\n                            </Badge>\r\n                            {company.company_type && (\r\n                              <Badge variant=\"info\">\r\n                                {company.company_type}\r\n                              </Badge>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                        <Button\r\n                          variant=\"outline\"\r\n                          size=\"sm\"\r\n                          onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            handleSelectCompany(company.company_number);\r\n                          }}\r\n                          style={{ marginLeft: theme.spacing.md }}\r\n                        >\r\n                          Select\r\n                        </Button>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {step2Data.company_data && (\r\n              <div style={{ marginBottom: theme.spacing.xl }}>\r\n                <CompanyDetails \r\n                  companyNumber={step2Data.company_data.company_number}\r\n                  onAutoImport={async (result) => {\r\n                    setMessage('Company data imported successfully!');\r\n                    if (result && result.results) {\r\n                      setStep3Data(prev => ({\r\n                        ...prev,\r\n                        directors: result.results.directors || prev.directors,\r\n                        shareholders: result.results.shareholders || prev.shareholders,\r\n                      }));\r\n                    }\r\n                  }}\r\n                />\r\n                <div style={{ marginTop: theme.spacing.lg }}>\r\n                  <Input\r\n                    label=\"Trading Address (if different from registered address)\"\r\n                    value={step2Data.trading_address}\r\n                    onChange={(e) => setStep2Data({ ...step2Data, trading_address: e.target.value })}\r\n                    placeholder=\"Enter trading address if different\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: theme.spacing.xl }}>\r\n              <Button variant=\"outline\" onClick={prevStep}>\r\n                Previous\r\n              </Button>\r\n              <Button\r\n                variant=\"primary\"\r\n                onClick={nextStep}\r\n                disabled={!step2Data.company_data}\r\n              >\r\n                Next: Company Personnel\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Step 3: Directors and shareholders (with user assignment) */}\r\n        {step === 3 && (\r\n          <div>\r\n            <h2 style={{\r\n              fontSize: theme.typography.fontSize['2xl'],\r\n              fontWeight: theme.typography.fontWeight.semibold,\r\n              margin: `0 0 ${theme.spacing.lg} 0`,\r\n            }}>\r\n              Company Personnel & Account Assignment\r\n            </h2>\r\n            <p style={{ color: theme.colors.textSecondary, marginBottom: theme.spacing.lg }}>\r\n              Review the company directors and shareholders. Confirm key personnel and assign this account to the appropriate user.\r\n            </p>\r\n\r\n            <div style={{\r\n              ...commonStyles.card,\r\n              padding: theme.spacing.md,\r\n              marginBottom: theme.spacing.lg,\r\n              background: theme.colors.primaryLight,\r\n              border: `1px solid ${theme.colors.primary}`,\r\n            }}>\r\n              <p style={{ margin: 0, fontSize: theme.typography.fontSize.sm }}>\r\n                <strong>Note:</strong> The person using this account may be different from the company directors. \r\n                You can confirm company personnel for reference, but this account will be assigned to you (the current user).\r\n              </p>\r\n            </div>\r\n\r\n            {step2Data.company_data && (\r\n              <div>\r\n                {/* Directors */}\r\n                {step3Data.directors.length > 0 && (\r\n                  <div style={{ marginBottom: theme.spacing.xl }}>\r\n                    <h3 style={{ margin: `0 0 ${theme.spacing.md} 0` }}>Directors</h3>\r\n                    <div style={{ display: 'grid', gap: theme.spacing.md }}>\r\n                      {step3Data.directors.map((director, index) => (\r\n                        <div key={index} style={{\r\n                          ...commonStyles.card,\r\n                          padding: theme.spacing.md,\r\n                          display: 'flex',\r\n                          justifyContent: 'space-between',\r\n                          alignItems: 'center',\r\n                        }}>\r\n                          <div>\r\n                            <p style={{ margin: 0, fontWeight: theme.typography.fontWeight.medium }}>\r\n                              {director.name}\r\n                            </p>\r\n                            {director.nationality && (\r\n                              <p style={{ margin: `${theme.spacing.xs} 0 0 0`, fontSize: theme.typography.fontSize.sm, color: theme.colors.textSecondary }}>\r\n                                Nationality: {director.nationality}\r\n                              </p>\r\n                            )}\r\n                          </div>\r\n                          <Checkbox\r\n                            label=\"Confirm as Key Personnel\"\r\n                            checked={director.confirmed || false}\r\n                            onChange={(e) => {\r\n                              const updated = [...step3Data.directors];\r\n                              updated[index].confirmed = e.target.checked;\r\n                              const confirmed = updated.filter(d => d.confirmed);\r\n                              setStep3Data({\r\n                                ...step3Data,\r\n                                directors: updated,\r\n                                key_personnel_confirmed: [\r\n                                  ...step3Data.shareholders.filter(s => s.confirmed),\r\n                                  ...confirmed,\r\n                                ],\r\n                              });\r\n                            }}\r\n                          />\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Shareholders/PSCs */}\r\n                {step3Data.shareholders.length > 0 && (\r\n                  <div style={{ marginBottom: theme.spacing.xl }}>\r\n                    <h3 style={{ margin: `0 0 ${theme.spacing.md} 0` }}>Persons with Significant Control</h3>\r\n                    <div style={{ display: 'grid', gap: theme.spacing.md }}>\r\n                      {step3Data.shareholders.map((shareholder, index) => (\r\n                        <div key={index} style={{\r\n                          ...commonStyles.card,\r\n                          padding: theme.spacing.md,\r\n                          display: 'flex',\r\n                          justifyContent: 'space-between',\r\n                          alignItems: 'center',\r\n                        }}>\r\n                          <div>\r\n                            <p style={{ margin: 0, fontWeight: theme.typography.fontWeight.medium }}>\r\n                              {shareholder.name}\r\n                            </p>\r\n                            {shareholder.natures_of_control && (\r\n                              <p style={{ margin: `${theme.spacing.xs} 0 0 0`, fontSize: theme.typography.fontSize.sm, color: theme.colors.textSecondary }}>\r\n                                Control: {shareholder.natures_of_control.join(', ')}\r\n                              </p>\r\n                            )}\r\n                          </div>\r\n                          <Checkbox\r\n                            label=\"Confirm as Key Personnel\"\r\n                            checked={shareholder.confirmed || false}\r\n                            onChange={(e) => {\r\n                              const updated = [...step3Data.shareholders];\r\n                              updated[index].confirmed = e.target.checked;\r\n                              const confirmed = updated.filter(s => s.confirmed);\r\n                              setStep3Data({\r\n                                ...step3Data,\r\n                                shareholders: updated,\r\n                                key_personnel_confirmed: [\r\n                                  ...step3Data.directors.filter(d => d.confirmed),\r\n                                  ...confirmed,\r\n                                ],\r\n                              });\r\n                            }}\r\n                          />\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Account Assignment */}\r\n                <div style={{\r\n                  ...commonStyles.card,\r\n                  padding: theme.spacing.lg,\r\n                  marginTop: theme.spacing.xl,\r\n                  background: theme.colors.gray50,\r\n                }}>\r\n                  <h3 style={{ margin: `0 0 ${theme.spacing.md} 0` }}>Account Assignment</h3>\r\n                  <p style={{ color: theme.colors.textSecondary, marginBottom: theme.spacing.md }}>\r\n                    This account will be assigned to you (the current logged-in user). If you are not a director, \r\n                    you can still manage the lender profile on behalf of the company.\r\n                  </p>\r\n                  <Checkbox\r\n                    label=\"I am a director of this company\"\r\n                    checked={step3Data.account_holder_is_director}\r\n                    onChange={(e) => setStep3Data({ ...step3Data, account_holder_is_director: e.target.checked })}\r\n                  />\r\n                  {!step3Data.account_holder_is_director && (\r\n                    <div style={{ marginTop: theme.spacing.md }}>\r\n                      <Input\r\n                        label=\"Your Name\"\r\n                        value={step3Data.account_holder_name}\r\n                        onChange={(e) => setStep3Data({ ...step3Data, account_holder_name: e.target.value })}\r\n                        placeholder=\"Enter your full name\"\r\n                      />\r\n                      <Input\r\n                        label=\"Your Role\"\r\n                        value={step3Data.account_holder_role}\r\n                        onChange={(e) => setStep3Data({ ...step3Data, account_holder_role: e.target.value })}\r\n                        placeholder=\"e.g., Operations Manager, Finance Director\"\r\n                        style={{ marginTop: theme.spacing.md }}\r\n                      />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: theme.spacing.xl }}>\r\n              <Button variant=\"outline\" onClick={prevStep}>\r\n                Previous\r\n              </Button>\r\n              <Button\r\n                variant=\"primary\"\r\n                onClick={nextStep}\r\n              >\r\n                Next: Key Contact Details\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Step 4: Key contact details */}\r\n        {step === 4 && (\r\n          <div>\r\n            <h2 style={{\r\n              fontSize: theme.typography.fontSize['2xl'],\r\n              fontWeight: theme.typography.fontWeight.semibold,\r\n              margin: `0 0 ${theme.spacing.lg} 0`,\r\n            }}>\r\n              Key Contact Details\r\n            </h2>\r\n            <p style={{ color: theme.colors.textSecondary, marginBottom: theme.spacing.lg }}>\r\n              Provide the primary contact information for your organisation.\r\n            </p>\r\n\r\n            <div style={{ display: 'grid', gap: theme.spacing.lg, marginBottom: theme.spacing.xl }}>\r\n              <Input\r\n                label=\"Primary Contact Email *\"\r\n                type=\"email\"\r\n                value={step4Data.primary_contact_email}\r\n                onChange={(e) => setStep4Data({ ...step4Data, primary_contact_email: e.target.value })}\r\n                required\r\n              />\r\n              <Input\r\n                label=\"Primary Contact Phone *\"\r\n                type=\"tel\"\r\n                value={step4Data.primary_contact_phone}\r\n                onChange={(e) => setStep4Data({ ...step4Data, primary_contact_phone: e.target.value })}\r\n                required\r\n              />\r\n              <Input\r\n                label=\"Website\"\r\n                type=\"url\"\r\n                value={step4Data.website}\r\n                onChange={(e) => setStep4Data({ ...step4Data, website: e.target.value })}\r\n                placeholder=\"https://example.com\"\r\n              />\r\n              <Input\r\n                label=\"FCA Registration Number\"\r\n                value={step4Data.fca_registration_number}\r\n                onChange={(e) => setStep4Data({ ...step4Data, fca_registration_number: e.target.value })}\r\n                placeholder=\"If applicable\"\r\n              />\r\n              <Input\r\n                label=\"Financial Licences\"\r\n                value={step4Data.financial_licences}\r\n                onChange={(e) => setStep4Data({ ...step4Data, financial_licences: e.target.value })}\r\n                placeholder=\"Comma-separated list of licences\"\r\n              />\r\n              <Input\r\n                label=\"Membership Bodies\"\r\n                value={step4Data.membership_bodies}\r\n                onChange={(e) => setStep4Data({ ...step4Data, membership_bodies: e.target.value })}\r\n                placeholder=\"e.g., UK Finance, BBA\"\r\n              />\r\n            </div>\r\n\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: theme.spacing.xl }}>\r\n              <Button variant=\"outline\" onClick={prevStep}>\r\n                Previous\r\n              </Button>\r\n              <Button\r\n                variant=\"primary\"\r\n                onClick={nextStep}\r\n                disabled={!step4Data.primary_contact_email || !step4Data.primary_contact_phone}\r\n              >\r\n                Next: Additional Information\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Step 5: Additional lender details */}\r\n        {step === 5 && (\r\n          <div>\r\n            <h2 style={{\r\n              fontSize: theme.typography.fontSize['2xl'],\r\n              fontWeight: theme.typography.fontWeight.semibold,\r\n              margin: `0 0 ${theme.spacing.lg} 0`,\r\n            }}>\r\n              Additional Information\r\n            </h2>\r\n            <p style={{ color: theme.colors.textSecondary, marginBottom: theme.spacing.lg }}>\r\n              Provide additional details about your organisation (optional).\r\n            </p>\r\n\r\n            <div style={{ display: 'grid', gap: theme.spacing.lg, marginBottom: theme.spacing.xl }}>\r\n              <Input\r\n                label=\"Organisation Name\"\r\n                value={step5Data.organisation_name || step2Data.company_name}\r\n                onChange={(e) => setStep5Data({ ...step5Data, organisation_name: e.target.value })}\r\n                disabled={!!step2Data.company_name}\r\n                helperText={step2Data.company_name ? \"Auto-filled from company verification\" : \"\"}\r\n              />\r\n              <Input\r\n                label=\"Number of Employees\"\r\n                type=\"number\"\r\n                value={step5Data.number_of_employees}\r\n                onChange={(e) => setStep5Data({ ...step5Data, number_of_employees: e.target.value })}\r\n              />\r\n              <Textarea\r\n                label=\"Company Story\"\r\n                value={step5Data.company_story}\r\n                onChange={(e) => setStep5Data({ ...step5Data, company_story: e.target.value })}\r\n                rows={4}\r\n                placeholder=\"Tell us about your organisation...\"\r\n              />\r\n            </div>\r\n\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: theme.spacing.xl }}>\r\n              <Button variant=\"outline\" onClick={prevStep}>\r\n                Previous\r\n              </Button>\r\n              <Button\r\n                variant=\"primary\"\r\n                onClick={nextStep}\r\n              >\r\n                Next: Review\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Step 6: Review */}\r\n        {step === 6 && (\r\n          <div>\r\n            <h2 style={{\r\n              fontSize: theme.typography.fontSize['2xl'],\r\n              fontWeight: theme.typography.fontWeight.semibold,\r\n              margin: `0 0 ${theme.spacing.lg} 0`,\r\n            }}>\r\n              Review Your Information\r\n            </h2>\r\n            <p style={{ color: theme.colors.textSecondary, marginBottom: theme.spacing.lg }}>\r\n              Please review all information before submitting.\r\n            </p>\r\n\r\n            <div style={{ ...commonStyles.card, marginBottom: theme.spacing.lg }}>\r\n              <h3 style={{ margin: `0 0 ${theme.spacing.md} 0` }}>Account & Consent</h3>\r\n              <p><strong>Email:</strong> {step1Data.email}</p>\r\n              <p><strong>Mobile:</strong> {step1Data.mobile_number}</p>\r\n              <p><strong>MFA Enabled:</strong> {step1Data.mfa_enabled ? 'Yes' : 'No'}</p>\r\n              <p><strong>Consents:</strong> All confirmed</p>\r\n            </div>\r\n\r\n            {step2Data.company_data && (\r\n              <div style={{ ...commonStyles.card, marginBottom: theme.spacing.lg }}>\r\n                <h3 style={{ margin: `0 0 ${theme.spacing.md} 0` }}>Company</h3>\r\n                <p><strong>Name:</strong> {step2Data.company_data.company_name}</p>\r\n                <p><strong>Number:</strong> {step2Data.company_data.company_number}</p>\r\n                <p><strong>Status:</strong> {step2Data.company_data.company_status}</p>\r\n              </div>\r\n            )}\r\n\r\n            <div style={{ ...commonStyles.card, marginBottom: theme.spacing.lg }}>\r\n              <h3 style={{ margin: `0 0 ${theme.spacing.md} 0` }}>Contact</h3>\r\n              <p><strong>Email:</strong> {step4Data.primary_contact_email}</p>\r\n              <p><strong>Phone:</strong> {step4Data.primary_contact_phone}</p>\r\n              <p><strong>Website:</strong> {step4Data.website || 'Not provided'}</p>\r\n              <p><strong>FCA Registration:</strong> {step4Data.fca_registration_number || 'Not provided'}</p>\r\n            </div>\r\n\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: theme.spacing.xl }}>\r\n              <Button variant=\"outline\" onClick={prevStep}>\r\n                Previous\r\n              </Button>\r\n              <Button\r\n                variant=\"primary\"\r\n                onClick={handleSubmit}\r\n                loading={loading}\r\n              >\r\n                {loading ? 'Saving...' : 'Complete Profile'}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </Wizard>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LenderProfileWizard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}