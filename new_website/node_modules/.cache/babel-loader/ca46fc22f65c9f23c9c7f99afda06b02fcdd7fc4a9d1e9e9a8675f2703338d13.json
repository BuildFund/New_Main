{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\paul-\\\\OneDrive - BARE Capital Ltd\\\\BARE Drive\\\\10.0 BUILDFUND\\\\1.0 Website Dev\\\\GitHub\\\\new_website\\\\src\\\\pages\\\\ConsultantProfileWizard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport api from '../api';\nimport { theme, commonStyles } from '../styles/theme';\nimport Wizard from '../components/Wizard';\nimport Input from '../components/Input';\nimport Select from '../components/Select';\nimport Textarea from '../components/Textarea';\nimport Checkbox from '../components/Checkbox';\nimport Button from '../components/Button';\nimport CompanyDetails from '../components/CompanyDetails';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ConsultantProfileWizard() {\n  _s();\n  const navigate = useNavigate();\n  const [step, setStep] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [message, setMessage] = useState(null);\n  const [profile, setProfile] = useState(null);\n\n  // Step 1: Organisation & Company\n  const [step1Data, setStep1Data] = useState({\n    organisation_name: '',\n    trading_name: '',\n    company_registration_number: '',\n    company_data: null,\n    confirmed: false\n  });\n\n  // Step 2: Services & Qualifications\n  const [step2Data, setStep2Data] = useState({\n    primary_service: '',\n    services_offered: [],\n    qualifications: [],\n    professional_registration_numbers: {\n      rics: '',\n      sra: '',\n      cilex: ''\n    }\n  });\n\n  // Step 3: Contact & Location\n  const [step3Data, setStep3Data] = useState({\n    contact_email: '',\n    contact_phone: '',\n    website: '',\n    address_line_1: '',\n    address_line_2: '',\n    city: '',\n    county: '',\n    postcode: '',\n    country: 'United Kingdom',\n    geographic_coverage: []\n  });\n\n  // Step 4: Service Details\n  const [step4Data, setStep4Data] = useState({\n    service_description: '',\n    years_of_experience: '',\n    team_size: '',\n    key_personnel: []\n  });\n\n  // Step 5: Capacity & Availability\n  const [step5Data, setStep5Data] = useState({\n    current_capacity: '10',\n    max_capacity: '20',\n    average_response_time_days: '3'\n  });\n\n  // Step 6: Insurance & Compliance\n  const [step6Data, setStep6Data] = useState({\n    insurance_details: {\n      provider: '',\n      policy_number: '',\n      expiry_date: '',\n      coverage_amount: ''\n    },\n    compliance_certifications: []\n  });\n  const steps = ['Organisation & Company', 'Services & Qualifications', 'Contact & Location', 'Service Details', 'Capacity & Availability', 'Insurance & Compliance'];\n  useEffect(() => {\n    fetchProfile();\n  }, []);\n  const fetchProfile = async () => {\n    try {\n      const response = await api.get('/api/consultants/profiles/');\n      const data = Array.isArray(response.data) ? response.data[0] : response.data;\n      if (data) {\n        var _data$years_of_experi, _data$team_size, _data$current_capacit, _data$max_capacity, _data$average_respons;\n        setProfile(data);\n        // Pre-fill form data\n        setStep1Data({\n          organisation_name: data.organisation_name || '',\n          trading_name: data.trading_name || '',\n          company_registration_number: data.company_registration_number || '',\n          company_data: data.company_data || null,\n          confirmed: !!data.company_registration_number\n        });\n        setStep2Data({\n          primary_service: data.primary_service || '',\n          services_offered: data.services_offered || [],\n          qualifications: data.qualifications || [],\n          professional_registration_numbers: data.professional_registration_numbers || {\n            rics: '',\n            sra: '',\n            cilex: ''\n          }\n        });\n        setStep3Data({\n          contact_email: data.contact_email || '',\n          contact_phone: data.contact_phone || '',\n          website: data.website || '',\n          address_line_1: data.address_line_1 || '',\n          address_line_2: data.address_line_2 || '',\n          city: data.city || '',\n          county: data.county || '',\n          postcode: data.postcode || '',\n          country: data.country || 'United Kingdom',\n          geographic_coverage: data.geographic_coverage || []\n        });\n        setStep4Data({\n          service_description: data.service_description || '',\n          years_of_experience: ((_data$years_of_experi = data.years_of_experience) === null || _data$years_of_experi === void 0 ? void 0 : _data$years_of_experi.toString()) || '',\n          team_size: ((_data$team_size = data.team_size) === null || _data$team_size === void 0 ? void 0 : _data$team_size.toString()) || '',\n          key_personnel: data.key_personnel || []\n        });\n        setStep5Data({\n          current_capacity: ((_data$current_capacit = data.current_capacity) === null || _data$current_capacit === void 0 ? void 0 : _data$current_capacit.toString()) || '10',\n          max_capacity: ((_data$max_capacity = data.max_capacity) === null || _data$max_capacity === void 0 ? void 0 : _data$max_capacity.toString()) || '20',\n          average_response_time_days: ((_data$average_respons = data.average_response_time_days) === null || _data$average_respons === void 0 ? void 0 : _data$average_respons.toString()) || '3'\n        });\n        setStep6Data({\n          insurance_details: data.insurance_details || {\n            provider: '',\n            policy_number: '',\n            expiry_date: '',\n            coverage_amount: ''\n          },\n          compliance_certifications: data.compliance_certifications || []\n        });\n      }\n    } catch (err) {\n      var _err$response;\n      console.error('Failed to fetch profile:', err);\n      if (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) !== 404) {\n        setError('Failed to load profile');\n      }\n    }\n  };\n  const handleCompanySearch = async () => {\n    if (!step1Data.company_registration_number) {\n      setError('Please enter a company number');\n      return;\n    }\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await api.post('/api/consultants/verify-and-import-company/', {\n        company_number: step1Data.company_registration_number\n      });\n      setStep1Data({\n        ...step1Data,\n        company_data: response.data,\n        organisation_name: response.data.company_name || step1Data.organisation_name,\n        confirmed: true\n      });\n      setMessage('Company verified successfully');\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      console.error('Company verification failed:', err);\n      setError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.error) || 'Failed to verify company');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleSaveAndContinue = async () => {\n    setError(null);\n    setMessage(null);\n    if (step < steps.length) {\n      // Auto-save current step\n      try {\n        const payload = buildPayload();\n        if (profile) {\n          await api.put(`/api/consultants/profiles/${profile.id}/`, payload);\n        } else {\n          const response = await api.post('/api/consultants/profiles/', payload);\n          setProfile(response.data);\n        }\n        setStep(step + 1);\n      } catch (err) {\n        var _err$response3, _err$response3$data;\n        console.error('Save failed:', err);\n        setError(((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.detail) || 'Failed to save profile');\n      }\n    } else {\n      // Final step - complete profile\n      await handleSubmit();\n    }\n  };\n  const handleSubmit = async () => {\n    setLoading(true);\n    setError(null);\n    setMessage(null);\n    try {\n      const payload = buildPayload();\n      if (profile) {\n        await api.put(`/api/consultants/profiles/${profile.id}/`, payload);\n        setMessage('Profile updated successfully');\n      } else {\n        await api.post('/api/consultants/profiles/', payload);\n        setMessage('Profile created successfully');\n      }\n      setTimeout(() => {\n        navigate('/consultant/profile');\n      }, 1500);\n    } catch (err) {\n      var _err$response4, _err$response4$data;\n      console.error('Submit failed:', err);\n      setError(((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.detail) || 'Failed to save profile');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const buildPayload = () => {\n    // Clean up professional registration numbers - only include non-empty values\n    const regNumbers = {};\n    if (step2Data.professional_registration_numbers.rics) {\n      regNumbers.rics = step2Data.professional_registration_numbers.rics;\n    }\n    if (step2Data.professional_registration_numbers.sra) {\n      regNumbers.sra = step2Data.professional_registration_numbers.sra;\n    }\n    if (step2Data.professional_registration_numbers.cilex) {\n      regNumbers.cilex = step2Data.professional_registration_numbers.cilex;\n    }\n    return {\n      organisation_name: step1Data.organisation_name,\n      trading_name: step1Data.trading_name,\n      company_registration_number: step1Data.company_registration_number,\n      primary_service: step2Data.primary_service,\n      services_offered: step2Data.services_offered,\n      qualifications: step2Data.qualifications,\n      professional_registration_numbers: regNumbers,\n      contact_email: step3Data.contact_email,\n      contact_phone: step3Data.contact_phone,\n      website: step3Data.website,\n      address_line_1: step3Data.address_line_1,\n      address_line_2: step3Data.address_line_2,\n      city: step3Data.city,\n      county: step3Data.county,\n      postcode: step3Data.postcode,\n      country: step3Data.country,\n      geographic_coverage: step3Data.geographic_coverage,\n      service_description: step4Data.service_description,\n      years_of_experience: step4Data.years_of_experience ? parseInt(step4Data.years_of_experience) : null,\n      team_size: step4Data.team_size ? parseInt(step4Data.team_size) : null,\n      key_personnel: step4Data.key_personnel,\n      current_capacity: parseInt(step5Data.current_capacity),\n      max_capacity: parseInt(step5Data.max_capacity),\n      average_response_time_days: parseInt(step5Data.average_response_time_days),\n      insurance_details: step6Data.insurance_details,\n      compliance_certifications: step6Data.compliance_certifications\n    };\n  };\n  const renderStep = () => {\n    switch (step) {\n      case 1:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              marginBottom: theme.spacing.lg\n            },\n            children: \"Organisation & Company\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gap: theme.spacing.md\n            },\n            children: [/*#__PURE__*/_jsxDEV(Input, {\n              label: \"Organisation Name *\",\n              name: \"organisation_name\",\n              value: step1Data.organisation_name,\n              onChange: e => setStep1Data({\n                ...step1Data,\n                organisation_name: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              label: \"Trading Name (if different)\",\n              name: \"trading_name\",\n              value: step1Data.trading_name,\n              onChange: e => setStep1Data({\n                ...step1Data,\n                trading_name: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Input, {\n                label: \"Company Registration Number\",\n                name: \"company_registration_number\",\n                value: step1Data.company_registration_number,\n                onChange: e => setStep1Data({\n                  ...step1Data,\n                  company_registration_number: e.target.value\n                }),\n                placeholder: \"e.g., 12345678\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                onClick: handleCompanySearch,\n                loading: loading,\n                disabled: !step1Data.company_registration_number,\n                style: {\n                  marginTop: theme.spacing.sm\n                },\n                children: \"Verify Company\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 15\n            }, this), step1Data.company_data && /*#__PURE__*/_jsxDEV(CompanyDetails, {\n              companyNumber: step1Data.company_registration_number,\n              apiBasePath: \"/api/verification/company\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, this);\n      case 2:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              marginBottom: theme.spacing.lg\n            },\n            children: \"Services & Qualifications\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gap: theme.spacing.md\n            },\n            children: [/*#__PURE__*/_jsxDEV(Select, {\n              label: \"Primary Service Type *\",\n              name: \"primary_service\",\n              value: step2Data.primary_service,\n              onChange: e => setStep2Data({\n                ...step2Data,\n                primary_service: e.target.value\n              }),\n              options: [{\n                value: '',\n                label: 'Select service type'\n              }, {\n                value: 'solicitor',\n                label: 'Solicitor'\n              }, {\n                value: 'monitoring_surveyor',\n                label: 'Monitoring Surveyor'\n              }, {\n                value: 'valuation',\n                label: 'Valuation'\n              }, {\n                value: 'other',\n                label: 'Other Professional Service'\n              }],\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  ...commonStyles.label,\n                  marginBottom: theme.spacing.sm,\n                  display: 'block'\n                },\n                children: \"Services Offered *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 17\n              }, this), ['solicitor', 'monitoring_surveyor', 'valuation', 'other'].map(service => /*#__PURE__*/_jsxDEV(Checkbox, {\n                label: service.replace('_', ' ').replace(/\\b\\w/g, l => l.toUpperCase()),\n                checked: step2Data.services_offered.includes(service),\n                onChange: e => {\n                  const services = e.target.checked ? [...step2Data.services_offered, service] : step2Data.services_offered.filter(s => s !== service);\n                  setStep2Data({\n                    ...step2Data,\n                    services_offered: services\n                  });\n                }\n              }, service, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  ...commonStyles.label,\n                  marginBottom: theme.spacing.sm,\n                  display: 'block'\n                },\n                children: \"Qualifications\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 17\n              }, this), ['rics', 'rics_monitoring', 'rics_valuation', 'sra', 'cilex', 'other'].map(qual => /*#__PURE__*/_jsxDEV(Checkbox, {\n                label: qual.replace('_', ' ').replace(/\\b\\w/g, l => l.toUpperCase()),\n                checked: step2Data.qualifications.includes(qual),\n                onChange: e => {\n                  const quals = e.target.checked ? [...step2Data.qualifications, qual] : step2Data.qualifications.filter(q => q !== qual);\n                  setStep2Data({\n                    ...step2Data,\n                    qualifications: quals\n                  });\n                }\n              }, qual, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              label: \"RICS Number\",\n              name: \"rics_number\",\n              value: step2Data.professional_registration_numbers.rics,\n              onChange: e => setStep2Data({\n                ...step2Data,\n                professional_registration_numbers: {\n                  ...step2Data.professional_registration_numbers,\n                  rics: e.target.value\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              label: \"SRA Number\",\n              name: \"sra_number\",\n              value: step2Data.professional_registration_numbers.sra,\n              onChange: e => setStep2Data({\n                ...step2Data,\n                professional_registration_numbers: {\n                  ...step2Data.professional_registration_numbers,\n                  sra: e.target.value\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              label: \"CILEX Number\",\n              name: \"cilex_number\",\n              value: step2Data.professional_registration_numbers.cilex,\n              onChange: e => setStep2Data({\n                ...step2Data,\n                professional_registration_numbers: {\n                  ...step2Data.professional_registration_numbers,\n                  cilex: e.target.value\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 11\n        }, this);\n      case 3:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              marginBottom: theme.spacing.lg\n            },\n            children: \"Contact & Location\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gap: theme.spacing.md\n            },\n            children: [/*#__PURE__*/_jsxDEV(Input, {\n              label: \"Contact Email *\",\n              name: \"contact_email\",\n              type: \"email\",\n              value: step3Data.contact_email,\n              onChange: e => setStep3Data({\n                ...step3Data,\n                contact_email: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              label: \"Contact Phone\",\n              name: \"contact_phone\",\n              value: step3Data.contact_phone,\n              onChange: e => setStep3Data({\n                ...step3Data,\n                contact_phone: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              label: \"Website\",\n              name: \"website\",\n              type: \"url\",\n              value: step3Data.website,\n              onChange: e => setStep3Data({\n                ...step3Data,\n                website: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              label: \"Address Line 1\",\n              name: \"address_line_1\",\n              value: step3Data.address_line_1,\n              onChange: e => setStep3Data({\n                ...step3Data,\n                address_line_1: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              label: \"Address Line 2\",\n              name: \"address_line_2\",\n              value: step3Data.address_line_2,\n              onChange: e => setStep3Data({\n                ...step3Data,\n                address_line_2: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              label: \"City\",\n              name: \"city\",\n              value: step3Data.city,\n              onChange: e => setStep3Data({\n                ...step3Data,\n                city: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              label: \"County\",\n              name: \"county\",\n              value: step3Data.county,\n              onChange: e => setStep3Data({\n                ...step3Data,\n                county: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              label: \"Postcode\",\n              name: \"postcode\",\n              value: step3Data.postcode,\n              onChange: e => setStep3Data({\n                ...step3Data,\n                postcode: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              label: \"Country\",\n              name: \"country\",\n              value: step3Data.country,\n              onChange: e => setStep3Data({\n                ...step3Data,\n                country: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n              label: \"Geographic Coverage (one per line)\",\n              name: \"geographic_coverage\",\n              value: step3Data.geographic_coverage.join('\\n'),\n              onChange: e => setStep3Data({\n                ...step3Data,\n                geographic_coverage: e.target.value.split('\\n').filter(line => line.trim())\n              }),\n              rows: 4\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 484,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 11\n        }, this);\n      case 4:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              marginBottom: theme.spacing.lg\n            },\n            children: \"Service Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gap: theme.spacing.md\n            },\n            children: [/*#__PURE__*/_jsxDEV(Textarea, {\n              label: \"Service Description\",\n              name: \"service_description\",\n              value: step4Data.service_description,\n              onChange: e => setStep4Data({\n                ...step4Data,\n                service_description: e.target.value\n              }),\n              rows: 6\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 503,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              label: \"Years of Experience\",\n              name: \"years_of_experience\",\n              type: \"number\",\n              value: step4Data.years_of_experience,\n              onChange: e => setStep4Data({\n                ...step4Data,\n                years_of_experience: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 510,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              label: \"Team Size\",\n              name: \"team_size\",\n              type: \"number\",\n              value: step4Data.team_size,\n              onChange: e => setStep4Data({\n                ...step4Data,\n                team_size: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 517,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n              label: \"Key Personnel (JSON format)\",\n              name: \"key_personnel\",\n              value: JSON.stringify(step4Data.key_personnel, null, 2),\n              onChange: e => {\n                try {\n                  const parsed = JSON.parse(e.target.value);\n                  setStep4Data({\n                    ...step4Data,\n                    key_personnel: Array.isArray(parsed) ? parsed : []\n                  });\n                } catch (err) {\n                  // Invalid JSON, keep as is\n                }\n              },\n              rows: 6,\n              placeholder: \"[{\\\"name\\\": \\\"John Doe\\\", \\\"role\\\": \\\"Senior Partner\\\", \\\"qualifications\\\": \\\"RICS\\\"}]\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 524,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 502,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 500,\n          columnNumber: 11\n        }, this);\n      case 5:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              marginBottom: theme.spacing.lg\n            },\n            children: \"Capacity & Availability\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 546,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gap: theme.spacing.md\n            },\n            children: [/*#__PURE__*/_jsxDEV(Input, {\n              label: \"Current Capacity (active projects)\",\n              name: \"current_capacity\",\n              type: \"number\",\n              value: step5Data.current_capacity,\n              onChange: e => setStep5Data({\n                ...step5Data,\n                current_capacity: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 548,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              label: \"Maximum Capacity\",\n              name: \"max_capacity\",\n              type: \"number\",\n              value: step5Data.max_capacity,\n              onChange: e => setStep5Data({\n                ...step5Data,\n                max_capacity: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 555,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              label: \"Average Response Time (days)\",\n              name: \"average_response_time_days\",\n              type: \"number\",\n              value: step5Data.average_response_time_days,\n              onChange: e => setStep5Data({\n                ...step5Data,\n                average_response_time_days: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 562,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 547,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 545,\n          columnNumber: 11\n        }, this);\n      case 6:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              marginBottom: theme.spacing.lg\n            },\n            children: \"Insurance & Compliance\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 576,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gap: theme.spacing.md\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                fontSize: theme.typography.fontSize.lg,\n                marginBottom: theme.spacing.md\n              },\n              children: \"Professional Indemnity Insurance\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 578,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              label: \"Insurance Provider\",\n              name: \"insurance_provider\",\n              value: step6Data.insurance_details.provider,\n              onChange: e => setStep6Data({\n                ...step6Data,\n                insurance_details: {\n                  ...step6Data.insurance_details,\n                  provider: e.target.value\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 581,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              label: \"Policy Number\",\n              name: \"policy_number\",\n              value: step6Data.insurance_details.policy_number,\n              onChange: e => setStep6Data({\n                ...step6Data,\n                insurance_details: {\n                  ...step6Data.insurance_details,\n                  policy_number: e.target.value\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 590,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              label: \"Expiry Date\",\n              name: \"expiry_date\",\n              type: \"date\",\n              value: step6Data.insurance_details.expiry_date,\n              onChange: e => setStep6Data({\n                ...step6Data,\n                insurance_details: {\n                  ...step6Data.insurance_details,\n                  expiry_date: e.target.value\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 599,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              label: \"Coverage Amount\",\n              name: \"coverage_amount\",\n              value: step6Data.insurance_details.coverage_amount,\n              onChange: e => setStep6Data({\n                ...step6Data,\n                insurance_details: {\n                  ...step6Data.insurance_details,\n                  coverage_amount: e.target.value\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 609,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n              label: \"Compliance Certifications (one per line)\",\n              name: \"compliance_certifications\",\n              value: step6Data.compliance_certifications.join('\\n'),\n              onChange: e => setStep6Data({\n                ...step6Data,\n                compliance_certifications: e.target.value.split('\\n').filter(line => line.trim())\n              }),\n              rows: 4,\n              placeholder: \"e.g., ISO 9001, FCA Authorised\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 618,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 577,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 575,\n          columnNumber: 11\n        }, this);\n      default:\n        return null;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      ...commonStyles.container,\n      padding: theme.spacing.xl\n    },\n    children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: theme.colors.errorLight,\n        color: theme.colors.errorDark,\n        padding: theme.spacing.md,\n        borderRadius: theme.borderRadius.md,\n        marginBottom: theme.spacing.lg\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 641,\n      columnNumber: 9\n    }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: theme.colors.successLight,\n        color: theme.colors.successDark,\n        padding: theme.spacing.md,\n        borderRadius: theme.borderRadius.md,\n        marginBottom: theme.spacing.lg\n      },\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 652,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Wizard, {\n      steps: steps,\n      currentStep: step,\n      onNext: handleSaveAndContinue,\n      onPrevious: () => setStep(step - 1),\n      onFinish: handleSubmit,\n      loading: loading,\n      canGoNext: step === 1 ? step1Data.organisation_name : true,\n      children: renderStep()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 662,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 639,\n    columnNumber: 5\n  }, this);\n}\n_s(ConsultantProfileWizard, \"raCfSpj/BH5odohwQk0pgp9ybpU=\", false, function () {\n  return [useNavigate];\n});\n_c = ConsultantProfileWizard;\nexport default ConsultantProfileWizard;\nvar _c;\n$RefreshReg$(_c, \"ConsultantProfileWizard\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","api","theme","commonStyles","Wizard","Input","Select","Textarea","Checkbox","Button","CompanyDetails","jsxDEV","_jsxDEV","ConsultantProfileWizard","_s","navigate","step","setStep","loading","setLoading","error","setError","message","setMessage","profile","setProfile","step1Data","setStep1Data","organisation_name","trading_name","company_registration_number","company_data","confirmed","step2Data","setStep2Data","primary_service","services_offered","qualifications","professional_registration_numbers","rics","sra","cilex","step3Data","setStep3Data","contact_email","contact_phone","website","address_line_1","address_line_2","city","county","postcode","country","geographic_coverage","step4Data","setStep4Data","service_description","years_of_experience","team_size","key_personnel","step5Data","setStep5Data","current_capacity","max_capacity","average_response_time_days","step6Data","setStep6Data","insurance_details","provider","policy_number","expiry_date","coverage_amount","compliance_certifications","steps","fetchProfile","response","get","data","Array","isArray","_data$years_of_experi","_data$team_size","_data$current_capacit","_data$max_capacity","_data$average_respons","toString","err","_err$response","console","status","handleCompanySearch","post","company_number","company_name","_err$response2","_err$response2$data","handleSaveAndContinue","length","payload","buildPayload","put","id","_err$response3","_err$response3$data","detail","handleSubmit","setTimeout","_err$response4","_err$response4$data","regNumbers","parseInt","renderStep","children","style","marginBottom","spacing","lg","fileName","_jsxFileName","lineNumber","columnNumber","display","gap","md","label","name","value","onChange","e","target","required","placeholder","onClick","disabled","marginTop","sm","companyNumber","apiBasePath","options","map","service","replace","l","toUpperCase","checked","includes","services","filter","s","qual","quals","q","type","join","split","line","trim","rows","JSON","stringify","parsed","parse","fontSize","typography","container","padding","xl","background","colors","errorLight","color","errorDark","borderRadius","successLight","successDark","currentStep","onNext","onPrevious","onFinish","canGoNext","_c","$RefreshReg$"],"sources":["C:/Users/paul-/OneDrive - BARE Capital Ltd/BARE Drive/10.0 BUILDFUND/1.0 Website Dev/GitHub/new_website/src/pages/ConsultantProfileWizard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport api from '../api';\r\nimport { theme, commonStyles } from '../styles/theme';\r\nimport Wizard from '../components/Wizard';\r\nimport Input from '../components/Input';\r\nimport Select from '../components/Select';\r\nimport Textarea from '../components/Textarea';\r\nimport Checkbox from '../components/Checkbox';\r\nimport Button from '../components/Button';\r\nimport CompanyDetails from '../components/CompanyDetails';\r\n\r\nfunction ConsultantProfileWizard() {\r\n  const navigate = useNavigate();\r\n  const [step, setStep] = useState(1);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [message, setMessage] = useState(null);\r\n  const [profile, setProfile] = useState(null);\r\n\r\n  // Step 1: Organisation & Company\r\n  const [step1Data, setStep1Data] = useState({\r\n    organisation_name: '',\r\n    trading_name: '',\r\n    company_registration_number: '',\r\n    company_data: null,\r\n    confirmed: false,\r\n  });\r\n\r\n  // Step 2: Services & Qualifications\r\n  const [step2Data, setStep2Data] = useState({\r\n    primary_service: '',\r\n    services_offered: [],\r\n    qualifications: [],\r\n    professional_registration_numbers: {\r\n      rics: '',\r\n      sra: '',\r\n      cilex: '',\r\n    },\r\n  });\r\n\r\n  // Step 3: Contact & Location\r\n  const [step3Data, setStep3Data] = useState({\r\n    contact_email: '',\r\n    contact_phone: '',\r\n    website: '',\r\n    address_line_1: '',\r\n    address_line_2: '',\r\n    city: '',\r\n    county: '',\r\n    postcode: '',\r\n    country: 'United Kingdom',\r\n    geographic_coverage: [],\r\n  });\r\n\r\n  // Step 4: Service Details\r\n  const [step4Data, setStep4Data] = useState({\r\n    service_description: '',\r\n    years_of_experience: '',\r\n    team_size: '',\r\n    key_personnel: [],\r\n  });\r\n\r\n  // Step 5: Capacity & Availability\r\n  const [step5Data, setStep5Data] = useState({\r\n    current_capacity: '10',\r\n    max_capacity: '20',\r\n    average_response_time_days: '3',\r\n  });\r\n\r\n  // Step 6: Insurance & Compliance\r\n  const [step6Data, setStep6Data] = useState({\r\n    insurance_details: {\r\n      provider: '',\r\n      policy_number: '',\r\n      expiry_date: '',\r\n      coverage_amount: '',\r\n    },\r\n    compliance_certifications: [],\r\n  });\r\n\r\n  const steps = [\r\n    'Organisation & Company',\r\n    'Services & Qualifications',\r\n    'Contact & Location',\r\n    'Service Details',\r\n    'Capacity & Availability',\r\n    'Insurance & Compliance',\r\n  ];\r\n\r\n  useEffect(() => {\r\n    fetchProfile();\r\n  }, []);\r\n\r\n  const fetchProfile = async () => {\r\n    try {\r\n      const response = await api.get('/api/consultants/profiles/');\r\n      const data = Array.isArray(response.data) ? response.data[0] : response.data;\r\n      if (data) {\r\n        setProfile(data);\r\n        // Pre-fill form data\r\n        setStep1Data({\r\n          organisation_name: data.organisation_name || '',\r\n          trading_name: data.trading_name || '',\r\n          company_registration_number: data.company_registration_number || '',\r\n          company_data: data.company_data || null,\r\n          confirmed: !!data.company_registration_number,\r\n        });\r\n        setStep2Data({\r\n          primary_service: data.primary_service || '',\r\n          services_offered: data.services_offered || [],\r\n          qualifications: data.qualifications || [],\r\n          professional_registration_numbers: data.professional_registration_numbers || {\r\n            rics: '',\r\n            sra: '',\r\n            cilex: '',\r\n          },\r\n        });\r\n        setStep3Data({\r\n          contact_email: data.contact_email || '',\r\n          contact_phone: data.contact_phone || '',\r\n          website: data.website || '',\r\n          address_line_1: data.address_line_1 || '',\r\n          address_line_2: data.address_line_2 || '',\r\n          city: data.city || '',\r\n          county: data.county || '',\r\n          postcode: data.postcode || '',\r\n          country: data.country || 'United Kingdom',\r\n          geographic_coverage: data.geographic_coverage || [],\r\n        });\r\n        setStep4Data({\r\n          service_description: data.service_description || '',\r\n          years_of_experience: data.years_of_experience?.toString() || '',\r\n          team_size: data.team_size?.toString() || '',\r\n          key_personnel: data.key_personnel || [],\r\n        });\r\n        setStep5Data({\r\n          current_capacity: data.current_capacity?.toString() || '10',\r\n          max_capacity: data.max_capacity?.toString() || '20',\r\n          average_response_time_days: data.average_response_time_days?.toString() || '3',\r\n        });\r\n        setStep6Data({\r\n          insurance_details: data.insurance_details || {\r\n            provider: '',\r\n            policy_number: '',\r\n            expiry_date: '',\r\n            coverage_amount: '',\r\n          },\r\n          compliance_certifications: data.compliance_certifications || [],\r\n        });\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to fetch profile:', err);\r\n      if (err.response?.status !== 404) {\r\n        setError('Failed to load profile');\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleCompanySearch = async () => {\r\n    if (!step1Data.company_registration_number) {\r\n      setError('Please enter a company number');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const response = await api.post('/api/consultants/verify-and-import-company/', {\r\n        company_number: step1Data.company_registration_number,\r\n      });\r\n      setStep1Data({\r\n        ...step1Data,\r\n        company_data: response.data,\r\n        organisation_name: response.data.company_name || step1Data.organisation_name,\r\n        confirmed: true,\r\n      });\r\n      setMessage('Company verified successfully');\r\n    } catch (err) {\r\n      console.error('Company verification failed:', err);\r\n      setError(err.response?.data?.error || 'Failed to verify company');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSaveAndContinue = async () => {\r\n    setError(null);\r\n    setMessage(null);\r\n\r\n    if (step < steps.length) {\r\n      // Auto-save current step\r\n      try {\r\n        const payload = buildPayload();\r\n        if (profile) {\r\n          await api.put(`/api/consultants/profiles/${profile.id}/`, payload);\r\n        } else {\r\n          const response = await api.post('/api/consultants/profiles/', payload);\r\n          setProfile(response.data);\r\n        }\r\n        setStep(step + 1);\r\n      } catch (err) {\r\n        console.error('Save failed:', err);\r\n        setError(err.response?.data?.detail || 'Failed to save profile');\r\n      }\r\n    } else {\r\n      // Final step - complete profile\r\n      await handleSubmit();\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    setMessage(null);\r\n\r\n    try {\r\n      const payload = buildPayload();\r\n      if (profile) {\r\n        await api.put(`/api/consultants/profiles/${profile.id}/`, payload);\r\n        setMessage('Profile updated successfully');\r\n      } else {\r\n        await api.post('/api/consultants/profiles/', payload);\r\n        setMessage('Profile created successfully');\r\n      }\r\n      setTimeout(() => {\r\n        navigate('/consultant/profile');\r\n      }, 1500);\r\n    } catch (err) {\r\n      console.error('Submit failed:', err);\r\n      setError(err.response?.data?.detail || 'Failed to save profile');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const buildPayload = () => {\r\n    // Clean up professional registration numbers - only include non-empty values\r\n    const regNumbers = {};\r\n    if (step2Data.professional_registration_numbers.rics) {\r\n      regNumbers.rics = step2Data.professional_registration_numbers.rics;\r\n    }\r\n    if (step2Data.professional_registration_numbers.sra) {\r\n      regNumbers.sra = step2Data.professional_registration_numbers.sra;\r\n    }\r\n    if (step2Data.professional_registration_numbers.cilex) {\r\n      regNumbers.cilex = step2Data.professional_registration_numbers.cilex;\r\n    }\r\n\r\n    return {\r\n      organisation_name: step1Data.organisation_name,\r\n      trading_name: step1Data.trading_name,\r\n      company_registration_number: step1Data.company_registration_number,\r\n      primary_service: step2Data.primary_service,\r\n      services_offered: step2Data.services_offered,\r\n      qualifications: step2Data.qualifications,\r\n      professional_registration_numbers: regNumbers,\r\n      contact_email: step3Data.contact_email,\r\n      contact_phone: step3Data.contact_phone,\r\n      website: step3Data.website,\r\n      address_line_1: step3Data.address_line_1,\r\n      address_line_2: step3Data.address_line_2,\r\n      city: step3Data.city,\r\n      county: step3Data.county,\r\n      postcode: step3Data.postcode,\r\n      country: step3Data.country,\r\n      geographic_coverage: step3Data.geographic_coverage,\r\n      service_description: step4Data.service_description,\r\n      years_of_experience: step4Data.years_of_experience ? parseInt(step4Data.years_of_experience) : null,\r\n      team_size: step4Data.team_size ? parseInt(step4Data.team_size) : null,\r\n      key_personnel: step4Data.key_personnel,\r\n      current_capacity: parseInt(step5Data.current_capacity),\r\n      max_capacity: parseInt(step5Data.max_capacity),\r\n      average_response_time_days: parseInt(step5Data.average_response_time_days),\r\n      insurance_details: step6Data.insurance_details,\r\n      compliance_certifications: step6Data.compliance_certifications,\r\n    };\r\n  };\r\n\r\n  const renderStep = () => {\r\n    switch (step) {\r\n      case 1:\r\n        return (\r\n          <div>\r\n            <h2 style={{ marginBottom: theme.spacing.lg }}>Organisation & Company</h2>\r\n            <div style={{ display: 'grid', gap: theme.spacing.md }}>\r\n              <Input\r\n                label=\"Organisation Name *\"\r\n                name=\"organisation_name\"\r\n                value={step1Data.organisation_name}\r\n                onChange={(e) => setStep1Data({ ...step1Data, organisation_name: e.target.value })}\r\n                required\r\n              />\r\n              <Input\r\n                label=\"Trading Name (if different)\"\r\n                name=\"trading_name\"\r\n                value={step1Data.trading_name}\r\n                onChange={(e) => setStep1Data({ ...step1Data, trading_name: e.target.value })}\r\n              />\r\n              <div>\r\n                <Input\r\n                  label=\"Company Registration Number\"\r\n                  name=\"company_registration_number\"\r\n                  value={step1Data.company_registration_number}\r\n                  onChange={(e) => setStep1Data({ ...step1Data, company_registration_number: e.target.value })}\r\n                  placeholder=\"e.g., 12345678\"\r\n                />\r\n                <Button\r\n                  onClick={handleCompanySearch}\r\n                  loading={loading}\r\n                  disabled={!step1Data.company_registration_number}\r\n                  style={{ marginTop: theme.spacing.sm }}\r\n                >\r\n                  Verify Company\r\n                </Button>\r\n              </div>\r\n              {step1Data.company_data && (\r\n                <CompanyDetails\r\n                  companyNumber={step1Data.company_registration_number}\r\n                  apiBasePath=\"/api/verification/company\"\r\n                />\r\n              )}\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 2:\r\n        return (\r\n          <div>\r\n            <h2 style={{ marginBottom: theme.spacing.lg }}>Services & Qualifications</h2>\r\n            <div style={{ display: 'grid', gap: theme.spacing.md }}>\r\n              <Select\r\n                label=\"Primary Service Type *\"\r\n                name=\"primary_service\"\r\n                value={step2Data.primary_service}\r\n                onChange={(e) => setStep2Data({ ...step2Data, primary_service: e.target.value })}\r\n                options={[\r\n                  { value: '', label: 'Select service type' },\r\n                  { value: 'solicitor', label: 'Solicitor' },\r\n                  { value: 'monitoring_surveyor', label: 'Monitoring Surveyor' },\r\n                  { value: 'valuation', label: 'Valuation' },\r\n                  { value: 'other', label: 'Other Professional Service' },\r\n                ]}\r\n                required\r\n              />\r\n              <div>\r\n                <label style={{ ...commonStyles.label, marginBottom: theme.spacing.sm, display: 'block' }}>\r\n                  Services Offered *\r\n                </label>\r\n                {['solicitor', 'monitoring_surveyor', 'valuation', 'other'].map((service) => (\r\n                  <Checkbox\r\n                    key={service}\r\n                    label={service.replace('_', ' ').replace(/\\b\\w/g, l => l.toUpperCase())}\r\n                    checked={step2Data.services_offered.includes(service)}\r\n                    onChange={(e) => {\r\n                      const services = e.target.checked\r\n                        ? [...step2Data.services_offered, service]\r\n                        : step2Data.services_offered.filter(s => s !== service);\r\n                      setStep2Data({ ...step2Data, services_offered: services });\r\n                    }}\r\n                  />\r\n                ))}\r\n              </div>\r\n              <div>\r\n                <label style={{ ...commonStyles.label, marginBottom: theme.spacing.sm, display: 'block' }}>\r\n                  Qualifications\r\n                </label>\r\n                {['rics', 'rics_monitoring', 'rics_valuation', 'sra', 'cilex', 'other'].map((qual) => (\r\n                  <Checkbox\r\n                    key={qual}\r\n                    label={qual.replace('_', ' ').replace(/\\b\\w/g, l => l.toUpperCase())}\r\n                    checked={step2Data.qualifications.includes(qual)}\r\n                    onChange={(e) => {\r\n                      const quals = e.target.checked\r\n                        ? [...step2Data.qualifications, qual]\r\n                        : step2Data.qualifications.filter(q => q !== qual);\r\n                      setStep2Data({ ...step2Data, qualifications: quals });\r\n                    }}\r\n                  />\r\n                ))}\r\n              </div>\r\n              <Input\r\n                label=\"RICS Number\"\r\n                name=\"rics_number\"\r\n                value={step2Data.professional_registration_numbers.rics}\r\n                onChange={(e) => setStep2Data({\r\n                  ...step2Data,\r\n                  professional_registration_numbers: {\r\n                    ...step2Data.professional_registration_numbers,\r\n                    rics: e.target.value,\r\n                  },\r\n                })}\r\n              />\r\n              <Input\r\n                label=\"SRA Number\"\r\n                name=\"sra_number\"\r\n                value={step2Data.professional_registration_numbers.sra}\r\n                onChange={(e) => setStep2Data({\r\n                  ...step2Data,\r\n                  professional_registration_numbers: {\r\n                    ...step2Data.professional_registration_numbers,\r\n                    sra: e.target.value,\r\n                  },\r\n                })}\r\n              />\r\n              <Input\r\n                label=\"CILEX Number\"\r\n                name=\"cilex_number\"\r\n                value={step2Data.professional_registration_numbers.cilex}\r\n                onChange={(e) => setStep2Data({\r\n                  ...step2Data,\r\n                  professional_registration_numbers: {\r\n                    ...step2Data.professional_registration_numbers,\r\n                    cilex: e.target.value,\r\n                  },\r\n                })}\r\n              />\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 3:\r\n        return (\r\n          <div>\r\n            <h2 style={{ marginBottom: theme.spacing.lg }}>Contact & Location</h2>\r\n            <div style={{ display: 'grid', gap: theme.spacing.md }}>\r\n              <Input\r\n                label=\"Contact Email *\"\r\n                name=\"contact_email\"\r\n                type=\"email\"\r\n                value={step3Data.contact_email}\r\n                onChange={(e) => setStep3Data({ ...step3Data, contact_email: e.target.value })}\r\n                required\r\n              />\r\n              <Input\r\n                label=\"Contact Phone\"\r\n                name=\"contact_phone\"\r\n                value={step3Data.contact_phone}\r\n                onChange={(e) => setStep3Data({ ...step3Data, contact_phone: e.target.value })}\r\n              />\r\n              <Input\r\n                label=\"Website\"\r\n                name=\"website\"\r\n                type=\"url\"\r\n                value={step3Data.website}\r\n                onChange={(e) => setStep3Data({ ...step3Data, website: e.target.value })}\r\n              />\r\n              <Input\r\n                label=\"Address Line 1\"\r\n                name=\"address_line_1\"\r\n                value={step3Data.address_line_1}\r\n                onChange={(e) => setStep3Data({ ...step3Data, address_line_1: e.target.value })}\r\n              />\r\n              <Input\r\n                label=\"Address Line 2\"\r\n                name=\"address_line_2\"\r\n                value={step3Data.address_line_2}\r\n                onChange={(e) => setStep3Data({ ...step3Data, address_line_2: e.target.value })}\r\n              />\r\n              <Input\r\n                label=\"City\"\r\n                name=\"city\"\r\n                value={step3Data.city}\r\n                onChange={(e) => setStep3Data({ ...step3Data, city: e.target.value })}\r\n              />\r\n              <Input\r\n                label=\"County\"\r\n                name=\"county\"\r\n                value={step3Data.county}\r\n                onChange={(e) => setStep3Data({ ...step3Data, county: e.target.value })}\r\n              />\r\n              <Input\r\n                label=\"Postcode\"\r\n                name=\"postcode\"\r\n                value={step3Data.postcode}\r\n                onChange={(e) => setStep3Data({ ...step3Data, postcode: e.target.value })}\r\n              />\r\n              <Input\r\n                label=\"Country\"\r\n                name=\"country\"\r\n                value={step3Data.country}\r\n                onChange={(e) => setStep3Data({ ...step3Data, country: e.target.value })}\r\n              />\r\n              <Textarea\r\n                label=\"Geographic Coverage (one per line)\"\r\n                name=\"geographic_coverage\"\r\n                value={step3Data.geographic_coverage.join('\\n')}\r\n                onChange={(e) => setStep3Data({\r\n                  ...step3Data,\r\n                  geographic_coverage: e.target.value.split('\\n').filter(line => line.trim()),\r\n                })}\r\n                rows={4}\r\n              />\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 4:\r\n        return (\r\n          <div>\r\n            <h2 style={{ marginBottom: theme.spacing.lg }}>Service Details</h2>\r\n            <div style={{ display: 'grid', gap: theme.spacing.md }}>\r\n              <Textarea\r\n                label=\"Service Description\"\r\n                name=\"service_description\"\r\n                value={step4Data.service_description}\r\n                onChange={(e) => setStep4Data({ ...step4Data, service_description: e.target.value })}\r\n                rows={6}\r\n              />\r\n              <Input\r\n                label=\"Years of Experience\"\r\n                name=\"years_of_experience\"\r\n                type=\"number\"\r\n                value={step4Data.years_of_experience}\r\n                onChange={(e) => setStep4Data({ ...step4Data, years_of_experience: e.target.value })}\r\n              />\r\n              <Input\r\n                label=\"Team Size\"\r\n                name=\"team_size\"\r\n                type=\"number\"\r\n                value={step4Data.team_size}\r\n                onChange={(e) => setStep4Data({ ...step4Data, team_size: e.target.value })}\r\n              />\r\n              <Textarea\r\n                label=\"Key Personnel (JSON format)\"\r\n                name=\"key_personnel\"\r\n                value={JSON.stringify(step4Data.key_personnel, null, 2)}\r\n                onChange={(e) => {\r\n                  try {\r\n                    const parsed = JSON.parse(e.target.value);\r\n                    setStep4Data({ ...step4Data, key_personnel: Array.isArray(parsed) ? parsed : [] });\r\n                  } catch (err) {\r\n                    // Invalid JSON, keep as is\r\n                  }\r\n                }}\r\n                rows={6}\r\n                placeholder='[{\"name\": \"John Doe\", \"role\": \"Senior Partner\", \"qualifications\": \"RICS\"}]'\r\n              />\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 5:\r\n        return (\r\n          <div>\r\n            <h2 style={{ marginBottom: theme.spacing.lg }}>Capacity & Availability</h2>\r\n            <div style={{ display: 'grid', gap: theme.spacing.md }}>\r\n              <Input\r\n                label=\"Current Capacity (active projects)\"\r\n                name=\"current_capacity\"\r\n                type=\"number\"\r\n                value={step5Data.current_capacity}\r\n                onChange={(e) => setStep5Data({ ...step5Data, current_capacity: e.target.value })}\r\n              />\r\n              <Input\r\n                label=\"Maximum Capacity\"\r\n                name=\"max_capacity\"\r\n                type=\"number\"\r\n                value={step5Data.max_capacity}\r\n                onChange={(e) => setStep5Data({ ...step5Data, max_capacity: e.target.value })}\r\n              />\r\n              <Input\r\n                label=\"Average Response Time (days)\"\r\n                name=\"average_response_time_days\"\r\n                type=\"number\"\r\n                value={step5Data.average_response_time_days}\r\n                onChange={(e) => setStep5Data({ ...step5Data, average_response_time_days: e.target.value })}\r\n              />\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 6:\r\n        return (\r\n          <div>\r\n            <h2 style={{ marginBottom: theme.spacing.lg }}>Insurance & Compliance</h2>\r\n            <div style={{ display: 'grid', gap: theme.spacing.md }}>\r\n              <h3 style={{ fontSize: theme.typography.fontSize.lg, marginBottom: theme.spacing.md }}>\r\n                Professional Indemnity Insurance\r\n              </h3>\r\n              <Input\r\n                label=\"Insurance Provider\"\r\n                name=\"insurance_provider\"\r\n                value={step6Data.insurance_details.provider}\r\n                onChange={(e) => setStep6Data({\r\n                  ...step6Data,\r\n                  insurance_details: { ...step6Data.insurance_details, provider: e.target.value },\r\n                })}\r\n              />\r\n              <Input\r\n                label=\"Policy Number\"\r\n                name=\"policy_number\"\r\n                value={step6Data.insurance_details.policy_number}\r\n                onChange={(e) => setStep6Data({\r\n                  ...step6Data,\r\n                  insurance_details: { ...step6Data.insurance_details, policy_number: e.target.value },\r\n                })}\r\n              />\r\n              <Input\r\n                label=\"Expiry Date\"\r\n                name=\"expiry_date\"\r\n                type=\"date\"\r\n                value={step6Data.insurance_details.expiry_date}\r\n                onChange={(e) => setStep6Data({\r\n                  ...step6Data,\r\n                  insurance_details: { ...step6Data.insurance_details, expiry_date: e.target.value },\r\n                })}\r\n              />\r\n              <Input\r\n                label=\"Coverage Amount\"\r\n                name=\"coverage_amount\"\r\n                value={step6Data.insurance_details.coverage_amount}\r\n                onChange={(e) => setStep6Data({\r\n                  ...step6Data,\r\n                  insurance_details: { ...step6Data.insurance_details, coverage_amount: e.target.value },\r\n                })}\r\n              />\r\n              <Textarea\r\n                label=\"Compliance Certifications (one per line)\"\r\n                name=\"compliance_certifications\"\r\n                value={step6Data.compliance_certifications.join('\\n')}\r\n                onChange={(e) => setStep6Data({\r\n                  ...step6Data,\r\n                  compliance_certifications: e.target.value.split('\\n').filter(line => line.trim()),\r\n                })}\r\n                rows={4}\r\n                placeholder=\"e.g., ISO 9001, FCA Authorised\"\r\n              />\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ ...commonStyles.container, padding: theme.spacing.xl }}>\r\n      {error && (\r\n        <div style={{\r\n          background: theme.colors.errorLight,\r\n          color: theme.colors.errorDark,\r\n          padding: theme.spacing.md,\r\n          borderRadius: theme.borderRadius.md,\r\n          marginBottom: theme.spacing.lg,\r\n        }}>\r\n          {error}\r\n        </div>\r\n      )}\r\n      {message && (\r\n        <div style={{\r\n          background: theme.colors.successLight,\r\n          color: theme.colors.successDark,\r\n          padding: theme.spacing.md,\r\n          borderRadius: theme.borderRadius.md,\r\n          marginBottom: theme.spacing.lg,\r\n        }}>\r\n          {message}\r\n        </div>\r\n      )}\r\n      <Wizard\r\n        steps={steps}\r\n        currentStep={step}\r\n        onNext={handleSaveAndContinue}\r\n        onPrevious={() => setStep(step - 1)}\r\n        onFinish={handleSubmit}\r\n        loading={loading}\r\n        canGoNext={step === 1 ? step1Data.organisation_name : true}\r\n      >\r\n        {renderStep()}\r\n      </Wizard>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ConsultantProfileWizard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}