{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\paul-\\\\OneDrive - BARE Capital Ltd\\\\BARE Drive\\\\10.0 BUILDFUND\\\\1.0 Website Dev\\\\GitHub\\\\new_website\\\\src\\\\pages\\\\DealRoom.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport api from '../api';\nimport { theme, commonStyles } from '../styles/theme';\nimport Button from '../components/Button';\nimport Badge from '../components/Badge';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction DealRoom() {\n  _s();\n  const {\n    dealId\n  } = useParams();\n  const navigate = useNavigate();\n  const [deal, setDeal] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [activeTab, setActiveTab] = useState('overview');\n  useEffect(() => {\n    loadDeal();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [dealId]);\n  async function loadDeal() {\n    setLoading(true);\n    setError(null);\n    try {\n      const res = await api.get(`/api/deals/${dealId}/`);\n\n      // Check if response is XML (indicates wrong content-type)\n      if (res.data && typeof res.data === 'string' && res.data.trim().startsWith('<?xml')) {\n        console.error('Server returned XML instead of JSON:', res.data.substring(0, 200));\n        setError('Server returned XML instead of JSON. Please check API configuration.');\n        setDeal(null);\n        return;\n      }\n      setDeal(res.data);\n    } catch (err) {\n      var _err$response, _err$response2, _err$response2$data, _err$response3, _err$response3$data, _err$response4, _err$response5;\n      console.error('Failed to load deal:', err);\n      console.error('Error response:', err.response);\n      console.error('Error data:', (_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data);\n      const errorMsg = ((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.error) || ((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.detail) || err.message || 'Failed to load deal';\n      setError(errorMsg);\n\n      // Check if it's a permission error\n      if (((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : _err$response4.status) === 403 || ((_err$response5 = err.response) === null || _err$response5 === void 0 ? void 0 : _err$response5.status) === 404) {\n        setError('You do not have permission to view this deal, or the deal does not exist.');\n      }\n    } finally {\n      setLoading(false);\n    }\n  }\n  const getStatusBadge = status => {\n    const statusMap = {\n      active: {\n        variant: 'success',\n        label: 'Active'\n      },\n      completed: {\n        variant: 'info',\n        label: 'Completed'\n      },\n      cancelled: {\n        variant: 'error',\n        label: 'Cancelled'\n      },\n      on_hold: {\n        variant: 'warning',\n        label: 'On Hold'\n      }\n    };\n    const statusInfo = statusMap[status] || {\n      variant: 'info',\n      label: status\n    };\n    return /*#__PURE__*/_jsxDEV(Badge, {\n      variant: statusInfo.variant,\n      children: statusInfo.label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 12\n    }, this);\n  };\n  const formatDate = dateString => {\n    if (!dateString) return 'N/A';\n    return new Date(dateString).toLocaleDateString('en-GB', {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: commonStyles.container,\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          textAlign: 'center',\n          color: theme.colors.textSecondary\n        },\n        children: \"Loading deal...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this);\n  }\n  if (error || !deal) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: commonStyles.container,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          ...commonStyles.card,\n          background: theme.colors.errorLight,\n          color: theme.colors.errorDark,\n          padding: theme.spacing.lg\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: error || 'Deal not found'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => navigate('/deals'),\n          variant: \"primary\",\n          children: \"Back to Deals\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this);\n  }\n  const tabs = [{\n    id: 'overview',\n    label: 'Overview'\n  }, {\n    id: 'stages',\n    label: 'Stages'\n  }, {\n    id: 'tasks',\n    label: 'Tasks'\n  }, {\n    id: 'documents',\n    label: 'Documents'\n  }, {\n    id: 'messages',\n    label: 'Messages'\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: commonStyles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: theme.spacing.lg,\n        display: 'flex',\n        alignItems: 'center',\n        gap: theme.spacing.md\n      },\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => navigate('/deals'),\n        variant: \"outline\",\n        children: \"\\u2190 Back to Deals\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          margin: 0,\n          fontSize: theme.typography.fontSize['3xl'],\n          fontWeight: theme.typography.fontWeight.bold\n        },\n        children: deal.deal_id || `Deal #${deal.id}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), getStatusBadge(deal.status)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: theme.spacing.sm,\n        borderBottom: `2px solid ${theme.colors.gray200}`,\n        marginBottom: theme.spacing.xl\n      },\n      children: tabs.map(tab => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setActiveTab(tab.id),\n        style: {\n          padding: `${theme.spacing.md} ${theme.spacing.lg}`,\n          background: 'transparent',\n          border: 'none',\n          borderBottom: activeTab === tab.id ? `3px solid ${theme.colors.primary}` : '3px solid transparent',\n          color: activeTab === tab.id ? theme.colors.primary : theme.colors.textSecondary,\n          fontWeight: activeTab === tab.id ? theme.typography.fontWeight.semibold : theme.typography.fontWeight.normal,\n          cursor: 'pointer',\n          fontSize: theme.typography.fontSize.base,\n          transition: 'all 0.2s'\n        },\n        children: tab.label\n      }, tab.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this), activeTab === 'overview' && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'grid',\n        gridTemplateColumns: '2fr 1fr',\n        gap: theme.spacing.xl\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            ...commonStyles.card,\n            marginBottom: theme.spacing.lg\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              margin: `0 0 ${theme.spacing.lg} 0`,\n              fontSize: theme.typography.fontSize['2xl']\n            },\n            children: \"Deal Information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gridTemplateColumns: '1fr 1fr',\n              gap: theme.spacing.md\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: `${theme.spacing.xs} 0`,\n                  color: theme.colors.textSecondary\n                },\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Deal ID:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 0\n                },\n                children: deal.deal_id || `#${deal.id}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: `${theme.spacing.xs} 0`,\n                  color: theme.colors.textSecondary\n                },\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Status:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 0\n                },\n                children: getStatusBadge(deal.status)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: `${theme.spacing.xs} 0`,\n                  color: theme.colors.textSecondary\n                },\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Facility Type:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 0\n                },\n                children: deal.facility_type || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: `${theme.spacing.xs} 0`,\n                  color: theme.colors.textSecondary\n                },\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Jurisdiction:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 0\n                },\n                children: deal.jurisdiction || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: `${theme.spacing.xs} 0`,\n                  color: theme.colors.textSecondary\n                },\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Accepted At:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 0\n                },\n                children: formatDate(deal.accepted_at)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 17\n            }, this), deal.target_completion_date && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: `${theme.spacing.xs} 0`,\n                  color: theme.colors.textSecondary\n                },\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Target Completion:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 0\n                },\n                children: formatDate(deal.target_completion_date)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 13\n        }, this), deal.commercial_terms && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            ...commonStyles.card,\n            marginBottom: theme.spacing.lg\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              margin: `0 0 ${theme.spacing.lg} 0`,\n              fontSize: theme.typography.fontSize['2xl']\n            },\n            children: \"Commercial Terms\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n            style: {\n              margin: 0,\n              padding: theme.spacing.md,\n              background: theme.colors.gray50,\n              borderRadius: theme.borderRadius.md,\n              overflow: 'auto',\n              fontSize: theme.typography.fontSize.sm,\n              whiteSpace: 'pre-wrap',\n              wordWrap: 'break-word'\n            },\n            children: typeof deal.commercial_terms === 'string' ? deal.commercial_terms : JSON.stringify(deal.commercial_terms, null, 2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 15\n        }, this), deal.completion_readiness_score !== null && deal.completion_readiness_score !== undefined && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            ...commonStyles.card\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              margin: `0 0 ${theme.spacing.lg} 0`,\n              fontSize: theme.typography.fontSize['2xl']\n            },\n            children: \"Completion Readiness\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: theme.spacing.md\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                justifyContent: 'space-between',\n                marginBottom: theme.spacing.xs\n              },\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontWeight: theme.typography.fontWeight.semibold\n                },\n                children: [deal.completion_readiness_score, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: '100%',\n                height: '24px',\n                background: theme.colors.gray200,\n                borderRadius: theme.borderRadius.full,\n                overflow: 'hidden'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: `${deal.completion_readiness_score}%`,\n                  height: '100%',\n                  background: deal.completion_readiness_score >= 80 ? theme.colors.success : deal.completion_readiness_score >= 50 ? theme.colors.warning : theme.colors.error,\n                  transition: 'width 0.3s',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  color: 'white',\n                  fontSize: theme.typography.fontSize.sm,\n                  fontWeight: theme.typography.fontWeight.semibold\n                },\n                children: [deal.completion_readiness_score, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 17\n          }, this), deal.completion_readiness_breakdown && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: theme.spacing.md,\n              padding: theme.spacing.md,\n              background: theme.colors.gray50,\n              borderRadius: theme.borderRadius.md\n            },\n            children: /*#__PURE__*/_jsxDEV(\"pre\", {\n              style: {\n                margin: 0,\n                fontSize: theme.typography.fontSize.sm,\n                whiteSpace: 'pre-wrap',\n                wordWrap: 'break-word'\n              },\n              children: typeof deal.completion_readiness_breakdown === 'string' ? deal.completion_readiness_breakdown : JSON.stringify(deal.completion_readiness_breakdown, null, 2)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            ...commonStyles.card,\n            marginBottom: theme.spacing.lg\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              margin: `0 0 ${theme.spacing.lg} 0`,\n              fontSize: theme.typography.fontSize['2xl']\n            },\n            children: \"Parties\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: theme.spacing.md\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: `${theme.spacing.xs} 0`,\n                color: theme.colors.textSecondary\n              },\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Lender:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: 0\n              },\n              children: deal.lender_name || 'Unknown'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: `${theme.spacing.xs} 0`,\n                color: theme.colors.textSecondary\n              },\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Borrower:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: 0\n              },\n              children: deal.borrower_name || 'Unknown'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 13\n        }, this), deal.current_stage_name && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            ...commonStyles.card\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              margin: `0 0 ${theme.spacing.lg} 0`,\n              fontSize: theme.typography.fontSize['2xl']\n            },\n            children: \"Current Stage\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: 0,\n              fontSize: theme.typography.fontSize.lg,\n              fontWeight: theme.typography.fontWeight.semibold\n            },\n            children: deal.current_stage_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 9\n    }, this), activeTab === 'stages' && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: commonStyles.card,\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: theme.colors.textSecondary\n        },\n        children: \"Stages functionality coming soon...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 9\n    }, this), activeTab === 'tasks' && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: commonStyles.card,\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: theme.colors.textSecondary\n        },\n        children: \"Tasks functionality coming soon...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 9\n    }, this), activeTab === 'documents' && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: commonStyles.card,\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: theme.colors.textSecondary\n        },\n        children: \"Documents functionality coming soon...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 9\n    }, this), activeTab === 'messages' && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: commonStyles.card,\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: theme.colors.textSecondary\n        },\n        children: \"Messages functionality coming soon...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }, this);\n}\n_s(DealRoom, \"MB875kuiQ9INpynsTkblM1ZCVmA=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = DealRoom;\nexport default DealRoom;\nvar _c;\n$RefreshReg$(_c, \"DealRoom\");","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","api","theme","commonStyles","Button","Badge","jsxDEV","_jsxDEV","DealRoom","_s","dealId","navigate","deal","setDeal","loading","setLoading","error","setError","activeTab","setActiveTab","loadDeal","res","get","data","trim","startsWith","console","substring","err","_err$response","_err$response2","_err$response2$data","_err$response3","_err$response3$data","_err$response4","_err$response5","response","errorMsg","detail","message","status","getStatusBadge","statusMap","active","variant","label","completed","cancelled","on_hold","statusInfo","children","fileName","_jsxFileName","lineNumber","columnNumber","formatDate","dateString","Date","toLocaleDateString","year","month","day","hour","minute","style","container","textAlign","color","colors","textSecondary","card","background","errorLight","errorDark","padding","spacing","lg","onClick","tabs","id","marginBottom","display","alignItems","gap","md","margin","fontSize","typography","fontWeight","bold","deal_id","sm","borderBottom","gray200","xl","map","tab","border","primary","semibold","normal","cursor","base","transition","gridTemplateColumns","xs","facility_type","jurisdiction","accepted_at","target_completion_date","commercial_terms","gray50","borderRadius","overflow","whiteSpace","wordWrap","JSON","stringify","completion_readiness_score","undefined","justifyContent","width","height","full","success","warning","completion_readiness_breakdown","marginTop","lender_name","borrower_name","current_stage_name","_c","$RefreshReg$"],"sources":["C:/Users/paul-/OneDrive - BARE Capital Ltd/BARE Drive/10.0 BUILDFUND/1.0 Website Dev/GitHub/new_website/src/pages/DealRoom.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport api from '../api';\r\nimport { theme, commonStyles } from '../styles/theme';\r\nimport Button from '../components/Button';\r\nimport Badge from '../components/Badge';\r\n\r\nfunction DealRoom() {\r\n  const { dealId } = useParams();\r\n  const navigate = useNavigate();\r\n  const [deal, setDeal] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [activeTab, setActiveTab] = useState('overview');\r\n\r\n  useEffect(() => {\r\n    loadDeal();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [dealId]);\r\n\r\n  async function loadDeal() {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const res = await api.get(`/api/deals/${dealId}/`);\r\n\r\n      // Check if response is XML (indicates wrong content-type)\r\n      if (res.data && typeof res.data === 'string' && res.data.trim().startsWith('<?xml')) {\r\n        console.error('Server returned XML instead of JSON:', res.data.substring(0, 200));\r\n        setError('Server returned XML instead of JSON. Please check API configuration.');\r\n        setDeal(null);\r\n        return;\r\n      }\r\n\r\n      setDeal(res.data);\r\n    } catch (err) {\r\n      console.error('Failed to load deal:', err);\r\n      console.error('Error response:', err.response);\r\n      console.error('Error data:', err.response?.data);\r\n      const errorMsg = err.response?.data?.error || err.response?.data?.detail || err.message || 'Failed to load deal';\r\n      setError(errorMsg);\r\n\r\n      // Check if it's a permission error\r\n      if (err.response?.status === 403 || err.response?.status === 404) {\r\n        setError('You do not have permission to view this deal, or the deal does not exist.');\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  const getStatusBadge = (status) => {\r\n    const statusMap = {\r\n      active: { variant: 'success', label: 'Active' },\r\n      completed: { variant: 'info', label: 'Completed' },\r\n      cancelled: { variant: 'error', label: 'Cancelled' },\r\n      on_hold: { variant: 'warning', label: 'On Hold' },\r\n    };\r\n    const statusInfo = statusMap[status] || { variant: 'info', label: status };\r\n    return <Badge variant={statusInfo.variant}>{statusInfo.label}</Badge>;\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return 'N/A';\r\n    return new Date(dateString).toLocaleDateString('en-GB', {\r\n      year: 'numeric',\r\n      month: 'long',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit',\r\n    });\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div style={commonStyles.container}>\r\n        <p style={{ textAlign: 'center', color: theme.colors.textSecondary }}>Loading deal...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error || !deal) {\r\n    return (\r\n      <div style={commonStyles.container}>\r\n        <div style={{\r\n          ...commonStyles.card,\r\n          background: theme.colors.errorLight,\r\n          color: theme.colors.errorDark,\r\n          padding: theme.spacing.lg,\r\n        }}>\r\n          <p>{error || 'Deal not found'}</p>\r\n          <Button onClick={() => navigate('/deals')} variant=\"primary\">\r\n            Back to Deals\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const tabs = [\r\n    { id: 'overview', label: 'Overview' },\r\n    { id: 'stages', label: 'Stages' },\r\n    { id: 'tasks', label: 'Tasks' },\r\n    { id: 'documents', label: 'Documents' },\r\n    { id: 'messages', label: 'Messages' },\r\n  ];\r\n\r\n  return (\r\n    <div style={commonStyles.container}>\r\n      <div style={{ marginBottom: theme.spacing.lg, display: 'flex', alignItems: 'center', gap: theme.spacing.md }}>\r\n        <Button onClick={() => navigate('/deals')} variant=\"outline\">\r\n          ‚Üê Back to Deals\r\n        </Button>\r\n        <h1 style={{\r\n          margin: 0,\r\n          fontSize: theme.typography.fontSize['3xl'],\r\n          fontWeight: theme.typography.fontWeight.bold,\r\n        }}>\r\n          {deal.deal_id || `Deal #${deal.id}`}\r\n        </h1>\r\n        {getStatusBadge(deal.status)}\r\n      </div>\r\n\r\n      {/* Tabs */}\r\n      <div style={{\r\n        display: 'flex',\r\n        gap: theme.spacing.sm,\r\n        borderBottom: `2px solid ${theme.colors.gray200}`,\r\n        marginBottom: theme.spacing.xl,\r\n      }}>\r\n        {tabs.map(tab => (\r\n          <button\r\n            key={tab.id}\r\n            onClick={() => setActiveTab(tab.id)}\r\n            style={{\r\n              padding: `${theme.spacing.md} ${theme.spacing.lg}`,\r\n              background: 'transparent',\r\n              border: 'none',\r\n              borderBottom: activeTab === tab.id ? `3px solid ${theme.colors.primary}` : '3px solid transparent',\r\n              color: activeTab === tab.id ? theme.colors.primary : theme.colors.textSecondary,\r\n              fontWeight: activeTab === tab.id ? theme.typography.fontWeight.semibold : theme.typography.fontWeight.normal,\r\n              cursor: 'pointer',\r\n              fontSize: theme.typography.fontSize.base,\r\n              transition: 'all 0.2s',\r\n            }}\r\n          >\r\n            {tab.label}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Tab Content */}\r\n      {activeTab === 'overview' && (\r\n        <div style={{ display: 'grid', gridTemplateColumns: '2fr 1fr', gap: theme.spacing.xl }}>\r\n          {/* Main Details */}\r\n          <div>\r\n            {/* Deal Information */}\r\n            <div style={{ ...commonStyles.card, marginBottom: theme.spacing.lg }}>\r\n              <h2 style={{ margin: `0 0 ${theme.spacing.lg} 0`, fontSize: theme.typography.fontSize['2xl'] }}>\r\n                Deal Information\r\n              </h2>\r\n              <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: theme.spacing.md }}>\r\n                <div>\r\n                  <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                    <strong>Deal ID:</strong>\r\n                  </p>\r\n                  <p style={{ margin: 0 }}>{deal.deal_id || `#${deal.id}`}</p>\r\n                </div>\r\n                <div>\r\n                  <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                    <strong>Status:</strong>\r\n                  </p>\r\n                  <p style={{ margin: 0 }}>{getStatusBadge(deal.status)}</p>\r\n                </div>\r\n                <div>\r\n                  <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                    <strong>Facility Type:</strong>\r\n                  </p>\r\n                  <p style={{ margin: 0 }}>{deal.facility_type || 'N/A'}</p>\r\n                </div>\r\n                <div>\r\n                  <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                    <strong>Jurisdiction:</strong>\r\n                  </p>\r\n                  <p style={{ margin: 0 }}>{deal.jurisdiction || 'N/A'}</p>\r\n                </div>\r\n                <div>\r\n                  <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                    <strong>Accepted At:</strong>\r\n                  </p>\r\n                  <p style={{ margin: 0 }}>{formatDate(deal.accepted_at)}</p>\r\n                </div>\r\n                {deal.target_completion_date && (\r\n                  <div>\r\n                    <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                      <strong>Target Completion:</strong>\r\n                    </p>\r\n                    <p style={{ margin: 0 }}>{formatDate(deal.target_completion_date)}</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Commercial Terms */}\r\n            {deal.commercial_terms && (\r\n              <div style={{ ...commonStyles.card, marginBottom: theme.spacing.lg }}>\r\n                <h2 style={{ margin: `0 0 ${theme.spacing.lg} 0`, fontSize: theme.typography.fontSize['2xl'] }}>\r\n                  Commercial Terms\r\n                </h2>\r\n                <pre style={{\r\n                  margin: 0,\r\n                  padding: theme.spacing.md,\r\n                  background: theme.colors.gray50,\r\n                  borderRadius: theme.borderRadius.md,\r\n                  overflow: 'auto',\r\n                  fontSize: theme.typography.fontSize.sm,\r\n                  whiteSpace: 'pre-wrap',\r\n                  wordWrap: 'break-word',\r\n                }}>\r\n                  {typeof deal.commercial_terms === 'string' \r\n                    ? deal.commercial_terms \r\n                    : JSON.stringify(deal.commercial_terms, null, 2)}\r\n                </pre>\r\n              </div>\r\n            )}\r\n\r\n            {/* Completion Readiness */}\r\n            {deal.completion_readiness_score !== null && deal.completion_readiness_score !== undefined && (\r\n              <div style={{ ...commonStyles.card }}>\r\n                <h2 style={{ margin: `0 0 ${theme.spacing.lg} 0`, fontSize: theme.typography.fontSize['2xl'] }}>\r\n                  Completion Readiness\r\n                </h2>\r\n                <div style={{ marginBottom: theme.spacing.md }}>\r\n                  <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: theme.spacing.xs }}>\r\n                    <span style={{ fontWeight: theme.typography.fontWeight.semibold }}>\r\n                      {deal.completion_readiness_score}%\r\n                    </span>\r\n                  </div>\r\n                  <div style={{\r\n                    width: '100%',\r\n                    height: '24px',\r\n                    background: theme.colors.gray200,\r\n                    borderRadius: theme.borderRadius.full,\r\n                    overflow: 'hidden',\r\n                  }}>\r\n                    <div style={{\r\n                      width: `${deal.completion_readiness_score}%`,\r\n                      height: '100%',\r\n                      background: deal.completion_readiness_score >= 80 ? theme.colors.success : \r\n                                 deal.completion_readiness_score >= 50 ? theme.colors.warning : theme.colors.error,\r\n                      transition: 'width 0.3s',\r\n                      display: 'flex',\r\n                      alignItems: 'center',\r\n                      justifyContent: 'center',\r\n                      color: 'white',\r\n                      fontSize: theme.typography.fontSize.sm,\r\n                      fontWeight: theme.typography.fontWeight.semibold,\r\n                    }}>\r\n                      {deal.completion_readiness_score}%\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {deal.completion_readiness_breakdown && (\r\n                  <div style={{\r\n                    marginTop: theme.spacing.md,\r\n                    padding: theme.spacing.md,\r\n                    background: theme.colors.gray50,\r\n                    borderRadius: theme.borderRadius.md,\r\n                  }}>\r\n                    <pre style={{\r\n                      margin: 0,\r\n                      fontSize: theme.typography.fontSize.sm,\r\n                      whiteSpace: 'pre-wrap',\r\n                      wordWrap: 'break-word',\r\n                    }}>\r\n                      {typeof deal.completion_readiness_breakdown === 'string'\r\n                        ? deal.completion_readiness_breakdown\r\n                        : JSON.stringify(deal.completion_readiness_breakdown, null, 2)}\r\n                    </pre>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Sidebar */}\r\n          <div>\r\n            {/* Parties */}\r\n            <div style={{ ...commonStyles.card, marginBottom: theme.spacing.lg }}>\r\n              <h2 style={{ margin: `0 0 ${theme.spacing.lg} 0`, fontSize: theme.typography.fontSize['2xl'] }}>\r\n                Parties\r\n              </h2>\r\n              <div style={{ marginBottom: theme.spacing.md }}>\r\n                <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                  <strong>Lender:</strong>\r\n                </p>\r\n                <p style={{ margin: 0 }}>{deal.lender_name || 'Unknown'}</p>\r\n              </div>\r\n              <div>\r\n                <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                  <strong>Borrower:</strong>\r\n                </p>\r\n                <p style={{ margin: 0 }}>{deal.borrower_name || 'Unknown'}</p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Current Stage */}\r\n            {deal.current_stage_name && (\r\n              <div style={{ ...commonStyles.card }}>\r\n                <h2 style={{ margin: `0 0 ${theme.spacing.lg} 0`, fontSize: theme.typography.fontSize['2xl'] }}>\r\n                  Current Stage\r\n                </h2>\r\n                <p style={{ margin: 0, fontSize: theme.typography.fontSize.lg, fontWeight: theme.typography.fontWeight.semibold }}>\r\n                  {deal.current_stage_name}\r\n                </p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {activeTab === 'stages' && (\r\n        <div style={commonStyles.card}>\r\n          <p style={{ color: theme.colors.textSecondary }}>Stages functionality coming soon...</p>\r\n        </div>\r\n      )}\r\n\r\n      {activeTab === 'tasks' && (\r\n        <div style={commonStyles.card}>\r\n          <p style={{ color: theme.colors.textSecondary }}>Tasks functionality coming soon...</p>\r\n        </div>\r\n      )}\r\n\r\n      {activeTab === 'documents' && (\r\n        <div style={commonStyles.card}>\r\n          <p style={{ color: theme.colors.textSecondary }}>Documents functionality coming soon...</p>\r\n        </div>\r\n      )}\r\n\r\n      {activeTab === 'messages' && (\r\n        <div style={commonStyles.card}>\r\n          <p style={{ color: theme.colors.textSecondary }}>Messages functionality coming soon...</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DealRoom;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}