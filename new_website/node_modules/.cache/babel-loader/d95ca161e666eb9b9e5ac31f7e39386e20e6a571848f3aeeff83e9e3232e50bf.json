{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\paul-\\\\OneDrive - BARE Capital Ltd\\\\BARE Drive\\\\10.0 BUILDFUND\\\\1.0 Website Dev\\\\GitHub\\\\new_website\\\\src\\\\pages\\\\BorrowerProfileWizard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport api from '../api';\nimport { theme, commonStyles } from '../styles/theme';\nimport Wizard from '../components/Wizard';\nimport Input from '../components/Input';\nimport Select from '../components/Select';\nimport Textarea from '../components/Textarea';\nimport Checkbox from '../components/Checkbox';\nimport Button from '../components/Button';\nimport Badge from '../components/Badge';\nimport CompanyDetails from '../components/CompanyDetails';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction BorrowerProfileWizard() {\n  _s();\n  const navigate = useNavigate();\n  const [step, setStep] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [message, setMessage] = useState(null);\n  const [profileStatus, setProfileStatus] = useState(null);\n  const [stepUpAuth, setStepUpAuth] = useState({\n    required: false,\n    verified: false\n  });\n  const [stepUpPassword, setStepUpPassword] = useState('');\n  const fileInputRef = useRef(null);\n  const [dragActive, setDragActive] = useState(false);\n\n  // Step 1: Account setup and consent\n  const [step1Data, setStep1Data] = useState({\n    email: '',\n    mobile_number: '',\n    mfa_enabled: false,\n    consent_privacy: false,\n    consent_terms: false,\n    consent_credit_search: false\n  });\n\n  // Step 2: Company verification\n  const [step2Data, setStep2Data] = useState({\n    company_number: '',\n    company_name: '',\n    company_search_type: 'number',\n    // 'number' or 'name'\n    company_data: null,\n    trading_address: '',\n    primary_contact_email: '',\n    primary_contact_phone: '',\n    confirmed: false\n  });\n\n  // Step 3: Directors and shareholders\n  const [step3Data, setStep3Data] = useState({\n    directors: [],\n    shareholders: [],\n    applicants_required: []\n  });\n\n  // Step 4: Applicant personal details\n  const [step4Data, setStep4Data] = useState({\n    applicants: [] // Array of applicant objects\n  });\n\n  // Step 5: Financial snapshot\n  const [step5Data, setStep5Data] = useState({\n    mode: 'quick',\n    // 'quick' or 'detailed'\n    income_total: '',\n    expenditure_total: '',\n    assets_total: '',\n    liabilities_total: '',\n    income_breakdown: [],\n    expenditure_breakdown: [],\n    assets_breakdown: [],\n    liabilities_breakdown: []\n  });\n\n  // Step 6: Bank data\n  const [step6Data, setStep6Data] = useState({\n    method: 'open_banking',\n    // 'open_banking' or 'pdf_upload'\n    open_banking_connected: false,\n    open_banking_provider: '',\n    accounts: [],\n    pdf_statements: []\n  });\n\n  // Step 7: Documents\n  const [step7Data, setStep7Data] = useState({\n    company_documents: {\n      statutory_accounts: [],\n      management_accounts: []\n    },\n    personal_documents: {\n      photo_id: []\n    }\n  });\n  const steps = ['Account & Consent', 'Company Verification', 'Directors & Shareholders', 'Applicant Details', 'Financial Snapshot', 'Bank Data', 'Documents', 'Review & Submit'];\n  useEffect(() => {\n    loadProfileStatus();\n  }, []);\n  const loadProfileStatus = async () => {\n    try {\n      const res = await api.get('/api/borrowers/profiles/status/');\n      setProfileStatus(res.data);\n      if (res.data.status === 'approved') {\n        setMessage('Your profile has been approved. You can now create projects.');\n      } else if (res.data.status === 'under_review') {\n        setMessage('Your profile is under review. You will be notified when it is approved.');\n      } else if (res.data.status === 'changes_requested') {\n        setMessage('Changes have been requested. Please review and update your profile.');\n      }\n    } catch (err) {\n      console.error('Failed to load profile status:', err);\n    }\n  };\n  const checkStepUpAuth = async section => {\n    // Check if step-up auth is required and not recently verified\n    const lastAuth = localStorage.getItem('stepUpAuthTimestamp');\n    const now = Date.now();\n    const tenMinutes = 10 * 60 * 1000;\n    if (!lastAuth || now - parseInt(lastAuth) > tenMinutes) {\n      setStepUpAuth({\n        required: true,\n        verified: false,\n        section\n      });\n      return false;\n    }\n    return true;\n  };\n  const verifyStepUpAuth = async () => {\n    try {\n      const res = await api.post('/api/auth/verify-password/', {\n        password: stepUpPassword\n      });\n      if (res.data.verified) {\n        setStepUpAuth({\n          required: false,\n          verified: true\n        });\n        localStorage.setItem('stepUpAuthTimestamp', Date.now().toString());\n        setStepUpPassword('');\n        return true;\n      } else {\n        setError('Incorrect password. Please try again.');\n        return false;\n      }\n    } catch (err) {\n      setError('Password verification failed. Please try again.');\n      return false;\n    }\n  };\n  const handleCompanySearch = async () => {\n    if (!step2Data.company_number && !step2Data.company_name) {\n      setError('Please enter a company number or name');\n      return;\n    }\n    setLoading(true);\n    setError(null);\n    try {\n      const searchParam = step2Data.company_search_type === 'number' ? {\n        company_number: step2Data.company_number\n      } : {\n        company_name: step2Data.company_name\n      };\n      const res = await api.post('/api/verification/company/get_full_company_details/', searchParam);\n      if (res.data.error) {\n        setError(res.data.error);\n      } else {\n        setStep2Data({\n          ...step2Data,\n          company_data: res.data,\n          company_number: res.data.company_number || step2Data.company_number,\n          company_name: res.data.company_name || step2Data.company_name\n        });\n        setMessage('Company found! Please review and confirm the details.');\n      }\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error('Company search error:', err);\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || 'Failed to search company. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleConfirmCompany = () => {\n    setStep2Data({\n      ...step2Data,\n      confirmed: true\n    });\n    setMessage('Company details confirmed');\n  };\n  const handleDirectorsUpdate = (directors, shareholders) => {\n    // Auto-flag applicants required\n    const applicantsRequired = [];\n\n    // All directors are required\n    directors.forEach(dir => {\n      if (!dir.resigned_on) {\n        applicantsRequired.push({\n          person_id: dir.id || dir.name,\n          name: dir.name,\n          role: 'Director',\n          ownership_percentage: null,\n          required: true\n        });\n      }\n    });\n\n    // Shareholders/PSCs with >=25% ownership\n    shareholders.forEach(sh => {\n      var _sh$natures_of_contro, _sh$natures_of_contro2;\n      const ownership = parseFloat(sh.ownership_percentage || ((_sh$natures_of_contro = sh.natures_of_control) === null || _sh$natures_of_contro === void 0 ? void 0 : (_sh$natures_of_contro2 = _sh$natures_of_contro[0]) === null || _sh$natures_of_contro2 === void 0 ? void 0 : _sh$natures_of_contro2.percentage) || 0);\n      if (ownership >= 25) {\n        applicantsRequired.push({\n          person_id: sh.id || sh.name,\n          name: sh.name,\n          role: 'Shareholder/PSC',\n          ownership_percentage: ownership,\n          required: true\n        });\n      }\n    });\n    setStep3Data({\n      directors: directors,\n      shareholders: shareholders,\n      applicants_required: applicantsRequired\n    });\n  };\n  const handleConnectOpenBanking = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      // This would integrate with Open Banking provider\n      // For now, simulate the connection\n      const res = await api.post('/api/borrowers/profiles/connect-open-banking/', {\n        provider: step6Data.open_banking_provider\n      });\n      setStep6Data({\n        ...step6Data,\n        open_banking_connected: true,\n        accounts: res.data.accounts || [],\n        method: 'open_banking'\n      });\n      setMessage('Open Banking connected successfully');\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      console.error('Open Banking connection error:', err);\n      setError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.error) || 'Failed to connect Open Banking. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleFileUpload = async (files, documentType, category) => {\n    if (!files || files.length === 0) return;\n    setLoading(true);\n    setError(null);\n    try {\n      const formData = new FormData();\n      Array.from(files).forEach(file => {\n        formData.append('files', file);\n      });\n      formData.append('document_type', documentType);\n      formData.append('category', category);\n      const res = await api.post('/api/borrowers/profiles/documents/upload/', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n\n      // Update step 7 data\n      const updatedDocs = {\n        ...step7Data\n      };\n      if (category === 'company') {\n        if (documentType === 'statutory_accounts') {\n          updatedDocs.company_documents.statutory_accounts = [...updatedDocs.company_documents.statutory_accounts, ...res.data.documents];\n        } else if (documentType === 'management_accounts') {\n          updatedDocs.company_documents.management_accounts = [...updatedDocs.company_documents.management_accounts, ...res.data.documents];\n        }\n      } else if (category === 'personal' && documentType === 'photo_id') {\n        updatedDocs.personal_documents.photo_id = [...updatedDocs.personal_documents.photo_id, ...res.data.documents];\n      }\n      setStep7Data(updatedDocs);\n      setMessage(`Successfully uploaded ${files.length} file(s)`);\n    } catch (err) {\n      var _err$response3, _err$response3$data;\n      console.error('File upload error:', err);\n      setError(((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.error) || 'Failed to upload files');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleSubmitForReview = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const payload = {\n        step1: step1Data,\n        step2: step2Data,\n        step3: step3Data,\n        step4: step4Data,\n        step5: step5Data,\n        step6: step6Data,\n        step7: step7Data\n      };\n      const res = await api.post('/api/borrowers/profiles/submit-for-review/', payload);\n      setMessage('Profile submitted for review successfully!');\n      await loadProfileStatus();\n    } catch (err) {\n      var _err$response4, _err$response4$data;\n      console.error('Submit error:', err);\n      setError(((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.error) || 'Failed to submit profile for review');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const nextStep = () => {\n    if (step < steps.length) {\n      setStep(step + 1);\n      setError(null);\n      setMessage(null);\n    }\n  };\n  const prevStep = () => {\n    if (step > 1) {\n      setStep(step - 1);\n      setError(null);\n      setMessage(null);\n    }\n  };\n\n  // Step-up authentication modal\n  if (stepUpAuth.required && !stepUpAuth.verified) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        background: 'rgba(0,0,0,0.5)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        zIndex: 1000\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          ...commonStyles.card,\n          maxWidth: '400px',\n          padding: theme.spacing.xl\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            margin: `0 0 ${theme.spacing.md} 0`\n          },\n          children: \"Step-Up Authentication Required\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: theme.colors.textSecondary,\n            marginBottom: theme.spacing.lg\n          },\n          children: \"Please enter your password to access this section.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"password\",\n          label: \"Password\",\n          value: stepUpPassword,\n          onChange: e => setStepUpPassword(e.target.value),\n          style: {\n            marginBottom: theme.spacing.md\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: theme.colors.error,\n            fontSize: theme.typography.fontSize.sm,\n            marginBottom: theme.spacing.md\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: theme.spacing.sm\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: async () => {\n              const verified = await verifyStepUpAuth();\n              if (verified) {\n                setError(null);\n              }\n            },\n            children: \"Verify\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            onClick: () => {\n              setStepUpAuth({\n                required: false,\n                verified: false\n              });\n              setStepUpPassword('');\n              prevStep();\n            },\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Wizard, {\n    steps: steps,\n    currentStep: step,\n    children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: theme.colors.errorLight,\n        color: theme.colors.errorDark,\n        padding: theme.spacing.md,\n        borderRadius: theme.borderRadius.md,\n        marginBottom: theme.spacing.lg,\n        border: `1px solid ${theme.colors.error}`\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 9\n    }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: theme.colors.successLight,\n        color: theme.colors.successDark,\n        padding: theme.spacing.md,\n        borderRadius: theme.borderRadius.md,\n        marginBottom: theme.spacing.lg,\n        border: `1px solid ${theme.colors.success}`\n      },\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 9\n    }, this), step === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          fontSize: theme.typography.fontSize['2xl'],\n          fontWeight: theme.typography.fontWeight.semibold,\n          margin: `0 0 ${theme.spacing.lg} 0`\n        },\n        children: \"Account Setup & Consent\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: theme.colors.textSecondary,\n          marginBottom: theme.spacing.lg\n        },\n        children: \"Please provide your contact details and confirm your consents.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 450,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'grid',\n          gap: theme.spacing.lg,\n          marginBottom: theme.spacing.xl\n        },\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          label: \"Email Address\",\n          type: \"email\",\n          value: step1Data.email,\n          onChange: e => setStep1Data({\n            ...step1Data,\n            email: e.target.value\n          }),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          label: \"Mobile Number\",\n          type: \"tel\",\n          value: step1Data.mobile_number,\n          onChange: e => setStep1Data({\n            ...step1Data,\n            mobile_number: e.target.value\n          }),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Checkbox, {\n          label: \"Enable Multi-Factor Authentication (MFA)\",\n          checked: step1Data.mfa_enabled,\n          onChange: e => setStep1Data({\n            ...step1Data,\n            mfa_enabled: e.target.checked\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          ...commonStyles.card,\n          padding: theme.spacing.lg,\n          marginBottom: theme.spacing.xl,\n          background: theme.colors.gray50\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: `0 0 ${theme.spacing.md} 0`\n          },\n          children: \"Consents\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 482,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            flexDirection: 'column',\n            gap: theme.spacing.md\n          },\n          children: [/*#__PURE__*/_jsxDEV(Checkbox, {\n            label: \"I consent to the Privacy Policy\",\n            checked: step1Data.consent_privacy,\n            onChange: e => setStep1Data({\n              ...step1Data,\n              consent_privacy: e.target.checked\n            }),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Checkbox, {\n            label: \"I accept the Terms and Conditions\",\n            checked: step1Data.consent_terms,\n            onChange: e => setStep1Data({\n              ...step1Data,\n              consent_terms: e.target.checked\n            }),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Checkbox, {\n            label: \"I consent to credit search permission\",\n            checked: step1Data.consent_credit_search,\n            onChange: e => setStep1Data({\n              ...step1Data,\n              consent_credit_search: e.target.checked\n            }),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 496,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 483,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'flex-end',\n          marginTop: theme.spacing.xl\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: nextStep,\n          disabled: !step1Data.consent_privacy || !step1Data.consent_terms || !step1Data.consent_credit_search,\n          children: \"Next: Company Verification\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 505,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 442,\n      columnNumber: 9\n    }, this), step === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          fontSize: theme.typography.fontSize['2xl'],\n          fontWeight: theme.typography.fontWeight.semibold,\n          margin: `0 0 ${theme.spacing.lg} 0`\n        },\n        children: \"Company Verification (UK Only)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: theme.colors.textSecondary,\n          marginBottom: theme.spacing.lg\n        },\n        children: \"Search for your company using Companies House.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 527,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: theme.spacing.lg\n        },\n        children: [/*#__PURE__*/_jsxDEV(Select, {\n          label: \"Search By\",\n          value: step2Data.company_search_type,\n          onChange: e => setStep2Data({\n            ...step2Data,\n            company_search_type: e.target.value\n          }),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"number\",\n            children: \"Company Number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 537,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"name\",\n            children: \"Company Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 538,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 13\n        }, this), step2Data.company_search_type === 'number' ? /*#__PURE__*/_jsxDEV(Input, {\n          label: \"Company Number\",\n          value: step2Data.company_number,\n          onChange: e => setStep2Data({\n            ...step2Data,\n            company_number: e.target.value\n          }),\n          placeholder: \"e.g., 12345678\",\n          style: {\n            marginTop: theme.spacing.md\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 542,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(Input, {\n          label: \"Company Name\",\n          value: step2Data.company_name,\n          onChange: e => setStep2Data({\n            ...step2Data,\n            company_name: e.target.value\n          }),\n          placeholder: \"e.g., Example Company Ltd\",\n          style: {\n            marginTop: theme.spacing.md\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 550,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: handleCompanySearch,\n          loading: loading,\n          style: {\n            marginTop: theme.spacing.md\n          },\n          children: \"Search Company\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 11\n      }, this), step2Data.company_data && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: theme.spacing.xl\n        },\n        children: [/*#__PURE__*/_jsxDEV(CompanyDetails, {\n          companyNumber: step2Data.company_data.company_number\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 571,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: theme.spacing.lg\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: `0 0 ${theme.spacing.md} 0`\n            },\n            children: \"Additional Information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 574,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: \"Trading Address (if different)\",\n            value: step2Data.trading_address,\n            onChange: e => setStep2Data({\n              ...step2Data,\n              trading_address: e.target.value\n            }),\n            style: {\n              marginBottom: theme.spacing.md\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 575,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: \"Primary Contact Email\",\n            type: \"email\",\n            value: step2Data.primary_contact_email,\n            onChange: e => setStep2Data({\n              ...step2Data,\n              primary_contact_email: e.target.value\n            }),\n            style: {\n              marginBottom: theme.spacing.md\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 581,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: \"Primary Contact Phone\",\n            type: \"tel\",\n            value: step2Data.primary_contact_phone,\n            onChange: e => setStep2Data({\n              ...step2Data,\n              primary_contact_phone: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 588,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 573,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: theme.spacing.lg\n          },\n          children: /*#__PURE__*/_jsxDEV(Checkbox, {\n            label: \"I confirm these company details are correct\",\n            checked: step2Data.confirmed,\n            onChange: e => setStep2Data({\n              ...step2Data,\n              confirmed: e.target.checked\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 597,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 596,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 570,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          marginTop: theme.spacing.xl\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline\",\n          onClick: prevStep,\n          children: \"Previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 607,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: () => {\n            if (step2Data.confirmed) {\n              nextStep();\n            } else {\n              setError('Please confirm the company details before proceeding');\n            }\n          },\n          disabled: !step2Data.confirmed,\n          children: \"Next: Directors & Shareholders\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 610,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 606,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 519,\n      columnNumber: 9\n    }, this), step === 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          fontSize: theme.typography.fontSize['2xl'],\n          fontWeight: theme.typography.fontWeight.semibold,\n          margin: `0 0 ${theme.spacing.lg} 0`\n        },\n        children: \"Directors & Shareholders (>=25%)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 630,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: theme.colors.textSecondary,\n          marginBottom: theme.spacing.lg\n        },\n        children: \"Review and confirm directors and persons with significant control. All directors and shareholders with 25%+ ownership will be required to complete applicant details.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 637,\n        columnNumber: 11\n      }, this), step2Data.company_data && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [step2Data.company_data.directors && step2Data.company_data.directors.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: theme.spacing.xl\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: `0 0 ${theme.spacing.md} 0`\n            },\n            children: \"Directors\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 646,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gap: theme.spacing.md\n            },\n            children: step2Data.company_data.directors.map((director, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                ...commonStyles.card,\n                padding: theme.spacing.md,\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    margin: 0,\n                    fontWeight: theme.typography.fontWeight.medium\n                  },\n                  children: director.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 657,\n                  columnNumber: 27\n                }, this), director.nationality && /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    margin: `${theme.spacing.xs} 0 0 0`,\n                    fontSize: theme.typography.fontSize.sm,\n                    color: theme.colors.textSecondary\n                  },\n                  children: [\"Nationality: \", director.nationality]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 661,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                  variant: \"warning\",\n                  style: {\n                    marginTop: theme.spacing.xs\n                  },\n                  children: \"Applicant Required\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 665,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 656,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Checkbox, {\n                label: \"Confirm\",\n                checked: director.confirmed || false,\n                onChange: e => {\n                  const updated = [...step2Data.company_data.directors];\n                  updated[index].confirmed = e.target.checked;\n                  setStep2Data({\n                    ...step2Data,\n                    company_data: {\n                      ...step2Data.company_data,\n                      directors: updated\n                    }\n                  });\n                  handleDirectorsUpdate(updated, step2Data.company_data.pscs || []);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 669,\n                columnNumber: 25\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 649,\n              columnNumber: 23\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 647,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 645,\n          columnNumber: 17\n        }, this), step2Data.company_data.pscs && step2Data.company_data.pscs.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: theme.spacing.xl\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: `0 0 ${theme.spacing.md} 0`\n            },\n            children: \"Persons with Significant Control\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 691,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gap: theme.spacing.md\n            },\n            children: step2Data.company_data.pscs.map((psc, index) => {\n              var _psc$natures_of_contr, _psc$natures_of_contr2;\n              const ownership = ((_psc$natures_of_contr = psc.natures_of_control) === null || _psc$natures_of_contr === void 0 ? void 0 : (_psc$natures_of_contr2 = _psc$natures_of_contr[0]) === null || _psc$natures_of_contr2 === void 0 ? void 0 : _psc$natures_of_contr2.percentage) || 0;\n              const isRequired = ownership >= 25;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  ...commonStyles.card,\n                  padding: theme.spacing.md,\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      margin: 0,\n                      fontWeight: theme.typography.fontWeight.medium\n                    },\n                    children: psc.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 706,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      margin: `${theme.spacing.xs} 0 0 0`,\n                      fontSize: theme.typography.fontSize.sm,\n                      color: theme.colors.textSecondary\n                    },\n                    children: [\"Ownership: \", ownership, \"%\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 709,\n                    columnNumber: 29\n                  }, this), isRequired && /*#__PURE__*/_jsxDEV(Badge, {\n                    variant: \"warning\",\n                    style: {\n                      marginTop: theme.spacing.xs\n                    },\n                    children: \"Applicant Required (>=25%)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 713,\n                    columnNumber: 31\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 705,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: 'flex',\n                    gap: theme.spacing.sm,\n                    alignItems: 'center'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Input, {\n                    type: \"number\",\n                    placeholder: \"Ownership %\",\n                    value: psc.ownership_percentage || ownership,\n                    onChange: e => {\n                      const updated = [...step2Data.company_data.pscs];\n                      updated[index].ownership_percentage = parseFloat(e.target.value);\n                      setStep2Data({\n                        ...step2Data,\n                        company_data: {\n                          ...step2Data.company_data,\n                          pscs: updated\n                        }\n                      });\n                      handleDirectorsUpdate(step2Data.company_data.directors || [], updated);\n                    },\n                    style: {\n                      width: '100px'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 719,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(Checkbox, {\n                    label: \"Confirm\",\n                    checked: psc.confirmed || false,\n                    onChange: e => {\n                      const updated = [...step2Data.company_data.pscs];\n                      updated[index].confirmed = e.target.checked;\n                      setStep2Data({\n                        ...step2Data,\n                        company_data: {\n                          ...step2Data.company_data,\n                          pscs: updated\n                        }\n                      });\n                      handleDirectorsUpdate(step2Data.company_data.directors || [], updated);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 734,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 718,\n                  columnNumber: 27\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 698,\n                columnNumber: 25\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 692,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 690,\n          columnNumber: 17\n        }, this), step3Data.applicants_required.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            ...commonStyles.card,\n            padding: theme.spacing.md,\n            background: theme.colors.warningLight,\n            marginBottom: theme.spacing.lg\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: `0 0 ${theme.spacing.sm} 0`\n            },\n            children: \"Applicants Required\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 763,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: 0,\n              fontSize: theme.typography.fontSize.sm\n            },\n            children: [\"The following \", step3Data.applicants_required.length, \" person(s) will need to complete applicant details in the next step:\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 764,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            style: {\n              margin: `${theme.spacing.sm} 0 0 0`,\n              paddingLeft: theme.spacing.lg\n            },\n            children: step3Data.applicants_required.map((app, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n              style: {\n                marginBottom: theme.spacing.xs\n              },\n              children: [app.name, \" (\", app.role, \")\"]\n            }, idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 769,\n              columnNumber: 23\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 767,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 757,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 642,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          marginTop: theme.spacing.xl\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline\",\n          onClick: prevStep,\n          children: \"Previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 780,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: nextStep,\n          disabled: step3Data.applicants_required.length === 0,\n          children: \"Next: Applicant Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 783,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 779,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 629,\n      columnNumber: 9\n    }, this), step === 4 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          fontSize: theme.typography.fontSize['2xl'],\n          fontWeight: theme.typography.fontWeight.semibold,\n          margin: `0 0 ${theme.spacing.lg} 0`\n        },\n        children: \"Applicant Personal Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 797,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: theme.colors.textSecondary,\n          marginBottom: theme.spacing.lg\n        },\n        children: \"Complete details for each required applicant.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 804,\n        columnNumber: 11\n      }, this), step3Data.applicants_required.map((applicant, applicantIndex) => {\n        const applicantData = step4Data.applicants[applicantIndex] || {\n          person_id: applicant.person_id,\n          name: applicant.name,\n          role: applicant.role,\n          first_name: '',\n          last_name: '',\n          date_of_birth: '',\n          nationality: '',\n          email: '',\n          phone: '',\n          current_address: '',\n          previous_address: '',\n          employment_status: '',\n          occupation: '',\n          employment_start_date: '',\n          net_monthly_income: '',\n          experience_tier: '',\n          adverse_credit_band: '',\n          source_of_deposit: '',\n          exit_strategy: ''\n        };\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            ...commonStyles.card,\n            padding: theme.spacing.xl,\n            marginBottom: theme.spacing.xl\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: `0 0 ${theme.spacing.lg} 0`\n            },\n            children: [applicant.name, \" - \", applicant.role]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 837,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))',\n              gap: theme.spacing.md,\n              marginBottom: theme.spacing.lg\n            },\n            children: [/*#__PURE__*/_jsxDEV(Input, {\n              label: \"First Name\",\n              value: applicantData.first_name,\n              onChange: e => {\n                const updated = [...step4Data.applicants];\n                updated[applicantIndex] = {\n                  ...applicantData,\n                  first_name: e.target.value\n                };\n                setStep4Data({\n                  ...step4Data,\n                  applicants: updated\n                });\n              },\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 842,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              label: \"Last Name\",\n              value: applicantData.last_name,\n              onChange: e => {\n                const updated = [...step4Data.applicants];\n                updated[applicantIndex] = {\n                  ...applicantData,\n                  last_name: e.target.value\n                };\n                setStep4Data({\n                  ...step4Data,\n                  applicants: updated\n                });\n              },\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 852,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              label: \"Date of Birth\",\n              type: \"date\",\n              value: applicantData.date_of_birth,\n              onChange: e => {\n                const updated = [...step4Data.applicants];\n                updated[applicantIndex] = {\n                  ...applicantData,\n                  date_of_birth: e.target.value\n                };\n                setStep4Data({\n                  ...step4Data,\n                  applicants: updated\n                });\n              },\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 862,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              label: \"Nationality\",\n              value: applicantData.nationality,\n              onChange: e => {\n                const updated = [...step4Data.applicants];\n                updated[applicantIndex] = {\n                  ...applicantData,\n                  nationality: e.target.value\n                };\n                setStep4Data({\n                  ...step4Data,\n                  applicants: updated\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 873,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              label: \"Email\",\n              type: \"email\",\n              value: applicantData.email,\n              onChange: e => {\n                const updated = [...step4Data.applicants];\n                updated[applicantIndex] = {\n                  ...applicantData,\n                  email: e.target.value\n                };\n                setStep4Data({\n                  ...step4Data,\n                  applicants: updated\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 882,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              label: \"Phone\",\n              type: \"tel\",\n              value: applicantData.phone,\n              onChange: e => {\n                const updated = [...step4Data.applicants];\n                updated[applicantIndex] = {\n                  ...applicantData,\n                  phone: e.target.value\n                };\n                setStep4Data({\n                  ...step4Data,\n                  applicants: updated\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 892,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 841,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            style: {\n              margin: `${theme.spacing.lg} 0 ${theme.spacing.md} 0`\n            },\n            children: \"Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 904,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: theme.spacing.lg\n            },\n            children: [/*#__PURE__*/_jsxDEV(Textarea, {\n              label: \"Current Address\",\n              value: applicantData.current_address,\n              onChange: e => {\n                const updated = [...step4Data.applicants];\n                updated[applicantIndex] = {\n                  ...applicantData,\n                  current_address: e.target.value\n                };\n                setStep4Data({\n                  ...step4Data,\n                  applicants: updated\n                });\n              },\n              rows: 3,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 906,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n              label: \"Previous Address (only if current address < 3 years)\",\n              value: applicantData.previous_address,\n              onChange: e => {\n                const updated = [...step4Data.applicants];\n                updated[applicantIndex] = {\n                  ...applicantData,\n                  previous_address: e.target.value\n                };\n                setStep4Data({\n                  ...step4Data,\n                  applicants: updated\n                });\n              },\n              rows: 3,\n              style: {\n                marginTop: theme.spacing.md\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 917,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 905,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            style: {\n              margin: `${theme.spacing.lg} 0 ${theme.spacing.md} 0`\n            },\n            children: \"Employment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 930,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))',\n              gap: theme.spacing.md,\n              marginBottom: theme.spacing.lg\n            },\n            children: [/*#__PURE__*/_jsxDEV(Select, {\n              label: \"Employment Status\",\n              value: applicantData.employment_status,\n              onChange: e => {\n                const updated = [...step4Data.applicants];\n                updated[applicantIndex] = {\n                  ...applicantData,\n                  employment_status: e.target.value\n                };\n                setStep4Data({\n                  ...step4Data,\n                  applicants: updated\n                });\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 941,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"employed\",\n                children: \"Employed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 942,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"self_employed\",\n                children: \"Self-Employed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 943,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"retired\",\n                children: \"Retired\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 944,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"unemployed\",\n                children: \"Unemployed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 945,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 932,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              label: \"Occupation\",\n              value: applicantData.occupation,\n              onChange: e => {\n                const updated = [...step4Data.applicants];\n                updated[applicantIndex] = {\n                  ...applicantData,\n                  occupation: e.target.value\n                };\n                setStep4Data({\n                  ...step4Data,\n                  applicants: updated\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 947,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              label: \"Employment Start Date\",\n              type: \"date\",\n              value: applicantData.employment_start_date,\n              onChange: e => {\n                const updated = [...step4Data.applicants];\n                updated[applicantIndex] = {\n                  ...applicantData,\n                  employment_start_date: e.target.value\n                };\n                setStep4Data({\n                  ...step4Data,\n                  applicants: updated\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 956,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              label: \"Net Monthly Income\",\n              type: \"number\",\n              value: applicantData.net_monthly_income,\n              onChange: e => {\n                const updated = [...step4Data.applicants];\n                updated[applicantIndex] = {\n                  ...applicantData,\n                  net_monthly_income: e.target.value\n                };\n                setStep4Data({\n                  ...step4Data,\n                  applicants: updated\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 966,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 931,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            style: {\n              margin: `${theme.spacing.lg} 0 ${theme.spacing.md} 0`\n            },\n            children: \"Underwriting Flags\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 978,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))',\n              gap: theme.spacing.md\n            },\n            children: [/*#__PURE__*/_jsxDEV(Select, {\n              label: \"Borrower Experience Tier\",\n              value: applicantData.experience_tier,\n              onChange: e => {\n                const updated = [...step4Data.applicants];\n                updated[applicantIndex] = {\n                  ...applicantData,\n                  experience_tier: e.target.value\n                };\n                setStep4Data({\n                  ...step4Data,\n                  applicants: updated\n                });\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 989,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"0\",\n                children: \"0 deals\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 990,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"1-3\",\n                children: \"1-3 deals\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 991,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"4-10\",\n                children: \"4-10 deals\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 992,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"10+\",\n                children: \"10+ deals\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 993,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 980,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              label: \"Adverse Credit Band\",\n              value: applicantData.adverse_credit_band,\n              onChange: e => {\n                const updated = [...step4Data.applicants];\n                updated[applicantIndex] = {\n                  ...applicantData,\n                  adverse_credit_band: e.target.value\n                };\n                setStep4Data({\n                  ...step4Data,\n                  applicants: updated\n                });\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1004,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"none\",\n                children: \"None\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1005,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"minor\",\n                children: \"Minor\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1006,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"significant\",\n                children: \"Significant\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1007,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 995,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              label: \"Source of Deposit\",\n              value: applicantData.source_of_deposit,\n              onChange: e => {\n                const updated = [...step4Data.applicants];\n                updated[applicantIndex] = {\n                  ...applicantData,\n                  source_of_deposit: e.target.value\n                };\n                setStep4Data({\n                  ...step4Data,\n                  applicants: updated\n                });\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1018,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"savings\",\n                children: \"Savings\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1019,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"sale_of_property\",\n                children: \"Sale of Property\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1020,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"gift\",\n                children: \"Gift\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1021,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"inheritance\",\n                children: \"Inheritance\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1022,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"other\",\n                children: \"Other\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1023,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1009,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              label: \"Intended Exit Strategy\",\n              value: applicantData.exit_strategy,\n              onChange: e => {\n                const updated = [...step4Data.applicants];\n                updated[applicantIndex] = {\n                  ...applicantData,\n                  exit_strategy: e.target.value\n                };\n                setStep4Data({\n                  ...step4Data,\n                  applicants: updated\n                });\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1034,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"sale\",\n                children: \"Sale\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1035,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"refinance\",\n                children: \"Refinance\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1036,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"rental_income\",\n                children: \"Rental Income\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1037,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"other\",\n                children: \"Other\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1038,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1025,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 979,\n            columnNumber: 17\n          }, this)]\n        }, applicantIndex, true, {\n          fileName: _jsxFileName,\n          lineNumber: 832,\n          columnNumber: 15\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          marginTop: theme.spacing.xl\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline\",\n          onClick: prevStep,\n          children: \"Previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1046,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: nextStep,\n          children: \"Next: Financial Snapshot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1049,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1045,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 796,\n      columnNumber: 9\n    }, this), step === 5 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          fontSize: theme.typography.fontSize['2xl'],\n          fontWeight: theme.typography.fontWeight.semibold,\n          margin: `0 0 ${theme.spacing.lg} 0`\n        },\n        children: \"Financial Snapshot\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1059,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: theme.colors.textSecondary,\n          marginBottom: theme.spacing.lg\n        },\n        children: \"Provide your financial information. You can choose quick mode (totals only) or detailed mode (line-item breakdown).\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1066,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: theme.spacing.lg\n        },\n        children: /*#__PURE__*/_jsxDEV(Select, {\n          label: \"Mode\",\n          value: step5Data.mode,\n          onChange: e => setStep5Data({\n            ...step5Data,\n            mode: e.target.value\n          }),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"quick\",\n            children: \"Quick Mode (Totals Only)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1076,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"detailed\",\n            children: \"Detailed Mode (Line-Item Breakdown)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1077,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1071,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1070,\n        columnNumber: 11\n      }, this), step5Data.mode === 'quick' ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'grid',\n          gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))',\n          gap: theme.spacing.lg\n        },\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          label: \"Total Income\",\n          type: \"number\",\n          value: step5Data.income_total,\n          onChange: e => setStep5Data({\n            ...step5Data,\n            income_total: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1083,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          label: \"Total Expenditure\",\n          type: \"number\",\n          value: step5Data.expenditure_total,\n          onChange: e => setStep5Data({\n            ...step5Data,\n            expenditure_total: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1089,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          label: \"Total Assets\",\n          type: \"number\",\n          value: step5Data.assets_total,\n          onChange: e => setStep5Data({\n            ...step5Data,\n            assets_total: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1095,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          label: \"Total Liabilities\",\n          type: \"number\",\n          value: step5Data.liabilities_total,\n          onChange: e => setStep5Data({\n            ...step5Data,\n            liabilities_total: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1101,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1082,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: `0 0 ${theme.spacing.md} 0`\n          },\n          children: \"Income Breakdown\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1110,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: theme.spacing.lg\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            size: \"sm\",\n            onClick: () => {\n              setStep5Data({\n                ...step5Data,\n                income_breakdown: [...step5Data.income_breakdown, {\n                  description: '',\n                  amount: ''\n                }]\n              });\n            },\n            children: \"+ Add Income Item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1112,\n            columnNumber: 17\n          }, this), step5Data.income_breakdown.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: theme.spacing.sm,\n              marginTop: theme.spacing.sm\n            },\n            children: [/*#__PURE__*/_jsxDEV(Input, {\n              placeholder: \"Description\",\n              value: item.description,\n              onChange: e => {\n                const updated = [...step5Data.income_breakdown];\n                updated[index].description = e.target.value;\n                setStep5Data({\n                  ...step5Data,\n                  income_breakdown: updated\n                });\n              },\n              style: {\n                flex: 1\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1126,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              type: \"number\",\n              placeholder: \"Amount\",\n              value: item.amount,\n              onChange: e => {\n                const updated = [...step5Data.income_breakdown];\n                updated[index].amount = e.target.value;\n                setStep5Data({\n                  ...step5Data,\n                  income_breakdown: updated\n                });\n              },\n              style: {\n                width: '150px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1136,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outline\",\n              size: \"sm\",\n              onClick: () => {\n                setStep5Data({\n                  ...step5Data,\n                  income_breakdown: step5Data.income_breakdown.filter((_, i) => i !== index)\n                });\n              },\n              children: \"Remove\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1147,\n              columnNumber: 21\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1125,\n            columnNumber: 19\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1111,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: `${theme.spacing.lg} 0 ${theme.spacing.md} 0`\n          },\n          children: \"Expenditure Breakdown\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1163,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: theme.spacing.lg\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            size: \"sm\",\n            onClick: () => {\n              setStep5Data({\n                ...step5Data,\n                expenditure_breakdown: [...step5Data.expenditure_breakdown, {\n                  description: '',\n                  amount: ''\n                }]\n              });\n            },\n            children: \"+ Add Expenditure Item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1165,\n            columnNumber: 17\n          }, this), step5Data.expenditure_breakdown.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: theme.spacing.sm,\n              marginTop: theme.spacing.sm\n            },\n            children: [/*#__PURE__*/_jsxDEV(Input, {\n              placeholder: \"Description\",\n              value: item.description,\n              onChange: e => {\n                const updated = [...step5Data.expenditure_breakdown];\n                updated[index].description = e.target.value;\n                setStep5Data({\n                  ...step5Data,\n                  expenditure_breakdown: updated\n                });\n              },\n              style: {\n                flex: 1\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1179,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              type: \"number\",\n              placeholder: \"Amount\",\n              value: item.amount,\n              onChange: e => {\n                const updated = [...step5Data.expenditure_breakdown];\n                updated[index].amount = e.target.value;\n                setStep5Data({\n                  ...step5Data,\n                  expenditure_breakdown: updated\n                });\n              },\n              style: {\n                width: '150px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1189,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outline\",\n              size: \"sm\",\n              onClick: () => {\n                setStep5Data({\n                  ...step5Data,\n                  expenditure_breakdown: step5Data.expenditure_breakdown.filter((_, i) => i !== index)\n                });\n              },\n              children: \"Remove\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1200,\n              columnNumber: 21\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1178,\n            columnNumber: 19\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1164,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: `${theme.spacing.lg} 0 ${theme.spacing.md} 0`\n          },\n          children: \"Assets Breakdown\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1216,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: theme.spacing.lg\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            size: \"sm\",\n            onClick: () => {\n              setStep5Data({\n                ...step5Data,\n                assets_breakdown: [...step5Data.assets_breakdown, {\n                  description: '',\n                  amount: ''\n                }]\n              });\n            },\n            children: \"+ Add Asset Item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1218,\n            columnNumber: 17\n          }, this), step5Data.assets_breakdown.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: theme.spacing.sm,\n              marginTop: theme.spacing.sm\n            },\n            children: [/*#__PURE__*/_jsxDEV(Input, {\n              placeholder: \"Description\",\n              value: item.description,\n              onChange: e => {\n                const updated = [...step5Data.assets_breakdown];\n                updated[index].description = e.target.value;\n                setStep5Data({\n                  ...step5Data,\n                  assets_breakdown: updated\n                });\n              },\n              style: {\n                flex: 1\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1232,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              type: \"number\",\n              placeholder: \"Amount\",\n              value: item.amount,\n              onChange: e => {\n                const updated = [...step5Data.assets_breakdown];\n                updated[index].amount = e.target.value;\n                setStep5Data({\n                  ...step5Data,\n                  assets_breakdown: updated\n                });\n              },\n              style: {\n                width: '150px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1242,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outline\",\n              size: \"sm\",\n              onClick: () => {\n                setStep5Data({\n                  ...step5Data,\n                  assets_breakdown: step5Data.assets_breakdown.filter((_, i) => i !== index)\n                });\n              },\n              children: \"Remove\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1253,\n              columnNumber: 21\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1231,\n            columnNumber: 19\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1217,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: `${theme.spacing.lg} 0 ${theme.spacing.md} 0`\n          },\n          children: \"Liabilities Breakdown\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1269,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            size: \"sm\",\n            onClick: () => {\n              setStep5Data({\n                ...step5Data,\n                liabilities_breakdown: [...step5Data.liabilities_breakdown, {\n                  description: '',\n                  amount: ''\n                }]\n              });\n            },\n            children: \"+ Add Liability Item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1271,\n            columnNumber: 17\n          }, this), step5Data.liabilities_breakdown.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: theme.spacing.sm,\n              marginTop: theme.spacing.sm\n            },\n            children: [/*#__PURE__*/_jsxDEV(Input, {\n              placeholder: \"Description\",\n              value: item.description,\n              onChange: e => {\n                const updated = [...step5Data.liabilities_breakdown];\n                updated[index].description = e.target.value;\n                setStep5Data({\n                  ...step5Data,\n                  liabilities_breakdown: updated\n                });\n              },\n              style: {\n                flex: 1\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1285,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              type: \"number\",\n              placeholder: \"Amount\",\n              value: item.amount,\n              onChange: e => {\n                const updated = [...step5Data.liabilities_breakdown];\n                updated[index].amount = e.target.value;\n                setStep5Data({\n                  ...step5Data,\n                  liabilities_breakdown: updated\n                });\n              },\n              style: {\n                width: '150px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1295,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outline\",\n              size: \"sm\",\n              onClick: () => {\n                setStep5Data({\n                  ...step5Data,\n                  liabilities_breakdown: step5Data.liabilities_breakdown.filter((_, i) => i !== index)\n                });\n              },\n              children: \"Remove\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1306,\n              columnNumber: 21\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1284,\n            columnNumber: 19\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1270,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1109,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          marginTop: theme.spacing.xl\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline\",\n          onClick: prevStep,\n          children: \"Previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1325,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: nextStep,\n          children: \"Next: Bank Data\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1328,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1324,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1058,\n      columnNumber: 9\n    }, this), step === 6 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          fontSize: theme.typography.fontSize['2xl'],\n          fontWeight: theme.typography.fontWeight.semibold,\n          margin: `0 0 ${theme.spacing.lg} 0`\n        },\n        children: \"Bank Data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1338,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: theme.colors.textSecondary,\n          marginBottom: theme.spacing.lg\n        },\n        children: \"Connect your bank account via Open Banking or upload PDF statements.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1345,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: theme.spacing.xl\n        },\n        children: /*#__PURE__*/_jsxDEV(Select, {\n          label: \"Method\",\n          value: step6Data.method,\n          onChange: e => setStep6Data({\n            ...step6Data,\n            method: e.target.value\n          }),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"open_banking\",\n            children: \"Open Banking (Recommended)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1355,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"pdf_upload\",\n            children: \"Upload PDF Statements\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1356,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1350,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1349,\n        columnNumber: 11\n      }, this), step6Data.method === 'open_banking' ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: !step6Data.open_banking_connected ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              marginBottom: theme.spacing.md\n            },\n            children: \"Connect your business bank account via Open Banking. We support business accounts first, with personal accounts as an option if business accounts are unavailable.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1364,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            label: \"Bank Provider\",\n            value: step6Data.open_banking_provider,\n            onChange: e => setStep6Data({\n              ...step6Data,\n              open_banking_provider: e.target.value\n            }),\n            style: {\n              marginBottom: theme.spacing.md\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select your bank...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1373,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"barclays\",\n              children: \"Barclays\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1374,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"hsbc\",\n              children: \"HSBC\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1375,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"lloyds\",\n              children: \"Lloyds\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1376,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"natwest\",\n              children: \"NatWest\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1377,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"santander\",\n              children: \"Santander\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1378,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"other\",\n              children: \"Other\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1379,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1367,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: handleConnectOpenBanking,\n            loading: loading,\n            disabled: !step6Data.open_banking_provider,\n            children: \"Connect Open Banking\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1381,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1363,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            ...commonStyles.card,\n            padding: theme.spacing.lg,\n            background: theme.colors.successLight\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: 0,\n              fontWeight: theme.typography.fontWeight.medium\n            },\n            children: \"\\u2713 Open Banking Connected\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1396,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: `${theme.spacing.sm} 0 0 0`,\n              fontSize: theme.typography.fontSize.sm\n            },\n            children: [step6Data.accounts.length, \" account(s) connected\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1399,\n            columnNumber: 19\n          }, this), step6Data.accounts.map((account, index) => {\n            var _account$account_numb;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: theme.spacing.md,\n                padding: theme.spacing.md,\n                background: theme.colors.white,\n                borderRadius: theme.borderRadius.md\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 0,\n                  fontWeight: theme.typography.fontWeight.medium\n                },\n                children: [account.account_name || 'Account', \" - ****\", ((_account$account_numb = account.account_number) === null || _account$account_numb === void 0 ? void 0 : _account$account_numb.slice(-4)) || '****']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1409,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: `${theme.spacing.xs} 0 0 0`,\n                  fontSize: theme.typography.fontSize.sm,\n                  color: theme.colors.textSecondary\n                },\n                children: [\"Balance: \\xA3\", parseFloat(account.balance || 0).toLocaleString('en-GB')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1412,\n                columnNumber: 23\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1403,\n              columnNumber: 21\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1391,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1361,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            marginBottom: theme.spacing.md\n          },\n          children: \"Upload your last 3 months of bank statements (PDF format only).\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1422,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          onDragEnter: e => {\n            e.preventDefault();\n            e.stopPropagation();\n            setDragActive(true);\n          },\n          onDragLeave: e => {\n            e.preventDefault();\n            e.stopPropagation();\n            setDragActive(false);\n          },\n          onDragOver: e => {\n            e.preventDefault();\n            e.stopPropagation();\n          },\n          onDrop: e => {\n            e.preventDefault();\n            e.stopPropagation();\n            setDragActive(false);\n            if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\n              handleFileUpload(e.dataTransfer.files, 'bank_statement', 'bank');\n            }\n          },\n          style: {\n            padding: theme.spacing.xl,\n            border: `2px dashed ${dragActive ? theme.colors.primary : theme.colors.gray300}`,\n            borderRadius: theme.borderRadius.md,\n            textAlign: 'center',\n            background: dragActive ? theme.colors.primaryLight : theme.colors.gray50,\n            cursor: 'pointer',\n            marginBottom: theme.spacing.md\n          },\n          onClick: () => {\n            var _fileInputRef$current;\n            return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            ref: fileInputRef,\n            type: \"file\",\n            multiple: true,\n            accept: \".pdf\",\n            style: {\n              display: 'none'\n            },\n            onChange: e => {\n              if (e.target.files && e.target.files.length > 0) {\n                handleFileUpload(e.target.files, 'bank_statement', 'bank');\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1459,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '48px',\n              marginBottom: theme.spacing.sm\n            },\n            children: \"\\uD83D\\uDCC4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1471,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: 0,\n              fontSize: theme.typography.fontSize.lg,\n              fontWeight: theme.typography.fontWeight.semibold\n            },\n            children: \"Drag and drop PDF statements here\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1472,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: 0,\n              color: theme.colors.textSecondary\n            },\n            children: \"or click to browse \\u2022 PDF only \\u2022 Max 10MB per file\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1475,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1425,\n          columnNumber: 15\n        }, this), step6Data.pdf_statements.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              marginBottom: theme.spacing.sm\n            },\n            children: \"Uploaded Statements:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1481,\n            columnNumber: 19\n          }, this), step6Data.pdf_statements.map((file, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: theme.spacing.sm,\n              background: theme.colors.gray50,\n              borderRadius: theme.borderRadius.md,\n              marginBottom: theme.spacing.xs,\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: file.name || `Statement ${index + 1}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1492,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outline\",\n              size: \"sm\",\n              onClick: () => {\n                setStep6Data({\n                  ...step6Data,\n                  pdf_statements: step6Data.pdf_statements.filter((_, i) => i !== index)\n                });\n              },\n              children: \"Remove\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1493,\n              columnNumber: 23\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1483,\n            columnNumber: 21\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1480,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1421,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          marginTop: theme.spacing.xl\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline\",\n          onClick: prevStep,\n          children: \"Previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1513,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: nextStep,\n          children: \"Next: Documents\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1516,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1512,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1337,\n      columnNumber: 9\n    }, this), step === 7 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          fontSize: theme.typography.fontSize['2xl'],\n          fontWeight: theme.typography.fontWeight.semibold,\n          margin: `0 0 ${theme.spacing.lg} 0`\n        },\n        children: \"Documents\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1526,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: theme.colors.textSecondary,\n          marginBottom: theme.spacing.lg\n        },\n        children: \"Upload required company and personal documents. You can mark documents as \\\"not available yet\\\" with a reason.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1533,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: theme.spacing.xl\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: `0 0 ${theme.spacing.md} 0`\n          },\n          children: \"Company Documents\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1539,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: theme.spacing.lg\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            style: {\n              margin: `0 0 ${theme.spacing.sm} 0`,\n              fontSize: theme.typography.fontSize.base\n            },\n            children: \"Statutory Accounts (Last 2 Years)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1542,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            onDragEnter: e => {\n              e.preventDefault();\n              setDragActive(true);\n            },\n            onDragLeave: e => {\n              e.preventDefault();\n              setDragActive(false);\n            },\n            onDragOver: e => e.preventDefault(),\n            onDrop: e => {\n              e.preventDefault();\n              setDragActive(false);\n              if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\n                handleFileUpload(e.dataTransfer.files, 'statutory_accounts', 'company');\n              }\n            },\n            style: {\n              padding: theme.spacing.lg,\n              border: `2px dashed ${dragActive ? theme.colors.primary : theme.colors.gray300}`,\n              borderRadius: theme.borderRadius.md,\n              textAlign: 'center',\n              background: dragActive ? theme.colors.primaryLight : theme.colors.gray50,\n              cursor: 'pointer',\n              marginBottom: theme.spacing.sm\n            },\n            onClick: () => {\n              const input = document.createElement('input');\n              input.type = 'file';\n              input.multiple = true;\n              input.accept = '.pdf,.jpg,.jpeg,.png';\n              input.onchange = e => {\n                if (e.target.files && e.target.files.length > 0) {\n                  handleFileUpload(e.target.files, 'statutory_accounts', 'company');\n                }\n              };\n              input.click();\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '32px',\n                marginBottom: theme.spacing.xs\n              },\n              children: \"\\uD83D\\uDCCE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1584,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: 0,\n                fontSize: theme.typography.fontSize.sm\n              },\n              children: \"Drag and drop or click to upload \\u2022 PDF, JPG, PNG \\u2022 Max 10MB per file\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1585,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1545,\n            columnNumber: 15\n          }, this), step7Data.company_documents.statutory_accounts.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: theme.spacing.sm\n            },\n            children: step7Data.company_documents.statutory_accounts.map((doc, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: theme.spacing.sm,\n                background: theme.colors.gray50,\n                borderRadius: theme.borderRadius.md,\n                marginBottom: theme.spacing.xs,\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontSize: theme.typography.fontSize.sm\n                },\n                children: doc.file_name || `Document ${index + 1}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1601,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outline\",\n                size: \"sm\",\n                onClick: () => {\n                  const updated = {\n                    ...step7Data\n                  };\n                  updated.company_documents.statutory_accounts = updated.company_documents.statutory_accounts.filter((_, i) => i !== index);\n                  setStep7Data(updated);\n                },\n                children: \"Remove\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1604,\n                columnNumber: 23\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1592,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1590,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1541,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            style: {\n              margin: `0 0 ${theme.spacing.sm} 0`,\n              fontSize: theme.typography.fontSize.base\n            },\n            children: \"Management Accounts (if available)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1622,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            onDragEnter: e => {\n              e.preventDefault();\n              setDragActive(true);\n            },\n            onDragLeave: e => {\n              e.preventDefault();\n              setDragActive(false);\n            },\n            onDragOver: e => e.preventDefault(),\n            onDrop: e => {\n              e.preventDefault();\n              setDragActive(false);\n              if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\n                handleFileUpload(e.dataTransfer.files, 'management_accounts', 'company');\n              }\n            },\n            style: {\n              padding: theme.spacing.lg,\n              border: `2px dashed ${dragActive ? theme.colors.primary : theme.colors.gray300}`,\n              borderRadius: theme.borderRadius.md,\n              textAlign: 'center',\n              background: dragActive ? theme.colors.primaryLight : theme.colors.gray50,\n              cursor: 'pointer',\n              marginBottom: theme.spacing.sm\n            },\n            onClick: () => {\n              const input = document.createElement('input');\n              input.type = 'file';\n              input.multiple = true;\n              input.accept = '.pdf,.jpg,.jpeg,.png';\n              input.onchange = e => {\n                if (e.target.files && e.target.files.length > 0) {\n                  handleFileUpload(e.target.files, 'management_accounts', 'company');\n                }\n              };\n              input.click();\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '32px',\n                marginBottom: theme.spacing.xs\n              },\n              children: \"\\uD83D\\uDCCE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1664,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: 0,\n                fontSize: theme.typography.fontSize.sm\n              },\n              children: \"Drag and drop or click to upload \\u2022 PDF, JPG, PNG \\u2022 Max 10MB per file\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1665,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1625,\n            columnNumber: 15\n          }, this), step7Data.company_documents.management_accounts.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: theme.spacing.sm\n            },\n            children: step7Data.company_documents.management_accounts.map((doc, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: theme.spacing.sm,\n                background: theme.colors.gray50,\n                borderRadius: theme.borderRadius.md,\n                marginBottom: theme.spacing.xs,\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontSize: theme.typography.fontSize.sm\n                },\n                children: doc.file_name || `Document ${index + 1}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1681,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outline\",\n                size: \"sm\",\n                onClick: () => {\n                  const updated = {\n                    ...step7Data\n                  };\n                  updated.company_documents.management_accounts = updated.company_documents.management_accounts.filter((_, i) => i !== index);\n                  setStep7Data(updated);\n                },\n                children: \"Remove\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1684,\n                columnNumber: 23\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1672,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1670,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1621,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1538,\n        columnNumber: 11\n      }, this), step4Data.applicants.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: `0 0 ${theme.spacing.md} 0`\n          },\n          children: \"Personal Documents (Applicants)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1705,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            style: {\n              margin: `0 0 ${theme.spacing.sm} 0`,\n              fontSize: theme.typography.fontSize.base\n            },\n            children: \"Photo ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1707,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            onDragEnter: e => {\n              e.preventDefault();\n              setDragActive(true);\n            },\n            onDragLeave: e => {\n              e.preventDefault();\n              setDragActive(false);\n            },\n            onDragOver: e => e.preventDefault(),\n            onDrop: e => {\n              e.preventDefault();\n              setDragActive(false);\n              if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\n                handleFileUpload(e.dataTransfer.files, 'photo_id', 'personal');\n              }\n            },\n            style: {\n              padding: theme.spacing.lg,\n              border: `2px dashed ${dragActive ? theme.colors.primary : theme.colors.gray300}`,\n              borderRadius: theme.borderRadius.md,\n              textAlign: 'center',\n              background: dragActive ? theme.colors.primaryLight : theme.colors.gray50,\n              cursor: 'pointer',\n              marginBottom: theme.spacing.sm\n            },\n            onClick: () => {\n              const input = document.createElement('input');\n              input.type = 'file';\n              input.multiple = true;\n              input.accept = '.pdf,.jpg,.jpeg,.png';\n              input.onchange = e => {\n                if (e.target.files && e.target.files.length > 0) {\n                  handleFileUpload(e.target.files, 'photo_id', 'personal');\n                }\n              };\n              input.click();\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '32px',\n                marginBottom: theme.spacing.xs\n              },\n              children: \"\\uD83D\\uDCCE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1749,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: 0,\n                fontSize: theme.typography.fontSize.sm\n              },\n              children: \"Drag and drop or click to upload \\u2022 PDF, JPG, PNG \\u2022 Max 10MB per file\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1750,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1710,\n            columnNumber: 17\n          }, this), step7Data.personal_documents.photo_id.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: theme.spacing.sm\n            },\n            children: step7Data.personal_documents.photo_id.map((doc, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: theme.spacing.sm,\n                background: theme.colors.gray50,\n                borderRadius: theme.borderRadius.md,\n                marginBottom: theme.spacing.xs,\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontSize: theme.typography.fontSize.sm\n                },\n                children: doc.file_name || `Document ${index + 1}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1766,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outline\",\n                size: \"sm\",\n                onClick: () => {\n                  const updated = {\n                    ...step7Data\n                  };\n                  updated.personal_documents.photo_id = updated.personal_documents.photo_id.filter((_, i) => i !== index);\n                  setStep7Data(updated);\n                },\n                children: \"Remove\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1769,\n                columnNumber: 25\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1757,\n              columnNumber: 23\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1755,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1706,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1704,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          marginTop: theme.spacing.xl\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline\",\n          onClick: prevStep,\n          children: \"Previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1789,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: nextStep,\n          children: \"Next: Review & Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1792,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1788,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1525,\n      columnNumber: 9\n    }, this), step === 8 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          fontSize: theme.typography.fontSize['2xl'],\n          fontWeight: theme.typography.fontWeight.semibold,\n          margin: `0 0 ${theme.spacing.lg} 0`\n        },\n        children: \"Review & Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1802,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: theme.colors.textSecondary,\n          marginBottom: theme.spacing.lg\n        },\n        children: \"Please review all information before submitting your borrower profile for review.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1809,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'grid',\n          gap: theme.spacing.lg,\n          marginBottom: theme.spacing.xl\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: commonStyles.card,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: `0 0 ${theme.spacing.md} 0`\n            },\n            children: \"Account & Consent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1816,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Email:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1817,\n              columnNumber: 18\n            }, this), \" \", step1Data.email]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1817,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Mobile:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1818,\n              columnNumber: 18\n            }, this), \" \", step1Data.mobile_number]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1818,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"MFA Enabled:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1819,\n              columnNumber: 18\n            }, this), \" \", step1Data.mfa_enabled ? 'Yes' : 'No']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1819,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Consents:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1820,\n              columnNumber: 18\n            }, this), \" All confirmed\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1820,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1815,\n          columnNumber: 13\n        }, this), step2Data.company_data && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: commonStyles.card,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: `0 0 ${theme.spacing.md} 0`\n            },\n            children: \"Company\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1826,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Company Name:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1827,\n              columnNumber: 20\n            }, this), \" \", step2Data.company_data.company_name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1827,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Company Number:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1828,\n              columnNumber: 20\n            }, this), \" \", step2Data.company_data.company_number]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1828,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Status:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1829,\n              columnNumber: 20\n            }, this), \" \", step2Data.company_data.company_status]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1829,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1825,\n          columnNumber: 15\n        }, this), step3Data.applicants_required.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: commonStyles.card,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: `0 0 ${theme.spacing.md} 0`\n            },\n            children: \"Applicants Required\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1836,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [step3Data.applicants_required.length, \" applicant(s) will need to complete details\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1837,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1835,\n          columnNumber: 15\n        }, this), step4Data.applicants.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: commonStyles.card,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: `0 0 ${theme.spacing.md} 0`\n            },\n            children: \"Applicants\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1844,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [step4Data.applicants.length, \" applicant(s) details completed\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1845,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1843,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: commonStyles.card,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: `0 0 ${theme.spacing.md} 0`\n            },\n            children: \"Financial Snapshot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1851,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Mode:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1852,\n              columnNumber: 18\n            }, this), \" \", step5Data.mode === 'quick' ? 'Quick (Totals Only)' : 'Detailed (Line-Item)']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1852,\n            columnNumber: 15\n          }, this), step5Data.mode === 'quick' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Total Income:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1855,\n                columnNumber: 22\n              }, this), \" \\xA3\", parseFloat(step5Data.income_total || 0).toLocaleString('en-GB')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1855,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Total Expenditure:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1856,\n                columnNumber: 22\n              }, this), \" \\xA3\", parseFloat(step5Data.expenditure_total || 0).toLocaleString('en-GB')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1856,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Total Assets:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1857,\n                columnNumber: 22\n              }, this), \" \\xA3\", parseFloat(step5Data.assets_total || 0).toLocaleString('en-GB')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1857,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Total Liabilities:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1858,\n                columnNumber: 22\n              }, this), \" \\xA3\", parseFloat(step5Data.liabilities_total || 0).toLocaleString('en-GB')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1858,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Detailed breakdown provided\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1861,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1850,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: commonStyles.card,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: `0 0 ${theme.spacing.md} 0`\n            },\n            children: \"Bank Data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1867,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Method:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1868,\n              columnNumber: 18\n            }, this), \" \", step6Data.method === 'open_banking' ? 'Open Banking' : 'PDF Upload']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1868,\n            columnNumber: 15\n          }, this), step6Data.open_banking_connected && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Accounts Connected:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1870,\n              columnNumber: 20\n            }, this), \" \", step6Data.accounts.length]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1870,\n            columnNumber: 17\n          }, this), step6Data.pdf_statements.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"PDF Statements:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1873,\n              columnNumber: 20\n            }, this), \" \", step6Data.pdf_statements.length, \" file(s)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1873,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1866,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: commonStyles.card,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: `0 0 ${theme.spacing.md} 0`\n            },\n            children: \"Documents\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1879,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Statutory Accounts:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1880,\n              columnNumber: 18\n            }, this), \" \", step7Data.company_documents.statutory_accounts.length, \" file(s)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1880,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Management Accounts:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1881,\n              columnNumber: 18\n            }, this), \" \", step7Data.company_documents.management_accounts.length, \" file(s)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1881,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Photo ID:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1882,\n              columnNumber: 18\n            }, this), \" \", step7Data.personal_documents.photo_id.length, \" file(s)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1882,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1878,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1813,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          ...commonStyles.card,\n          padding: theme.spacing.lg,\n          background: theme.colors.warningLight,\n          marginBottom: theme.spacing.xl\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: 0,\n            fontWeight: theme.typography.fontWeight.medium\n          },\n          children: \"\\u26A0\\uFE0F Once submitted, your profile will be locked for editing until admin review is complete.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1892,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: `${theme.spacing.sm} 0 0 0`,\n            fontSize: theme.typography.fontSize.sm\n          },\n          children: \"You will be able to make changes only if admin requests them.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1895,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1886,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          marginTop: theme.spacing.xl\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline\",\n          onClick: prevStep,\n          children: \"Previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1901,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: handleSubmitForReview,\n          loading: loading,\n          children: \"Submit for Review\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1904,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1900,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1801,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 413,\n    columnNumber: 5\n  }, this);\n}\n_s(BorrowerProfileWizard, \"zTBMO1r3GwnAIvnjpJEDjQTRsiY=\", false, function () {\n  return [useNavigate];\n});\n_c = BorrowerProfileWizard;\nexport default BorrowerProfileWizard;\nvar _c;\n$RefreshReg$(_c, \"BorrowerProfileWizard\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","api","theme","commonStyles","Wizard","Input","Select","Textarea","Checkbox","Button","Badge","CompanyDetails","jsxDEV","_jsxDEV","Fragment","_Fragment","BorrowerProfileWizard","_s","navigate","step","setStep","loading","setLoading","error","setError","message","setMessage","profileStatus","setProfileStatus","stepUpAuth","setStepUpAuth","required","verified","stepUpPassword","setStepUpPassword","fileInputRef","dragActive","setDragActive","step1Data","setStep1Data","email","mobile_number","mfa_enabled","consent_privacy","consent_terms","consent_credit_search","step2Data","setStep2Data","company_number","company_name","company_search_type","company_data","trading_address","primary_contact_email","primary_contact_phone","confirmed","step3Data","setStep3Data","directors","shareholders","applicants_required","step4Data","setStep4Data","applicants","step5Data","setStep5Data","mode","income_total","expenditure_total","assets_total","liabilities_total","income_breakdown","expenditure_breakdown","assets_breakdown","liabilities_breakdown","step6Data","setStep6Data","method","open_banking_connected","open_banking_provider","accounts","pdf_statements","step7Data","setStep7Data","company_documents","statutory_accounts","management_accounts","personal_documents","photo_id","steps","loadProfileStatus","res","get","data","status","err","console","checkStepUpAuth","section","lastAuth","localStorage","getItem","now","Date","tenMinutes","parseInt","verifyStepUpAuth","post","password","setItem","toString","handleCompanySearch","searchParam","_err$response","_err$response$data","response","handleConfirmCompany","handleDirectorsUpdate","applicantsRequired","forEach","dir","resigned_on","push","person_id","id","name","role","ownership_percentage","sh","_sh$natures_of_contro","_sh$natures_of_contro2","ownership","parseFloat","natures_of_control","percentage","handleConnectOpenBanking","provider","_err$response2","_err$response2$data","handleFileUpload","files","documentType","category","length","formData","FormData","Array","from","file","append","headers","updatedDocs","documents","_err$response3","_err$response3$data","handleSubmitForReview","payload","step1","step2","step3","step4","step5","step6","step7","_err$response4","_err$response4$data","nextStep","prevStep","style","position","top","left","right","bottom","background","display","alignItems","justifyContent","zIndex","children","card","maxWidth","padding","spacing","xl","margin","md","fileName","_jsxFileName","lineNumber","columnNumber","color","colors","textSecondary","marginBottom","lg","type","label","value","onChange","e","target","fontSize","typography","sm","gap","variant","onClick","currentStep","errorLight","errorDark","borderRadius","border","successLight","successDark","success","fontWeight","semibold","checked","gray50","flexDirection","marginTop","disabled","placeholder","companyNumber","map","director","index","medium","nationality","xs","updated","pscs","psc","_psc$natures_of_contr","_psc$natures_of_contr2","isRequired","width","warningLight","paddingLeft","app","idx","applicant","applicantIndex","applicantData","first_name","last_name","date_of_birth","phone","current_address","previous_address","employment_status","occupation","employment_start_date","net_monthly_income","experience_tier","adverse_credit_band","source_of_deposit","exit_strategy","gridTemplateColumns","rows","size","description","amount","item","flex","filter","_","i","account","_account$account_numb","white","account_name","account_number","slice","balance","toLocaleString","onDragEnter","preventDefault","stopPropagation","onDragLeave","onDragOver","onDrop","dataTransfer","primary","gray300","textAlign","primaryLight","cursor","_fileInputRef$current","current","click","ref","multiple","accept","base","input","document","createElement","onchange","doc","file_name","company_status","_c","$RefreshReg$"],"sources":["C:/Users/paul-/OneDrive - BARE Capital Ltd/BARE Drive/10.0 BUILDFUND/1.0 Website Dev/GitHub/new_website/src/pages/BorrowerProfileWizard.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport api from '../api';\r\nimport { theme, commonStyles } from '../styles/theme';\r\nimport Wizard from '../components/Wizard';\r\nimport Input from '../components/Input';\r\nimport Select from '../components/Select';\r\nimport Textarea from '../components/Textarea';\r\nimport Checkbox from '../components/Checkbox';\r\nimport Button from '../components/Button';\r\nimport Badge from '../components/Badge';\r\nimport CompanyDetails from '../components/CompanyDetails';\r\n\r\nfunction BorrowerProfileWizard() {\r\n  const navigate = useNavigate();\r\n  const [step, setStep] = useState(1);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [message, setMessage] = useState(null);\r\n  const [profileStatus, setProfileStatus] = useState(null);\r\n  const [stepUpAuth, setStepUpAuth] = useState({ required: false, verified: false });\r\n  const [stepUpPassword, setStepUpPassword] = useState('');\r\n  const fileInputRef = useRef(null);\r\n  const [dragActive, setDragActive] = useState(false);\r\n\r\n  // Step 1: Account setup and consent\r\n  const [step1Data, setStep1Data] = useState({\r\n    email: '',\r\n    mobile_number: '',\r\n    mfa_enabled: false,\r\n    consent_privacy: false,\r\n    consent_terms: false,\r\n    consent_credit_search: false,\r\n  });\r\n\r\n  // Step 2: Company verification\r\n  const [step2Data, setStep2Data] = useState({\r\n    company_number: '',\r\n    company_name: '',\r\n    company_search_type: 'number', // 'number' or 'name'\r\n    company_data: null,\r\n    trading_address: '',\r\n    primary_contact_email: '',\r\n    primary_contact_phone: '',\r\n    confirmed: false,\r\n  });\r\n\r\n  // Step 3: Directors and shareholders\r\n  const [step3Data, setStep3Data] = useState({\r\n    directors: [],\r\n    shareholders: [],\r\n    applicants_required: [],\r\n  });\r\n\r\n  // Step 4: Applicant personal details\r\n  const [step4Data, setStep4Data] = useState({\r\n    applicants: [], // Array of applicant objects\r\n  });\r\n\r\n  // Step 5: Financial snapshot\r\n  const [step5Data, setStep5Data] = useState({\r\n    mode: 'quick', // 'quick' or 'detailed'\r\n    income_total: '',\r\n    expenditure_total: '',\r\n    assets_total: '',\r\n    liabilities_total: '',\r\n    income_breakdown: [],\r\n    expenditure_breakdown: [],\r\n    assets_breakdown: [],\r\n    liabilities_breakdown: [],\r\n  });\r\n\r\n  // Step 6: Bank data\r\n  const [step6Data, setStep6Data] = useState({\r\n    method: 'open_banking', // 'open_banking' or 'pdf_upload'\r\n    open_banking_connected: false,\r\n    open_banking_provider: '',\r\n    accounts: [],\r\n    pdf_statements: [],\r\n  });\r\n\r\n  // Step 7: Documents\r\n  const [step7Data, setStep7Data] = useState({\r\n    company_documents: {\r\n      statutory_accounts: [],\r\n      management_accounts: [],\r\n    },\r\n    personal_documents: {\r\n      photo_id: [],\r\n    },\r\n  });\r\n\r\n  const steps = [\r\n    'Account & Consent',\r\n    'Company Verification',\r\n    'Directors & Shareholders',\r\n    'Applicant Details',\r\n    'Financial Snapshot',\r\n    'Bank Data',\r\n    'Documents',\r\n    'Review & Submit',\r\n  ];\r\n\r\n  useEffect(() => {\r\n    loadProfileStatus();\r\n  }, []);\r\n\r\n  const loadProfileStatus = async () => {\r\n    try {\r\n      const res = await api.get('/api/borrowers/profiles/status/');\r\n      setProfileStatus(res.data);\r\n      if (res.data.status === 'approved') {\r\n        setMessage('Your profile has been approved. You can now create projects.');\r\n      } else if (res.data.status === 'under_review') {\r\n        setMessage('Your profile is under review. You will be notified when it is approved.');\r\n      } else if (res.data.status === 'changes_requested') {\r\n        setMessage('Changes have been requested. Please review and update your profile.');\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to load profile status:', err);\r\n    }\r\n  };\r\n\r\n  const checkStepUpAuth = async (section) => {\r\n    // Check if step-up auth is required and not recently verified\r\n    const lastAuth = localStorage.getItem('stepUpAuthTimestamp');\r\n    const now = Date.now();\r\n    const tenMinutes = 10 * 60 * 1000;\r\n\r\n    if (!lastAuth || (now - parseInt(lastAuth)) > tenMinutes) {\r\n      setStepUpAuth({ required: true, verified: false, section });\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const verifyStepUpAuth = async () => {\r\n    try {\r\n      const res = await api.post('/api/auth/verify-password/', {\r\n        password: stepUpPassword,\r\n      });\r\n      if (res.data.verified) {\r\n        setStepUpAuth({ required: false, verified: true });\r\n        localStorage.setItem('stepUpAuthTimestamp', Date.now().toString());\r\n        setStepUpPassword('');\r\n        return true;\r\n      } else {\r\n        setError('Incorrect password. Please try again.');\r\n        return false;\r\n      }\r\n    } catch (err) {\r\n      setError('Password verification failed. Please try again.');\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const handleCompanySearch = async () => {\r\n    if (!step2Data.company_number && !step2Data.company_name) {\r\n      setError('Please enter a company number or name');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const searchParam = step2Data.company_search_type === 'number' \r\n        ? { company_number: step2Data.company_number }\r\n        : { company_name: step2Data.company_name };\r\n\r\n      const res = await api.post('/api/verification/company/get_full_company_details/', searchParam);\r\n\r\n      if (res.data.error) {\r\n        setError(res.data.error);\r\n      } else {\r\n        setStep2Data({\r\n          ...step2Data,\r\n          company_data: res.data,\r\n          company_number: res.data.company_number || step2Data.company_number,\r\n          company_name: res.data.company_name || step2Data.company_name,\r\n        });\r\n        setMessage('Company found! Please review and confirm the details.');\r\n      }\r\n    } catch (err) {\r\n      console.error('Company search error:', err);\r\n      setError(err.response?.data?.error || 'Failed to search company. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleConfirmCompany = () => {\r\n    setStep2Data({ ...step2Data, confirmed: true });\r\n    setMessage('Company details confirmed');\r\n  };\r\n\r\n  const handleDirectorsUpdate = (directors, shareholders) => {\r\n    // Auto-flag applicants required\r\n    const applicantsRequired = [];\r\n    \r\n    // All directors are required\r\n    directors.forEach(dir => {\r\n      if (!dir.resigned_on) {\r\n        applicantsRequired.push({\r\n          person_id: dir.id || dir.name,\r\n          name: dir.name,\r\n          role: 'Director',\r\n          ownership_percentage: null,\r\n          required: true,\r\n        });\r\n      }\r\n    });\r\n\r\n    // Shareholders/PSCs with >=25% ownership\r\n    shareholders.forEach(sh => {\r\n      const ownership = parseFloat(sh.ownership_percentage || sh.natures_of_control?.[0]?.percentage || 0);\r\n      if (ownership >= 25) {\r\n        applicantsRequired.push({\r\n          person_id: sh.id || sh.name,\r\n          name: sh.name,\r\n          role: 'Shareholder/PSC',\r\n          ownership_percentage: ownership,\r\n          required: true,\r\n        });\r\n      }\r\n    });\r\n\r\n    setStep3Data({\r\n      directors: directors,\r\n      shareholders: shareholders,\r\n      applicants_required: applicantsRequired,\r\n    });\r\n  };\r\n\r\n  const handleConnectOpenBanking = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      // This would integrate with Open Banking provider\r\n      // For now, simulate the connection\r\n      const res = await api.post('/api/borrowers/profiles/connect-open-banking/', {\r\n        provider: step6Data.open_banking_provider,\r\n      });\r\n      \r\n      setStep6Data({\r\n        ...step6Data,\r\n        open_banking_connected: true,\r\n        accounts: res.data.accounts || [],\r\n        method: 'open_banking',\r\n      });\r\n      setMessage('Open Banking connected successfully');\r\n    } catch (err) {\r\n      console.error('Open Banking connection error:', err);\r\n      setError(err.response?.data?.error || 'Failed to connect Open Banking. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleFileUpload = async (files, documentType, category) => {\r\n    if (!files || files.length === 0) return;\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const formData = new FormData();\r\n      Array.from(files).forEach(file => {\r\n        formData.append('files', file);\r\n      });\r\n      formData.append('document_type', documentType);\r\n      formData.append('category', category);\r\n\r\n      const res = await api.post('/api/borrowers/profiles/documents/upload/', formData, {\r\n        headers: { 'Content-Type': 'multipart/form-data' },\r\n      });\r\n\r\n      // Update step 7 data\r\n      const updatedDocs = { ...step7Data };\r\n      if (category === 'company') {\r\n        if (documentType === 'statutory_accounts') {\r\n          updatedDocs.company_documents.statutory_accounts = [\r\n            ...updatedDocs.company_documents.statutory_accounts,\r\n            ...res.data.documents,\r\n          ];\r\n        } else if (documentType === 'management_accounts') {\r\n          updatedDocs.company_documents.management_accounts = [\r\n            ...updatedDocs.company_documents.management_accounts,\r\n            ...res.data.documents,\r\n          ];\r\n        }\r\n      } else if (category === 'personal' && documentType === 'photo_id') {\r\n        updatedDocs.personal_documents.photo_id = [\r\n          ...updatedDocs.personal_documents.photo_id,\r\n          ...res.data.documents,\r\n        ];\r\n      }\r\n\r\n      setStep7Data(updatedDocs);\r\n      setMessage(`Successfully uploaded ${files.length} file(s)`);\r\n    } catch (err) {\r\n      console.error('File upload error:', err);\r\n      setError(err.response?.data?.error || 'Failed to upload files');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSubmitForReview = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const payload = {\r\n        step1: step1Data,\r\n        step2: step2Data,\r\n        step3: step3Data,\r\n        step4: step4Data,\r\n        step5: step5Data,\r\n        step6: step6Data,\r\n        step7: step7Data,\r\n      };\r\n\r\n      const res = await api.post('/api/borrowers/profiles/submit-for-review/', payload);\r\n      setMessage('Profile submitted for review successfully!');\r\n      await loadProfileStatus();\r\n    } catch (err) {\r\n      console.error('Submit error:', err);\r\n      setError(err.response?.data?.error || 'Failed to submit profile for review');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const nextStep = () => {\r\n    if (step < steps.length) {\r\n      setStep(step + 1);\r\n      setError(null);\r\n      setMessage(null);\r\n    }\r\n  };\r\n\r\n  const prevStep = () => {\r\n    if (step > 1) {\r\n      setStep(step - 1);\r\n      setError(null);\r\n      setMessage(null);\r\n    }\r\n  };\r\n\r\n  // Step-up authentication modal\r\n  if (stepUpAuth.required && !stepUpAuth.verified) {\r\n    return (\r\n      <div style={{\r\n        position: 'fixed',\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        background: 'rgba(0,0,0,0.5)',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        zIndex: 1000,\r\n      }}>\r\n        <div style={{\r\n          ...commonStyles.card,\r\n          maxWidth: '400px',\r\n          padding: theme.spacing.xl,\r\n        }}>\r\n          <h2 style={{ margin: `0 0 ${theme.spacing.md} 0` }}>Step-Up Authentication Required</h2>\r\n          <p style={{ color: theme.colors.textSecondary, marginBottom: theme.spacing.lg }}>\r\n            Please enter your password to access this section.\r\n          </p>\r\n          <Input\r\n            type=\"password\"\r\n            label=\"Password\"\r\n            value={stepUpPassword}\r\n            onChange={(e) => setStepUpPassword(e.target.value)}\r\n            style={{ marginBottom: theme.spacing.md }}\r\n          />\r\n          {error && (\r\n            <p style={{ color: theme.colors.error, fontSize: theme.typography.fontSize.sm, marginBottom: theme.spacing.md }}>\r\n              {error}\r\n            </p>\r\n          )}\r\n          <div style={{ display: 'flex', gap: theme.spacing.sm }}>\r\n            <Button\r\n              variant=\"primary\"\r\n              onClick={async () => {\r\n                const verified = await verifyStepUpAuth();\r\n                if (verified) {\r\n                  setError(null);\r\n                }\r\n              }}\r\n            >\r\n              Verify\r\n            </Button>\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={() => {\r\n                setStepUpAuth({ required: false, verified: false });\r\n                setStepUpPassword('');\r\n                prevStep();\r\n              }}\r\n            >\r\n              Cancel\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Wizard steps={steps} currentStep={step}>\r\n      {error && (\r\n        <div style={{\r\n          background: theme.colors.errorLight,\r\n          color: theme.colors.errorDark,\r\n          padding: theme.spacing.md,\r\n          borderRadius: theme.borderRadius.md,\r\n          marginBottom: theme.spacing.lg,\r\n          border: `1px solid ${theme.colors.error}`,\r\n        }}>\r\n          {error}\r\n        </div>\r\n      )}\r\n\r\n      {message && (\r\n        <div style={{\r\n          background: theme.colors.successLight,\r\n          color: theme.colors.successDark,\r\n          padding: theme.spacing.md,\r\n          borderRadius: theme.borderRadius.md,\r\n          marginBottom: theme.spacing.lg,\r\n          border: `1px solid ${theme.colors.success}`,\r\n        }}>\r\n          {message}\r\n        </div>\r\n      )}\r\n\r\n      {/* Step 1: Account setup and consent */}\r\n      {step === 1 && (\r\n        <div>\r\n          <h2 style={{\r\n            fontSize: theme.typography.fontSize['2xl'],\r\n            fontWeight: theme.typography.fontWeight.semibold,\r\n            margin: `0 0 ${theme.spacing.lg} 0`,\r\n          }}>\r\n            Account Setup & Consent\r\n          </h2>\r\n          <p style={{ color: theme.colors.textSecondary, marginBottom: theme.spacing.lg }}>\r\n            Please provide your contact details and confirm your consents.\r\n          </p>\r\n\r\n          <div style={{ display: 'grid', gap: theme.spacing.lg, marginBottom: theme.spacing.xl }}>\r\n            <Input\r\n              label=\"Email Address\"\r\n              type=\"email\"\r\n              value={step1Data.email}\r\n              onChange={(e) => setStep1Data({ ...step1Data, email: e.target.value })}\r\n              required\r\n            />\r\n            <Input\r\n              label=\"Mobile Number\"\r\n              type=\"tel\"\r\n              value={step1Data.mobile_number}\r\n              onChange={(e) => setStep1Data({ ...step1Data, mobile_number: e.target.value })}\r\n              required\r\n            />\r\n            <Checkbox\r\n              label=\"Enable Multi-Factor Authentication (MFA)\"\r\n              checked={step1Data.mfa_enabled}\r\n              onChange={(e) => setStep1Data({ ...step1Data, mfa_enabled: e.target.checked })}\r\n            />\r\n          </div>\r\n\r\n          <div style={{\r\n            ...commonStyles.card,\r\n            padding: theme.spacing.lg,\r\n            marginBottom: theme.spacing.xl,\r\n            background: theme.colors.gray50,\r\n          }}>\r\n            <h3 style={{ margin: `0 0 ${theme.spacing.md} 0` }}>Consents</h3>\r\n            <div style={{ display: 'flex', flexDirection: 'column', gap: theme.spacing.md }}>\r\n              <Checkbox\r\n                label=\"I consent to the Privacy Policy\"\r\n                checked={step1Data.consent_privacy}\r\n                onChange={(e) => setStep1Data({ ...step1Data, consent_privacy: e.target.checked })}\r\n                required\r\n              />\r\n              <Checkbox\r\n                label=\"I accept the Terms and Conditions\"\r\n                checked={step1Data.consent_terms}\r\n                onChange={(e) => setStep1Data({ ...step1Data, consent_terms: e.target.checked })}\r\n                required\r\n              />\r\n              <Checkbox\r\n                label=\"I consent to credit search permission\"\r\n                checked={step1Data.consent_credit_search}\r\n                onChange={(e) => setStep1Data({ ...step1Data, consent_credit_search: e.target.checked })}\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div style={{ display: 'flex', justifyContent: 'flex-end', marginTop: theme.spacing.xl }}>\r\n            <Button\r\n              variant=\"primary\"\r\n              onClick={nextStep}\r\n              disabled={!step1Data.consent_privacy || !step1Data.consent_terms || !step1Data.consent_credit_search}\r\n            >\r\n              Next: Company Verification\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Step 2: Company verification */}\r\n      {step === 2 && (\r\n        <div>\r\n          <h2 style={{\r\n            fontSize: theme.typography.fontSize['2xl'],\r\n            fontWeight: theme.typography.fontWeight.semibold,\r\n            margin: `0 0 ${theme.spacing.lg} 0`,\r\n          }}>\r\n            Company Verification (UK Only)\r\n          </h2>\r\n          <p style={{ color: theme.colors.textSecondary, marginBottom: theme.spacing.lg }}>\r\n            Search for your company using Companies House.\r\n          </p>\r\n\r\n          <div style={{ marginBottom: theme.spacing.lg }}>\r\n            <Select\r\n              label=\"Search By\"\r\n              value={step2Data.company_search_type}\r\n              onChange={(e) => setStep2Data({ ...step2Data, company_search_type: e.target.value })}\r\n            >\r\n              <option value=\"number\">Company Number</option>\r\n              <option value=\"name\">Company Name</option>\r\n            </Select>\r\n\r\n            {step2Data.company_search_type === 'number' ? (\r\n              <Input\r\n                label=\"Company Number\"\r\n                value={step2Data.company_number}\r\n                onChange={(e) => setStep2Data({ ...step2Data, company_number: e.target.value })}\r\n                placeholder=\"e.g., 12345678\"\r\n                style={{ marginTop: theme.spacing.md }}\r\n              />\r\n            ) : (\r\n              <Input\r\n                label=\"Company Name\"\r\n                value={step2Data.company_name}\r\n                onChange={(e) => setStep2Data({ ...step2Data, company_name: e.target.value })}\r\n                placeholder=\"e.g., Example Company Ltd\"\r\n                style={{ marginTop: theme.spacing.md }}\r\n              />\r\n            )}\r\n\r\n            <Button\r\n              variant=\"primary\"\r\n              onClick={handleCompanySearch}\r\n              loading={loading}\r\n              style={{ marginTop: theme.spacing.md }}\r\n            >\r\n              Search Company\r\n            </Button>\r\n          </div>\r\n\r\n          {step2Data.company_data && (\r\n            <div style={{ marginBottom: theme.spacing.xl }}>\r\n              <CompanyDetails companyNumber={step2Data.company_data.company_number} />\r\n              \r\n              <div style={{ marginTop: theme.spacing.lg }}>\r\n                <h3 style={{ margin: `0 0 ${theme.spacing.md} 0` }}>Additional Information</h3>\r\n                <Input\r\n                  label=\"Trading Address (if different)\"\r\n                  value={step2Data.trading_address}\r\n                  onChange={(e) => setStep2Data({ ...step2Data, trading_address: e.target.value })}\r\n                  style={{ marginBottom: theme.spacing.md }}\r\n                />\r\n                <Input\r\n                  label=\"Primary Contact Email\"\r\n                  type=\"email\"\r\n                  value={step2Data.primary_contact_email}\r\n                  onChange={(e) => setStep2Data({ ...step2Data, primary_contact_email: e.target.value })}\r\n                  style={{ marginBottom: theme.spacing.md }}\r\n                />\r\n                <Input\r\n                  label=\"Primary Contact Phone\"\r\n                  type=\"tel\"\r\n                  value={step2Data.primary_contact_phone}\r\n                  onChange={(e) => setStep2Data({ ...step2Data, primary_contact_phone: e.target.value })}\r\n                />\r\n              </div>\r\n\r\n              <div style={{ marginTop: theme.spacing.lg }}>\r\n                <Checkbox\r\n                  label=\"I confirm these company details are correct\"\r\n                  checked={step2Data.confirmed}\r\n                  onChange={(e) => setStep2Data({ ...step2Data, confirmed: e.target.checked })}\r\n                />\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: theme.spacing.xl }}>\r\n            <Button variant=\"outline\" onClick={prevStep}>\r\n              Previous\r\n            </Button>\r\n            <Button\r\n              variant=\"primary\"\r\n              onClick={() => {\r\n                if (step2Data.confirmed) {\r\n                  nextStep();\r\n                } else {\r\n                  setError('Please confirm the company details before proceeding');\r\n                }\r\n              }}\r\n              disabled={!step2Data.confirmed}\r\n            >\r\n              Next: Directors & Shareholders\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Step 3: Directors and shareholders */}\r\n      {step === 3 && (\r\n        <div>\r\n          <h2 style={{\r\n            fontSize: theme.typography.fontSize['2xl'],\r\n            fontWeight: theme.typography.fontWeight.semibold,\r\n            margin: `0 0 ${theme.spacing.lg} 0`,\r\n          }}>\r\n            Directors & Shareholders (>=25%)\r\n          </h2>\r\n          <p style={{ color: theme.colors.textSecondary, marginBottom: theme.spacing.lg }}>\r\n            Review and confirm directors and persons with significant control. All directors and shareholders with 25%+ ownership will be required to complete applicant details.\r\n          </p>\r\n\r\n          {step2Data.company_data && (\r\n            <div>\r\n              {/* Directors */}\r\n              {step2Data.company_data.directors && step2Data.company_data.directors.length > 0 && (\r\n                <div style={{ marginBottom: theme.spacing.xl }}>\r\n                  <h3 style={{ margin: `0 0 ${theme.spacing.md} 0` }}>Directors</h3>\r\n                  <div style={{ display: 'grid', gap: theme.spacing.md }}>\r\n                    {step2Data.company_data.directors.map((director, index) => (\r\n                      <div key={index} style={{\r\n                        ...commonStyles.card,\r\n                        padding: theme.spacing.md,\r\n                        display: 'flex',\r\n                        justifyContent: 'space-between',\r\n                        alignItems: 'center',\r\n                      }}>\r\n                        <div>\r\n                          <p style={{ margin: 0, fontWeight: theme.typography.fontWeight.medium }}>\r\n                            {director.name}\r\n                          </p>\r\n                          {director.nationality && (\r\n                            <p style={{ margin: `${theme.spacing.xs} 0 0 0`, fontSize: theme.typography.fontSize.sm, color: theme.colors.textSecondary }}>\r\n                              Nationality: {director.nationality}\r\n                            </p>\r\n                          )}\r\n                          <Badge variant=\"warning\" style={{ marginTop: theme.spacing.xs }}>\r\n                            Applicant Required\r\n                          </Badge>\r\n                        </div>\r\n                        <Checkbox\r\n                          label=\"Confirm\"\r\n                          checked={director.confirmed || false}\r\n                          onChange={(e) => {\r\n                            const updated = [...step2Data.company_data.directors];\r\n                            updated[index].confirmed = e.target.checked;\r\n                            setStep2Data({\r\n                              ...step2Data,\r\n                              company_data: { ...step2Data.company_data, directors: updated },\r\n                            });\r\n                            handleDirectorsUpdate(updated, step2Data.company_data.pscs || []);\r\n                          }}\r\n                        />\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* PSCs/Shareholders */}\r\n              {step2Data.company_data.pscs && step2Data.company_data.pscs.length > 0 && (\r\n                <div style={{ marginBottom: theme.spacing.xl }}>\r\n                  <h3 style={{ margin: `0 0 ${theme.spacing.md} 0` }}>Persons with Significant Control</h3>\r\n                  <div style={{ display: 'grid', gap: theme.spacing.md }}>\r\n                    {step2Data.company_data.pscs.map((psc, index) => {\r\n                      const ownership = psc.natures_of_control?.[0]?.percentage || 0;\r\n                      const isRequired = ownership >= 25;\r\n                      \r\n                      return (\r\n                        <div key={index} style={{\r\n                          ...commonStyles.card,\r\n                          padding: theme.spacing.md,\r\n                          display: 'flex',\r\n                          justifyContent: 'space-between',\r\n                          alignItems: 'center',\r\n                        }}>\r\n                          <div>\r\n                            <p style={{ margin: 0, fontWeight: theme.typography.fontWeight.medium }}>\r\n                              {psc.name}\r\n                            </p>\r\n                            <p style={{ margin: `${theme.spacing.xs} 0 0 0`, fontSize: theme.typography.fontSize.sm, color: theme.colors.textSecondary }}>\r\n                              Ownership: {ownership}%\r\n                            </p>\r\n                            {isRequired && (\r\n                              <Badge variant=\"warning\" style={{ marginTop: theme.spacing.xs }}>\r\n                                Applicant Required (>=25%)\r\n                              </Badge>\r\n                            )}\r\n                          </div>\r\n                          <div style={{ display: 'flex', gap: theme.spacing.sm, alignItems: 'center' }}>\r\n                            <Input\r\n                              type=\"number\"\r\n                              placeholder=\"Ownership %\"\r\n                              value={psc.ownership_percentage || ownership}\r\n                              onChange={(e) => {\r\n                                const updated = [...step2Data.company_data.pscs];\r\n                                updated[index].ownership_percentage = parseFloat(e.target.value);\r\n                                setStep2Data({\r\n                                  ...step2Data,\r\n                                  company_data: { ...step2Data.company_data, pscs: updated },\r\n                                });\r\n                                handleDirectorsUpdate(step2Data.company_data.directors || [], updated);\r\n                              }}\r\n                              style={{ width: '100px' }}\r\n                            />\r\n                            <Checkbox\r\n                              label=\"Confirm\"\r\n                              checked={psc.confirmed || false}\r\n                              onChange={(e) => {\r\n                                const updated = [...step2Data.company_data.pscs];\r\n                                updated[index].confirmed = e.target.checked;\r\n                                setStep2Data({\r\n                                  ...step2Data,\r\n                                  company_data: { ...step2Data.company_data, pscs: updated },\r\n                                });\r\n                                handleDirectorsUpdate(step2Data.company_data.directors || [], updated);\r\n                              }}\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Applicants Required Summary */}\r\n              {step3Data.applicants_required.length > 0 && (\r\n                <div style={{\r\n                  ...commonStyles.card,\r\n                  padding: theme.spacing.md,\r\n                  background: theme.colors.warningLight,\r\n                  marginBottom: theme.spacing.lg,\r\n                }}>\r\n                  <h3 style={{ margin: `0 0 ${theme.spacing.sm} 0` }}>Applicants Required</h3>\r\n                  <p style={{ margin: 0, fontSize: theme.typography.fontSize.sm }}>\r\n                    The following {step3Data.applicants_required.length} person(s) will need to complete applicant details in the next step:\r\n                  </p>\r\n                  <ul style={{ margin: `${theme.spacing.sm} 0 0 0`, paddingLeft: theme.spacing.lg }}>\r\n                    {step3Data.applicants_required.map((app, idx) => (\r\n                      <li key={idx} style={{ marginBottom: theme.spacing.xs }}>\r\n                        {app.name} ({app.role})\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: theme.spacing.xl }}>\r\n            <Button variant=\"outline\" onClick={prevStep}>\r\n              Previous\r\n            </Button>\r\n            <Button\r\n              variant=\"primary\"\r\n              onClick={nextStep}\r\n              disabled={step3Data.applicants_required.length === 0}\r\n            >\r\n              Next: Applicant Details\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Step 4: Applicant personal details */}\r\n      {step === 4 && (\r\n        <div>\r\n          <h2 style={{\r\n            fontSize: theme.typography.fontSize['2xl'],\r\n            fontWeight: theme.typography.fontWeight.semibold,\r\n            margin: `0 0 ${theme.spacing.lg} 0`,\r\n          }}>\r\n            Applicant Personal Details\r\n          </h2>\r\n          <p style={{ color: theme.colors.textSecondary, marginBottom: theme.spacing.lg }}>\r\n            Complete details for each required applicant.\r\n          </p>\r\n\r\n          {step3Data.applicants_required.map((applicant, applicantIndex) => {\r\n            const applicantData = step4Data.applicants[applicantIndex] || {\r\n              person_id: applicant.person_id,\r\n              name: applicant.name,\r\n              role: applicant.role,\r\n              first_name: '',\r\n              last_name: '',\r\n              date_of_birth: '',\r\n              nationality: '',\r\n              email: '',\r\n              phone: '',\r\n              current_address: '',\r\n              previous_address: '',\r\n              employment_status: '',\r\n              occupation: '',\r\n              employment_start_date: '',\r\n              net_monthly_income: '',\r\n              experience_tier: '',\r\n              adverse_credit_band: '',\r\n              source_of_deposit: '',\r\n              exit_strategy: '',\r\n            };\r\n\r\n            return (\r\n              <div key={applicantIndex} style={{\r\n                ...commonStyles.card,\r\n                padding: theme.spacing.xl,\r\n                marginBottom: theme.spacing.xl,\r\n              }}>\r\n                <h3 style={{ margin: `0 0 ${theme.spacing.lg} 0` }}>\r\n                  {applicant.name} - {applicant.role}\r\n                </h3>\r\n\r\n                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: theme.spacing.md, marginBottom: theme.spacing.lg }}>\r\n                  <Input\r\n                    label=\"First Name\"\r\n                    value={applicantData.first_name}\r\n                    onChange={(e) => {\r\n                      const updated = [...step4Data.applicants];\r\n                      updated[applicantIndex] = { ...applicantData, first_name: e.target.value };\r\n                      setStep4Data({ ...step4Data, applicants: updated });\r\n                    }}\r\n                    required\r\n                  />\r\n                  <Input\r\n                    label=\"Last Name\"\r\n                    value={applicantData.last_name}\r\n                    onChange={(e) => {\r\n                      const updated = [...step4Data.applicants];\r\n                      updated[applicantIndex] = { ...applicantData, last_name: e.target.value };\r\n                      setStep4Data({ ...step4Data, applicants: updated });\r\n                    }}\r\n                    required\r\n                  />\r\n                  <Input\r\n                    label=\"Date of Birth\"\r\n                    type=\"date\"\r\n                    value={applicantData.date_of_birth}\r\n                    onChange={(e) => {\r\n                      const updated = [...step4Data.applicants];\r\n                      updated[applicantIndex] = { ...applicantData, date_of_birth: e.target.value };\r\n                      setStep4Data({ ...step4Data, applicants: updated });\r\n                    }}\r\n                    required\r\n                  />\r\n                  <Input\r\n                    label=\"Nationality\"\r\n                    value={applicantData.nationality}\r\n                    onChange={(e) => {\r\n                      const updated = [...step4Data.applicants];\r\n                      updated[applicantIndex] = { ...applicantData, nationality: e.target.value };\r\n                      setStep4Data({ ...step4Data, applicants: updated });\r\n                    }}\r\n                  />\r\n                  <Input\r\n                    label=\"Email\"\r\n                    type=\"email\"\r\n                    value={applicantData.email}\r\n                    onChange={(e) => {\r\n                      const updated = [...step4Data.applicants];\r\n                      updated[applicantIndex] = { ...applicantData, email: e.target.value };\r\n                      setStep4Data({ ...step4Data, applicants: updated });\r\n                    }}\r\n                  />\r\n                  <Input\r\n                    label=\"Phone\"\r\n                    type=\"tel\"\r\n                    value={applicantData.phone}\r\n                    onChange={(e) => {\r\n                      const updated = [...step4Data.applicants];\r\n                      updated[applicantIndex] = { ...applicantData, phone: e.target.value };\r\n                      setStep4Data({ ...step4Data, applicants: updated });\r\n                    }}\r\n                  />\r\n                </div>\r\n\r\n                <h4 style={{ margin: `${theme.spacing.lg} 0 ${theme.spacing.md} 0` }}>Address</h4>\r\n                <div style={{ marginBottom: theme.spacing.lg }}>\r\n                  <Textarea\r\n                    label=\"Current Address\"\r\n                    value={applicantData.current_address}\r\n                    onChange={(e) => {\r\n                      const updated = [...step4Data.applicants];\r\n                      updated[applicantIndex] = { ...applicantData, current_address: e.target.value };\r\n                      setStep4Data({ ...step4Data, applicants: updated });\r\n                    }}\r\n                    rows={3}\r\n                    required\r\n                  />\r\n                  <Textarea\r\n                    label=\"Previous Address (only if current address < 3 years)\"\r\n                    value={applicantData.previous_address}\r\n                    onChange={(e) => {\r\n                      const updated = [...step4Data.applicants];\r\n                      updated[applicantIndex] = { ...applicantData, previous_address: e.target.value };\r\n                      setStep4Data({ ...step4Data, applicants: updated });\r\n                    }}\r\n                    rows={3}\r\n                    style={{ marginTop: theme.spacing.md }}\r\n                  />\r\n                </div>\r\n\r\n                <h4 style={{ margin: `${theme.spacing.lg} 0 ${theme.spacing.md} 0` }}>Employment</h4>\r\n                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: theme.spacing.md, marginBottom: theme.spacing.lg }}>\r\n                  <Select\r\n                    label=\"Employment Status\"\r\n                    value={applicantData.employment_status}\r\n                    onChange={(e) => {\r\n                      const updated = [...step4Data.applicants];\r\n                      updated[applicantIndex] = { ...applicantData, employment_status: e.target.value };\r\n                      setStep4Data({ ...step4Data, applicants: updated });\r\n                    }}\r\n                  >\r\n                    <option value=\"\">Select...</option>\r\n                    <option value=\"employed\">Employed</option>\r\n                    <option value=\"self_employed\">Self-Employed</option>\r\n                    <option value=\"retired\">Retired</option>\r\n                    <option value=\"unemployed\">Unemployed</option>\r\n                  </Select>\r\n                  <Input\r\n                    label=\"Occupation\"\r\n                    value={applicantData.occupation}\r\n                    onChange={(e) => {\r\n                      const updated = [...step4Data.applicants];\r\n                      updated[applicantIndex] = { ...applicantData, occupation: e.target.value };\r\n                      setStep4Data({ ...step4Data, applicants: updated });\r\n                    }}\r\n                  />\r\n                  <Input\r\n                    label=\"Employment Start Date\"\r\n                    type=\"date\"\r\n                    value={applicantData.employment_start_date}\r\n                    onChange={(e) => {\r\n                      const updated = [...step4Data.applicants];\r\n                      updated[applicantIndex] = { ...applicantData, employment_start_date: e.target.value };\r\n                      setStep4Data({ ...step4Data, applicants: updated });\r\n                    }}\r\n                  />\r\n                  <Input\r\n                    label=\"Net Monthly Income\"\r\n                    type=\"number\"\r\n                    value={applicantData.net_monthly_income}\r\n                    onChange={(e) => {\r\n                      const updated = [...step4Data.applicants];\r\n                      updated[applicantIndex] = { ...applicantData, net_monthly_income: e.target.value };\r\n                      setStep4Data({ ...step4Data, applicants: updated });\r\n                    }}\r\n                  />\r\n                </div>\r\n\r\n                <h4 style={{ margin: `${theme.spacing.lg} 0 ${theme.spacing.md} 0` }}>Underwriting Flags</h4>\r\n                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: theme.spacing.md }}>\r\n                  <Select\r\n                    label=\"Borrower Experience Tier\"\r\n                    value={applicantData.experience_tier}\r\n                    onChange={(e) => {\r\n                      const updated = [...step4Data.applicants];\r\n                      updated[applicantIndex] = { ...applicantData, experience_tier: e.target.value };\r\n                      setStep4Data({ ...step4Data, applicants: updated });\r\n                    }}\r\n                  >\r\n                    <option value=\"\">Select...</option>\r\n                    <option value=\"0\">0 deals</option>\r\n                    <option value=\"1-3\">1-3 deals</option>\r\n                    <option value=\"4-10\">4-10 deals</option>\r\n                    <option value=\"10+\">10+ deals</option>\r\n                  </Select>\r\n                  <Select\r\n                    label=\"Adverse Credit Band\"\r\n                    value={applicantData.adverse_credit_band}\r\n                    onChange={(e) => {\r\n                      const updated = [...step4Data.applicants];\r\n                      updated[applicantIndex] = { ...applicantData, adverse_credit_band: e.target.value };\r\n                      setStep4Data({ ...step4Data, applicants: updated });\r\n                    }}\r\n                  >\r\n                    <option value=\"\">Select...</option>\r\n                    <option value=\"none\">None</option>\r\n                    <option value=\"minor\">Minor</option>\r\n                    <option value=\"significant\">Significant</option>\r\n                  </Select>\r\n                  <Select\r\n                    label=\"Source of Deposit\"\r\n                    value={applicantData.source_of_deposit}\r\n                    onChange={(e) => {\r\n                      const updated = [...step4Data.applicants];\r\n                      updated[applicantIndex] = { ...applicantData, source_of_deposit: e.target.value };\r\n                      setStep4Data({ ...step4Data, applicants: updated });\r\n                    }}\r\n                  >\r\n                    <option value=\"\">Select...</option>\r\n                    <option value=\"savings\">Savings</option>\r\n                    <option value=\"sale_of_property\">Sale of Property</option>\r\n                    <option value=\"gift\">Gift</option>\r\n                    <option value=\"inheritance\">Inheritance</option>\r\n                    <option value=\"other\">Other</option>\r\n                  </Select>\r\n                  <Select\r\n                    label=\"Intended Exit Strategy\"\r\n                    value={applicantData.exit_strategy}\r\n                    onChange={(e) => {\r\n                      const updated = [...step4Data.applicants];\r\n                      updated[applicantIndex] = { ...applicantData, exit_strategy: e.target.value };\r\n                      setStep4Data({ ...step4Data, applicants: updated });\r\n                    }}\r\n                  >\r\n                    <option value=\"\">Select...</option>\r\n                    <option value=\"sale\">Sale</option>\r\n                    <option value=\"refinance\">Refinance</option>\r\n                    <option value=\"rental_income\">Rental Income</option>\r\n                    <option value=\"other\">Other</option>\r\n                  </Select>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n\r\n          <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: theme.spacing.xl }}>\r\n            <Button variant=\"outline\" onClick={prevStep}>\r\n              Previous\r\n            </Button>\r\n            <Button variant=\"primary\" onClick={nextStep}>\r\n              Next: Financial Snapshot\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Step 5: Financial snapshot */}\r\n      {step === 5 && (\r\n        <div>\r\n          <h2 style={{\r\n            fontSize: theme.typography.fontSize['2xl'],\r\n            fontWeight: theme.typography.fontWeight.semibold,\r\n            margin: `0 0 ${theme.spacing.lg} 0`,\r\n          }}>\r\n            Financial Snapshot\r\n          </h2>\r\n          <p style={{ color: theme.colors.textSecondary, marginBottom: theme.spacing.lg }}>\r\n            Provide your financial information. You can choose quick mode (totals only) or detailed mode (line-item breakdown).\r\n          </p>\r\n\r\n          <div style={{ marginBottom: theme.spacing.lg }}>\r\n            <Select\r\n              label=\"Mode\"\r\n              value={step5Data.mode}\r\n              onChange={(e) => setStep5Data({ ...step5Data, mode: e.target.value })}\r\n            >\r\n              <option value=\"quick\">Quick Mode (Totals Only)</option>\r\n              <option value=\"detailed\">Detailed Mode (Line-Item Breakdown)</option>\r\n            </Select>\r\n          </div>\r\n\r\n          {step5Data.mode === 'quick' ? (\r\n            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: theme.spacing.lg }}>\r\n              <Input\r\n                label=\"Total Income\"\r\n                type=\"number\"\r\n                value={step5Data.income_total}\r\n                onChange={(e) => setStep5Data({ ...step5Data, income_total: e.target.value })}\r\n              />\r\n              <Input\r\n                label=\"Total Expenditure\"\r\n                type=\"number\"\r\n                value={step5Data.expenditure_total}\r\n                onChange={(e) => setStep5Data({ ...step5Data, expenditure_total: e.target.value })}\r\n              />\r\n              <Input\r\n                label=\"Total Assets\"\r\n                type=\"number\"\r\n                value={step5Data.assets_total}\r\n                onChange={(e) => setStep5Data({ ...step5Data, assets_total: e.target.value })}\r\n              />\r\n              <Input\r\n                label=\"Total Liabilities\"\r\n                type=\"number\"\r\n                value={step5Data.liabilities_total}\r\n                onChange={(e) => setStep5Data({ ...step5Data, liabilities_total: e.target.value })}\r\n              />\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              <h3 style={{ margin: `0 0 ${theme.spacing.md} 0` }}>Income Breakdown</h3>\r\n              <div style={{ marginBottom: theme.spacing.lg }}>\r\n                <Button\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  onClick={() => {\r\n                    setStep5Data({\r\n                      ...step5Data,\r\n                      income_breakdown: [...step5Data.income_breakdown, { description: '', amount: '' }],\r\n                    });\r\n                  }}\r\n                >\r\n                  + Add Income Item\r\n                </Button>\r\n                {step5Data.income_breakdown.map((item, index) => (\r\n                  <div key={index} style={{ display: 'flex', gap: theme.spacing.sm, marginTop: theme.spacing.sm }}>\r\n                    <Input\r\n                      placeholder=\"Description\"\r\n                      value={item.description}\r\n                      onChange={(e) => {\r\n                        const updated = [...step5Data.income_breakdown];\r\n                        updated[index].description = e.target.value;\r\n                        setStep5Data({ ...step5Data, income_breakdown: updated });\r\n                      }}\r\n                      style={{ flex: 1 }}\r\n                    />\r\n                    <Input\r\n                      type=\"number\"\r\n                      placeholder=\"Amount\"\r\n                      value={item.amount}\r\n                      onChange={(e) => {\r\n                        const updated = [...step5Data.income_breakdown];\r\n                        updated[index].amount = e.target.value;\r\n                        setStep5Data({ ...step5Data, income_breakdown: updated });\r\n                      }}\r\n                      style={{ width: '150px' }}\r\n                    />\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      size=\"sm\"\r\n                      onClick={() => {\r\n                        setStep5Data({\r\n                          ...step5Data,\r\n                          income_breakdown: step5Data.income_breakdown.filter((_, i) => i !== index),\r\n                        });\r\n                      }}\r\n                    >\r\n                      Remove\r\n                    </Button>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n\r\n              <h3 style={{ margin: `${theme.spacing.lg} 0 ${theme.spacing.md} 0` }}>Expenditure Breakdown</h3>\r\n              <div style={{ marginBottom: theme.spacing.lg }}>\r\n                <Button\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  onClick={() => {\r\n                    setStep5Data({\r\n                      ...step5Data,\r\n                      expenditure_breakdown: [...step5Data.expenditure_breakdown, { description: '', amount: '' }],\r\n                    });\r\n                  }}\r\n                >\r\n                  + Add Expenditure Item\r\n                </Button>\r\n                {step5Data.expenditure_breakdown.map((item, index) => (\r\n                  <div key={index} style={{ display: 'flex', gap: theme.spacing.sm, marginTop: theme.spacing.sm }}>\r\n                    <Input\r\n                      placeholder=\"Description\"\r\n                      value={item.description}\r\n                      onChange={(e) => {\r\n                        const updated = [...step5Data.expenditure_breakdown];\r\n                        updated[index].description = e.target.value;\r\n                        setStep5Data({ ...step5Data, expenditure_breakdown: updated });\r\n                      }}\r\n                      style={{ flex: 1 }}\r\n                    />\r\n                    <Input\r\n                      type=\"number\"\r\n                      placeholder=\"Amount\"\r\n                      value={item.amount}\r\n                      onChange={(e) => {\r\n                        const updated = [...step5Data.expenditure_breakdown];\r\n                        updated[index].amount = e.target.value;\r\n                        setStep5Data({ ...step5Data, expenditure_breakdown: updated });\r\n                      }}\r\n                      style={{ width: '150px' }}\r\n                    />\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      size=\"sm\"\r\n                      onClick={() => {\r\n                        setStep5Data({\r\n                          ...step5Data,\r\n                          expenditure_breakdown: step5Data.expenditure_breakdown.filter((_, i) => i !== index),\r\n                        });\r\n                      }}\r\n                    >\r\n                      Remove\r\n                    </Button>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n\r\n              <h3 style={{ margin: `${theme.spacing.lg} 0 ${theme.spacing.md} 0` }}>Assets Breakdown</h3>\r\n              <div style={{ marginBottom: theme.spacing.lg }}>\r\n                <Button\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  onClick={() => {\r\n                    setStep5Data({\r\n                      ...step5Data,\r\n                      assets_breakdown: [...step5Data.assets_breakdown, { description: '', amount: '' }],\r\n                    });\r\n                  }}\r\n                >\r\n                  + Add Asset Item\r\n                </Button>\r\n                {step5Data.assets_breakdown.map((item, index) => (\r\n                  <div key={index} style={{ display: 'flex', gap: theme.spacing.sm, marginTop: theme.spacing.sm }}>\r\n                    <Input\r\n                      placeholder=\"Description\"\r\n                      value={item.description}\r\n                      onChange={(e) => {\r\n                        const updated = [...step5Data.assets_breakdown];\r\n                        updated[index].description = e.target.value;\r\n                        setStep5Data({ ...step5Data, assets_breakdown: updated });\r\n                      }}\r\n                      style={{ flex: 1 }}\r\n                    />\r\n                    <Input\r\n                      type=\"number\"\r\n                      placeholder=\"Amount\"\r\n                      value={item.amount}\r\n                      onChange={(e) => {\r\n                        const updated = [...step5Data.assets_breakdown];\r\n                        updated[index].amount = e.target.value;\r\n                        setStep5Data({ ...step5Data, assets_breakdown: updated });\r\n                      }}\r\n                      style={{ width: '150px' }}\r\n                    />\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      size=\"sm\"\r\n                      onClick={() => {\r\n                        setStep5Data({\r\n                          ...step5Data,\r\n                          assets_breakdown: step5Data.assets_breakdown.filter((_, i) => i !== index),\r\n                        });\r\n                      }}\r\n                    >\r\n                      Remove\r\n                    </Button>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n\r\n              <h3 style={{ margin: `${theme.spacing.lg} 0 ${theme.spacing.md} 0` }}>Liabilities Breakdown</h3>\r\n              <div>\r\n                <Button\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  onClick={() => {\r\n                    setStep5Data({\r\n                      ...step5Data,\r\n                      liabilities_breakdown: [...step5Data.liabilities_breakdown, { description: '', amount: '' }],\r\n                    });\r\n                  }}\r\n                >\r\n                  + Add Liability Item\r\n                </Button>\r\n                {step5Data.liabilities_breakdown.map((item, index) => (\r\n                  <div key={index} style={{ display: 'flex', gap: theme.spacing.sm, marginTop: theme.spacing.sm }}>\r\n                    <Input\r\n                      placeholder=\"Description\"\r\n                      value={item.description}\r\n                      onChange={(e) => {\r\n                        const updated = [...step5Data.liabilities_breakdown];\r\n                        updated[index].description = e.target.value;\r\n                        setStep5Data({ ...step5Data, liabilities_breakdown: updated });\r\n                      }}\r\n                      style={{ flex: 1 }}\r\n                    />\r\n                    <Input\r\n                      type=\"number\"\r\n                      placeholder=\"Amount\"\r\n                      value={item.amount}\r\n                      onChange={(e) => {\r\n                        const updated = [...step5Data.liabilities_breakdown];\r\n                        updated[index].amount = e.target.value;\r\n                        setStep5Data({ ...step5Data, liabilities_breakdown: updated });\r\n                      }}\r\n                      style={{ width: '150px' }}\r\n                    />\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      size=\"sm\"\r\n                      onClick={() => {\r\n                        setStep5Data({\r\n                          ...step5Data,\r\n                          liabilities_breakdown: step5Data.liabilities_breakdown.filter((_, i) => i !== index),\r\n                        });\r\n                      }}\r\n                    >\r\n                      Remove\r\n                    </Button>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: theme.spacing.xl }}>\r\n            <Button variant=\"outline\" onClick={prevStep}>\r\n              Previous\r\n            </Button>\r\n            <Button variant=\"primary\" onClick={nextStep}>\r\n              Next: Bank Data\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Step 6: Bank data */}\r\n      {step === 6 && (\r\n        <div>\r\n          <h2 style={{\r\n            fontSize: theme.typography.fontSize['2xl'],\r\n            fontWeight: theme.typography.fontWeight.semibold,\r\n            margin: `0 0 ${theme.spacing.lg} 0`,\r\n          }}>\r\n            Bank Data\r\n          </h2>\r\n          <p style={{ color: theme.colors.textSecondary, marginBottom: theme.spacing.lg }}>\r\n            Connect your bank account via Open Banking or upload PDF statements.\r\n          </p>\r\n\r\n          <div style={{ marginBottom: theme.spacing.xl }}>\r\n            <Select\r\n              label=\"Method\"\r\n              value={step6Data.method}\r\n              onChange={(e) => setStep6Data({ ...step6Data, method: e.target.value })}\r\n            >\r\n              <option value=\"open_banking\">Open Banking (Recommended)</option>\r\n              <option value=\"pdf_upload\">Upload PDF Statements</option>\r\n            </Select>\r\n          </div>\r\n\r\n          {step6Data.method === 'open_banking' ? (\r\n            <div>\r\n              {!step6Data.open_banking_connected ? (\r\n                <div>\r\n                  <p style={{ marginBottom: theme.spacing.md }}>\r\n                    Connect your business bank account via Open Banking. We support business accounts first, with personal accounts as an option if business accounts are unavailable.\r\n                  </p>\r\n                  <Select\r\n                    label=\"Bank Provider\"\r\n                    value={step6Data.open_banking_provider}\r\n                    onChange={(e) => setStep6Data({ ...step6Data, open_banking_provider: e.target.value })}\r\n                    style={{ marginBottom: theme.spacing.md }}\r\n                  >\r\n                    <option value=\"\">Select your bank...</option>\r\n                    <option value=\"barclays\">Barclays</option>\r\n                    <option value=\"hsbc\">HSBC</option>\r\n                    <option value=\"lloyds\">Lloyds</option>\r\n                    <option value=\"natwest\">NatWest</option>\r\n                    <option value=\"santander\">Santander</option>\r\n                    <option value=\"other\">Other</option>\r\n                  </Select>\r\n                  <Button\r\n                    variant=\"primary\"\r\n                    onClick={handleConnectOpenBanking}\r\n                    loading={loading}\r\n                    disabled={!step6Data.open_banking_provider}\r\n                  >\r\n                    Connect Open Banking\r\n                  </Button>\r\n                </div>\r\n              ) : (\r\n                <div style={{\r\n                  ...commonStyles.card,\r\n                  padding: theme.spacing.lg,\r\n                  background: theme.colors.successLight,\r\n                }}>\r\n                  <p style={{ margin: 0, fontWeight: theme.typography.fontWeight.medium }}>\r\n                     Open Banking Connected\r\n                  </p>\r\n                  <p style={{ margin: `${theme.spacing.sm} 0 0 0`, fontSize: theme.typography.fontSize.sm }}>\r\n                    {step6Data.accounts.length} account(s) connected\r\n                  </p>\r\n                  {step6Data.accounts.map((account, index) => (\r\n                    <div key={index} style={{\r\n                      marginTop: theme.spacing.md,\r\n                      padding: theme.spacing.md,\r\n                      background: theme.colors.white,\r\n                      borderRadius: theme.borderRadius.md,\r\n                    }}>\r\n                      <p style={{ margin: 0, fontWeight: theme.typography.fontWeight.medium }}>\r\n                        {account.account_name || 'Account'} - ****{account.account_number?.slice(-4) || '****'}\r\n                      </p>\r\n                      <p style={{ margin: `${theme.spacing.xs} 0 0 0`, fontSize: theme.typography.fontSize.sm, color: theme.colors.textSecondary }}>\r\n                        Balance: {parseFloat(account.balance || 0).toLocaleString('en-GB')}\r\n                      </p>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              <p style={{ marginBottom: theme.spacing.md }}>\r\n                Upload your last 3 months of bank statements (PDF format only).\r\n              </p>\r\n              <div\r\n                onDragEnter={(e) => {\r\n                  e.preventDefault();\r\n                  e.stopPropagation();\r\n                  setDragActive(true);\r\n                }}\r\n                onDragLeave={(e) => {\r\n                  e.preventDefault();\r\n                  e.stopPropagation();\r\n                  setDragActive(false);\r\n                }}\r\n                onDragOver={(e) => {\r\n                  e.preventDefault();\r\n                  e.stopPropagation();\r\n                }}\r\n                onDrop={(e) => {\r\n                  e.preventDefault();\r\n                  e.stopPropagation();\r\n                  setDragActive(false);\r\n                  if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\r\n                    handleFileUpload(e.dataTransfer.files, 'bank_statement', 'bank');\r\n                  }\r\n                }}\r\n                style={{\r\n                  padding: theme.spacing.xl,\r\n                  border: `2px dashed ${dragActive ? theme.colors.primary : theme.colors.gray300}`,\r\n                  borderRadius: theme.borderRadius.md,\r\n                  textAlign: 'center',\r\n                  background: dragActive ? theme.colors.primaryLight : theme.colors.gray50,\r\n                  cursor: 'pointer',\r\n                  marginBottom: theme.spacing.md,\r\n                }}\r\n                onClick={() => fileInputRef.current?.click()}\r\n              >\r\n                <input\r\n                  ref={fileInputRef}\r\n                  type=\"file\"\r\n                  multiple\r\n                  accept=\".pdf\"\r\n                  style={{ display: 'none' }}\r\n                  onChange={(e) => {\r\n                    if (e.target.files && e.target.files.length > 0) {\r\n                      handleFileUpload(e.target.files, 'bank_statement', 'bank');\r\n                    }\r\n                  }}\r\n                />\r\n                <div style={{ fontSize: '48px', marginBottom: theme.spacing.sm }}></div>\r\n                <p style={{ margin: 0, fontSize: theme.typography.fontSize.lg, fontWeight: theme.typography.fontWeight.semibold }}>\r\n                  Drag and drop PDF statements here\r\n                </p>\r\n                <p style={{ margin: 0, color: theme.colors.textSecondary }}>\r\n                  or click to browse  PDF only  Max 10MB per file\r\n                </p>\r\n              </div>\r\n              {step6Data.pdf_statements.length > 0 && (\r\n                <div>\r\n                  <p style={{ marginBottom: theme.spacing.sm }}>Uploaded Statements:</p>\r\n                  {step6Data.pdf_statements.map((file, index) => (\r\n                    <div key={index} style={{\r\n                      padding: theme.spacing.sm,\r\n                      background: theme.colors.gray50,\r\n                      borderRadius: theme.borderRadius.md,\r\n                      marginBottom: theme.spacing.xs,\r\n                      display: 'flex',\r\n                      justifyContent: 'space-between',\r\n                      alignItems: 'center',\r\n                    }}>\r\n                      <span>{file.name || `Statement ${index + 1}`}</span>\r\n                      <Button\r\n                        variant=\"outline\"\r\n                        size=\"sm\"\r\n                        onClick={() => {\r\n                          setStep6Data({\r\n                            ...step6Data,\r\n                            pdf_statements: step6Data.pdf_statements.filter((_, i) => i !== index),\r\n                          });\r\n                        }}\r\n                      >\r\n                        Remove\r\n                      </Button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: theme.spacing.xl }}>\r\n            <Button variant=\"outline\" onClick={prevStep}>\r\n              Previous\r\n            </Button>\r\n            <Button variant=\"primary\" onClick={nextStep}>\r\n              Next: Documents\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Step 7: Documents */}\r\n      {step === 7 && (\r\n        <div>\r\n          <h2 style={{\r\n            fontSize: theme.typography.fontSize['2xl'],\r\n            fontWeight: theme.typography.fontWeight.semibold,\r\n            margin: `0 0 ${theme.spacing.lg} 0`,\r\n          }}>\r\n            Documents\r\n          </h2>\r\n          <p style={{ color: theme.colors.textSecondary, marginBottom: theme.spacing.lg }}>\r\n            Upload required company and personal documents. You can mark documents as \"not available yet\" with a reason.\r\n          </p>\r\n\r\n          {/* Company Documents */}\r\n          <div style={{ marginBottom: theme.spacing.xl }}>\r\n            <h3 style={{ margin: `0 0 ${theme.spacing.md} 0` }}>Company Documents</h3>\r\n            \r\n            <div style={{ marginBottom: theme.spacing.lg }}>\r\n              <h4 style={{ margin: `0 0 ${theme.spacing.sm} 0`, fontSize: theme.typography.fontSize.base }}>\r\n                Statutory Accounts (Last 2 Years)\r\n              </h4>\r\n              <div\r\n                onDragEnter={(e) => {\r\n                  e.preventDefault();\r\n                  setDragActive(true);\r\n                }}\r\n                onDragLeave={(e) => {\r\n                  e.preventDefault();\r\n                  setDragActive(false);\r\n                }}\r\n                onDragOver={(e) => e.preventDefault()}\r\n                onDrop={(e) => {\r\n                  e.preventDefault();\r\n                  setDragActive(false);\r\n                  if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\r\n                    handleFileUpload(e.dataTransfer.files, 'statutory_accounts', 'company');\r\n                  }\r\n                }}\r\n                style={{\r\n                  padding: theme.spacing.lg,\r\n                  border: `2px dashed ${dragActive ? theme.colors.primary : theme.colors.gray300}`,\r\n                  borderRadius: theme.borderRadius.md,\r\n                  textAlign: 'center',\r\n                  background: dragActive ? theme.colors.primaryLight : theme.colors.gray50,\r\n                  cursor: 'pointer',\r\n                  marginBottom: theme.spacing.sm,\r\n                }}\r\n                onClick={() => {\r\n                  const input = document.createElement('input');\r\n                  input.type = 'file';\r\n                  input.multiple = true;\r\n                  input.accept = '.pdf,.jpg,.jpeg,.png';\r\n                  input.onchange = (e) => {\r\n                    if (e.target.files && e.target.files.length > 0) {\r\n                      handleFileUpload(e.target.files, 'statutory_accounts', 'company');\r\n                    }\r\n                  };\r\n                  input.click();\r\n                }}\r\n              >\r\n                <div style={{ fontSize: '32px', marginBottom: theme.spacing.xs }}></div>\r\n                <p style={{ margin: 0, fontSize: theme.typography.fontSize.sm }}>\r\n                  Drag and drop or click to upload  PDF, JPG, PNG  Max 10MB per file\r\n                </p>\r\n              </div>\r\n              {step7Data.company_documents.statutory_accounts.length > 0 && (\r\n                <div style={{ marginTop: theme.spacing.sm }}>\r\n                  {step7Data.company_documents.statutory_accounts.map((doc, index) => (\r\n                    <div key={index} style={{\r\n                      padding: theme.spacing.sm,\r\n                      background: theme.colors.gray50,\r\n                      borderRadius: theme.borderRadius.md,\r\n                      marginBottom: theme.spacing.xs,\r\n                      display: 'flex',\r\n                      justifyContent: 'space-between',\r\n                      alignItems: 'center',\r\n                    }}>\r\n                      <span style={{ fontSize: theme.typography.fontSize.sm }}>\r\n                        {doc.file_name || `Document ${index + 1}`}\r\n                      </span>\r\n                      <Button\r\n                        variant=\"outline\"\r\n                        size=\"sm\"\r\n                        onClick={() => {\r\n                          const updated = { ...step7Data };\r\n                          updated.company_documents.statutory_accounts = updated.company_documents.statutory_accounts.filter((_, i) => i !== index);\r\n                          setStep7Data(updated);\r\n                        }}\r\n                      >\r\n                        Remove\r\n                      </Button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div>\r\n              <h4 style={{ margin: `0 0 ${theme.spacing.sm} 0`, fontSize: theme.typography.fontSize.base }}>\r\n                Management Accounts (if available)\r\n              </h4>\r\n              <div\r\n                onDragEnter={(e) => {\r\n                  e.preventDefault();\r\n                  setDragActive(true);\r\n                }}\r\n                onDragLeave={(e) => {\r\n                  e.preventDefault();\r\n                  setDragActive(false);\r\n                }}\r\n                onDragOver={(e) => e.preventDefault()}\r\n                onDrop={(e) => {\r\n                  e.preventDefault();\r\n                  setDragActive(false);\r\n                  if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\r\n                    handleFileUpload(e.dataTransfer.files, 'management_accounts', 'company');\r\n                  }\r\n                }}\r\n                style={{\r\n                  padding: theme.spacing.lg,\r\n                  border: `2px dashed ${dragActive ? theme.colors.primary : theme.colors.gray300}`,\r\n                  borderRadius: theme.borderRadius.md,\r\n                  textAlign: 'center',\r\n                  background: dragActive ? theme.colors.primaryLight : theme.colors.gray50,\r\n                  cursor: 'pointer',\r\n                  marginBottom: theme.spacing.sm,\r\n                }}\r\n                onClick={() => {\r\n                  const input = document.createElement('input');\r\n                  input.type = 'file';\r\n                  input.multiple = true;\r\n                  input.accept = '.pdf,.jpg,.jpeg,.png';\r\n                  input.onchange = (e) => {\r\n                    if (e.target.files && e.target.files.length > 0) {\r\n                      handleFileUpload(e.target.files, 'management_accounts', 'company');\r\n                    }\r\n                  };\r\n                  input.click();\r\n                }}\r\n              >\r\n                <div style={{ fontSize: '32px', marginBottom: theme.spacing.xs }}></div>\r\n                <p style={{ margin: 0, fontSize: theme.typography.fontSize.sm }}>\r\n                  Drag and drop or click to upload  PDF, JPG, PNG  Max 10MB per file\r\n                </p>\r\n              </div>\r\n              {step7Data.company_documents.management_accounts.length > 0 && (\r\n                <div style={{ marginTop: theme.spacing.sm }}>\r\n                  {step7Data.company_documents.management_accounts.map((doc, index) => (\r\n                    <div key={index} style={{\r\n                      padding: theme.spacing.sm,\r\n                      background: theme.colors.gray50,\r\n                      borderRadius: theme.borderRadius.md,\r\n                      marginBottom: theme.spacing.xs,\r\n                      display: 'flex',\r\n                      justifyContent: 'space-between',\r\n                      alignItems: 'center',\r\n                    }}>\r\n                      <span style={{ fontSize: theme.typography.fontSize.sm }}>\r\n                        {doc.file_name || `Document ${index + 1}`}\r\n                      </span>\r\n                      <Button\r\n                        variant=\"outline\"\r\n                        size=\"sm\"\r\n                        onClick={() => {\r\n                          const updated = { ...step7Data };\r\n                          updated.company_documents.management_accounts = updated.company_documents.management_accounts.filter((_, i) => i !== index);\r\n                          setStep7Data(updated);\r\n                        }}\r\n                      >\r\n                        Remove\r\n                      </Button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Personal Documents (for applicants) */}\r\n          {step4Data.applicants.length > 0 && (\r\n            <div>\r\n              <h3 style={{ margin: `0 0 ${theme.spacing.md} 0` }}>Personal Documents (Applicants)</h3>\r\n              <div>\r\n                <h4 style={{ margin: `0 0 ${theme.spacing.sm} 0`, fontSize: theme.typography.fontSize.base }}>\r\n                  Photo ID\r\n                </h4>\r\n                <div\r\n                  onDragEnter={(e) => {\r\n                    e.preventDefault();\r\n                    setDragActive(true);\r\n                  }}\r\n                  onDragLeave={(e) => {\r\n                    e.preventDefault();\r\n                    setDragActive(false);\r\n                  }}\r\n                  onDragOver={(e) => e.preventDefault()}\r\n                  onDrop={(e) => {\r\n                    e.preventDefault();\r\n                    setDragActive(false);\r\n                    if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\r\n                      handleFileUpload(e.dataTransfer.files, 'photo_id', 'personal');\r\n                    }\r\n                  }}\r\n                  style={{\r\n                    padding: theme.spacing.lg,\r\n                    border: `2px dashed ${dragActive ? theme.colors.primary : theme.colors.gray300}`,\r\n                    borderRadius: theme.borderRadius.md,\r\n                    textAlign: 'center',\r\n                    background: dragActive ? theme.colors.primaryLight : theme.colors.gray50,\r\n                    cursor: 'pointer',\r\n                    marginBottom: theme.spacing.sm,\r\n                  }}\r\n                  onClick={() => {\r\n                    const input = document.createElement('input');\r\n                    input.type = 'file';\r\n                    input.multiple = true;\r\n                    input.accept = '.pdf,.jpg,.jpeg,.png';\r\n                    input.onchange = (e) => {\r\n                      if (e.target.files && e.target.files.length > 0) {\r\n                        handleFileUpload(e.target.files, 'photo_id', 'personal');\r\n                      }\r\n                    };\r\n                    input.click();\r\n                  }}\r\n                >\r\n                  <div style={{ fontSize: '32px', marginBottom: theme.spacing.xs }}></div>\r\n                  <p style={{ margin: 0, fontSize: theme.typography.fontSize.sm }}>\r\n                    Drag and drop or click to upload  PDF, JPG, PNG  Max 10MB per file\r\n                  </p>\r\n                </div>\r\n                {step7Data.personal_documents.photo_id.length > 0 && (\r\n                  <div style={{ marginTop: theme.spacing.sm }}>\r\n                    {step7Data.personal_documents.photo_id.map((doc, index) => (\r\n                      <div key={index} style={{\r\n                        padding: theme.spacing.sm,\r\n                        background: theme.colors.gray50,\r\n                        borderRadius: theme.borderRadius.md,\r\n                        marginBottom: theme.spacing.xs,\r\n                        display: 'flex',\r\n                        justifyContent: 'space-between',\r\n                        alignItems: 'center',\r\n                      }}>\r\n                        <span style={{ fontSize: theme.typography.fontSize.sm }}>\r\n                          {doc.file_name || `Document ${index + 1}`}\r\n                        </span>\r\n                        <Button\r\n                          variant=\"outline\"\r\n                          size=\"sm\"\r\n                          onClick={() => {\r\n                            const updated = { ...step7Data };\r\n                            updated.personal_documents.photo_id = updated.personal_documents.photo_id.filter((_, i) => i !== index);\r\n                            setStep7Data(updated);\r\n                          }}\r\n                        >\r\n                          Remove\r\n                        </Button>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: theme.spacing.xl }}>\r\n            <Button variant=\"outline\" onClick={prevStep}>\r\n              Previous\r\n            </Button>\r\n            <Button variant=\"primary\" onClick={nextStep}>\r\n              Next: Review & Submit\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Step 8: Review and submit */}\r\n      {step === 8 && (\r\n        <div>\r\n          <h2 style={{\r\n            fontSize: theme.typography.fontSize['2xl'],\r\n            fontWeight: theme.typography.fontWeight.semibold,\r\n            margin: `0 0 ${theme.spacing.lg} 0`,\r\n          }}>\r\n            Review & Submit\r\n          </h2>\r\n          <p style={{ color: theme.colors.textSecondary, marginBottom: theme.spacing.lg }}>\r\n            Please review all information before submitting your borrower profile for review.\r\n          </p>\r\n\r\n          <div style={{ display: 'grid', gap: theme.spacing.lg, marginBottom: theme.spacing.xl }}>\r\n            {/* Step 1 Summary */}\r\n            <div style={commonStyles.card}>\r\n              <h3 style={{ margin: `0 0 ${theme.spacing.md} 0` }}>Account & Consent</h3>\r\n              <p><strong>Email:</strong> {step1Data.email}</p>\r\n              <p><strong>Mobile:</strong> {step1Data.mobile_number}</p>\r\n              <p><strong>MFA Enabled:</strong> {step1Data.mfa_enabled ? 'Yes' : 'No'}</p>\r\n              <p><strong>Consents:</strong> All confirmed</p>\r\n            </div>\r\n\r\n            {/* Step 2 Summary */}\r\n            {step2Data.company_data && (\r\n              <div style={commonStyles.card}>\r\n                <h3 style={{ margin: `0 0 ${theme.spacing.md} 0` }}>Company</h3>\r\n                <p><strong>Company Name:</strong> {step2Data.company_data.company_name}</p>\r\n                <p><strong>Company Number:</strong> {step2Data.company_data.company_number}</p>\r\n                <p><strong>Status:</strong> {step2Data.company_data.company_status}</p>\r\n              </div>\r\n            )}\r\n\r\n            {/* Step 3 Summary */}\r\n            {step3Data.applicants_required.length > 0 && (\r\n              <div style={commonStyles.card}>\r\n                <h3 style={{ margin: `0 0 ${theme.spacing.md} 0` }}>Applicants Required</h3>\r\n                <p>{step3Data.applicants_required.length} applicant(s) will need to complete details</p>\r\n              </div>\r\n            )}\r\n\r\n            {/* Step 4 Summary */}\r\n            {step4Data.applicants.length > 0 && (\r\n              <div style={commonStyles.card}>\r\n                <h3 style={{ margin: `0 0 ${theme.spacing.md} 0` }}>Applicants</h3>\r\n                <p>{step4Data.applicants.length} applicant(s) details completed</p>\r\n              </div>\r\n            )}\r\n\r\n            {/* Step 5 Summary */}\r\n            <div style={commonStyles.card}>\r\n              <h3 style={{ margin: `0 0 ${theme.spacing.md} 0` }}>Financial Snapshot</h3>\r\n              <p><strong>Mode:</strong> {step5Data.mode === 'quick' ? 'Quick (Totals Only)' : 'Detailed (Line-Item)'}</p>\r\n              {step5Data.mode === 'quick' ? (\r\n                <>\r\n                  <p><strong>Total Income:</strong> {parseFloat(step5Data.income_total || 0).toLocaleString('en-GB')}</p>\r\n                  <p><strong>Total Expenditure:</strong> {parseFloat(step5Data.expenditure_total || 0).toLocaleString('en-GB')}</p>\r\n                  <p><strong>Total Assets:</strong> {parseFloat(step5Data.assets_total || 0).toLocaleString('en-GB')}</p>\r\n                  <p><strong>Total Liabilities:</strong> {parseFloat(step5Data.liabilities_total || 0).toLocaleString('en-GB')}</p>\r\n                </>\r\n              ) : (\r\n                <p>Detailed breakdown provided</p>\r\n              )}\r\n            </div>\r\n\r\n            {/* Step 6 Summary */}\r\n            <div style={commonStyles.card}>\r\n              <h3 style={{ margin: `0 0 ${theme.spacing.md} 0` }}>Bank Data</h3>\r\n              <p><strong>Method:</strong> {step6Data.method === 'open_banking' ? 'Open Banking' : 'PDF Upload'}</p>\r\n              {step6Data.open_banking_connected && (\r\n                <p><strong>Accounts Connected:</strong> {step6Data.accounts.length}</p>\r\n              )}\r\n              {step6Data.pdf_statements.length > 0 && (\r\n                <p><strong>PDF Statements:</strong> {step6Data.pdf_statements.length} file(s)</p>\r\n              )}\r\n            </div>\r\n\r\n            {/* Step 7 Summary */}\r\n            <div style={commonStyles.card}>\r\n              <h3 style={{ margin: `0 0 ${theme.spacing.md} 0` }}>Documents</h3>\r\n              <p><strong>Statutory Accounts:</strong> {step7Data.company_documents.statutory_accounts.length} file(s)</p>\r\n              <p><strong>Management Accounts:</strong> {step7Data.company_documents.management_accounts.length} file(s)</p>\r\n              <p><strong>Photo ID:</strong> {step7Data.personal_documents.photo_id.length} file(s)</p>\r\n            </div>\r\n          </div>\r\n\r\n          <div style={{\r\n            ...commonStyles.card,\r\n            padding: theme.spacing.lg,\r\n            background: theme.colors.warningLight,\r\n            marginBottom: theme.spacing.xl,\r\n          }}>\r\n            <p style={{ margin: 0, fontWeight: theme.typography.fontWeight.medium }}>\r\n               Once submitted, your profile will be locked for editing until admin review is complete.\r\n            </p>\r\n            <p style={{ margin: `${theme.spacing.sm} 0 0 0`, fontSize: theme.typography.fontSize.sm }}>\r\n              You will be able to make changes only if admin requests them.\r\n            </p>\r\n          </div>\r\n\r\n          <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: theme.spacing.xl }}>\r\n            <Button variant=\"outline\" onClick={prevStep}>\r\n              Previous\r\n            </Button>\r\n            <Button\r\n              variant=\"primary\"\r\n              onClick={handleSubmitForReview}\r\n              loading={loading}\r\n            >\r\n              Submit for Review\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </Wizard>\r\n  );\r\n}\r\n\r\nexport default BorrowerProfileWizard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}