{"ast":null,"code":"import _objectSpread from\"C:/Users/paul-/OneDrive - BARE Capital Ltd/BARE Drive/10.0 BUILDFUND/1.0 Website Dev/GitHub/new_website/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useNavigate}from'react-router-dom';import api from'../api';import{theme,commonStyles}from'../styles/theme';import Wizard from'../components/Wizard';import Input from'../components/Input';import Select from'../components/Select';import Textarea from'../components/Textarea';import Checkbox from'../components/Checkbox';import Button from'../components/Button';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function BorrowerProjectWizard(){const navigate=useNavigate();const[step,setStep]=useState(1);const[error,setError]=useState(null);const[loading,setLoading]=useState(false);const[formData,setFormData]=useState({funding_type:'mortgage',property_type:'residential',address:'',town:'',county:'',postcode:'',description:'',purpose:'',// For non-property funding\ndevelopment_extent:'light_refurb',tenure:'freehold',planning_permission:false,planning_authority:'',planning_reference:'',planning_description:'',loan_amount_required:'',term_required_months:'',repayment_method:'sale',unit_counts:'',gross_internal_area:'',purchase_price:'',purchase_costs:'',build_cost:'',current_market_value:'',gross_development_value:'',funds_provided_by_applicant:'',source_of_funds:'',existing_mortgage:false,mortgage_company:'',mortgage_balance:''});const isPropertyBasedFunding=fundingType=>{const propertyBasedTypes=['development_finance','senior_debt','commercial_mortgage','mortgage','equity'];return propertyBasedTypes.includes(fundingType);};const handleChange=e=>{const{name,value,type,checked}=e.target;const newFormData=_objectSpread(_objectSpread({},formData),{},{[name]:type==='checkbox'?checked:value});// If funding type changes, update form visibility\nif(name==='funding_type'){// For non-property funding, some fields may not be required\n// This will be handled in the UI conditionally\n}setFormData(newFormData);};const nextStep=()=>{setStep(prev=>prev+1);};const prevStep=()=>{setStep(prev=>prev-1);};const handleSubmit=async()=>{setError(null);setLoading(true);try{let unitCounts={};if(formData.unit_counts){const units=parseInt(formData.unit_counts,10);if(!isNaN(units)){unitCounts.total=units;}}// For non-property funding types, use defaults for property fields\nconst isPropertyBased=isPropertyBasedFunding(formData.funding_type);const payload={funding_type:formData.funding_type,property_type:isPropertyBased?formData.property_type:'commercial',// Default for non-property\naddress:isPropertyBased?formData.address:'N/A - Business Finance',town:isPropertyBased?formData.town:'N/A',county:isPropertyBased?formData.county:'N/A',postcode:isPropertyBased?formData.postcode:'N/A',description:formData.description||formData.purpose||'Business Finance Request',development_extent:isPropertyBased?formData.development_extent:'new_build',tenure:isPropertyBased?formData.tenure:'freehold',planning_permission:formData.planning_permission,planning_authority:formData.planning_authority,planning_reference:formData.planning_reference,planning_description:formData.planning_description,loan_amount_required:formData.loan_amount_required,term_required_months:formData.term_required_months,repayment_method:formData.repayment_method,unit_counts:unitCounts,gross_internal_area:formData.gross_internal_area||null,purchase_price:formData.purchase_price||null,purchase_costs:formData.purchase_costs||null,build_cost:formData.build_cost||null,current_market_value:formData.current_market_value||null,gross_development_value:formData.gross_development_value||null,funds_provided_by_applicant:formData.funds_provided_by_applicant||null,source_of_funds:formData.source_of_funds,existing_mortgage:formData.existing_mortgage,mortgage_company:formData.mortgage_company,mortgage_balance:formData.mortgage_balance||null};await api.post('/api/projects/',payload);navigate('/borrower/projects');}catch(err){var _err$response,_err$response$data,_err$response2,_err$response2$data;console.error('Project creation error:',err);setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.detail)||((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.error)||'Failed to create project');}finally{setLoading(false);}};const steps=['Property Information','Planning & Loan Details','Development & Financials'];return/*#__PURE__*/_jsx(Wizard,{steps:steps,currentStep:step,children:/*#__PURE__*/_jsxs(\"div\",{style:{padding:theme.spacing.xl},children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:theme.typography.fontSize['3xl'],fontWeight:theme.typography.fontWeight.bold,margin:\"0 0 \".concat(theme.spacing.lg,\" 0\"),color:theme.colors.textPrimary},children:\"Create New Project\"}),error&&/*#__PURE__*/_jsx(\"div\",{style:{background:theme.colors.errorLight,color:theme.colors.errorDark,padding:theme.spacing.md,borderRadius:theme.borderRadius.md,marginBottom:theme.spacing.lg,border:\"1px solid \".concat(theme.colors.error)},children:error}),step===1&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:theme.typography.fontSize['2xl'],fontWeight:theme.typography.fontWeight.semibold,margin:\"0 0 \".concat(theme.spacing.xl,\" 0\"),color:theme.colors.textPrimary},children:isPropertyBasedFunding(formData.funding_type)?'Property Information':'Funding Request Information'}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(250px, 1fr))',gap:theme.spacing.lg},children:[/*#__PURE__*/_jsxs(Select,{label:\"Funding Type\",name:\"funding_type\",value:formData.funding_type,onChange:handleChange,required:true,style:{gridColumn:'1 / -1'},children:[/*#__PURE__*/_jsxs(\"optgroup\",{label:\"Property & Development Finance\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"development_finance\",children:\"Development Finance\"}),/*#__PURE__*/_jsx(\"option\",{value:\"senior_debt\",children:\"Senior Debt/Development Finance\"}),/*#__PURE__*/_jsx(\"option\",{value:\"commercial_mortgage\",children:\"Commercial Mortgages\"}),/*#__PURE__*/_jsx(\"option\",{value:\"mortgage\",children:\"Mortgage Finance\"}),/*#__PURE__*/_jsx(\"option\",{value:\"equity\",children:\"Equity Finance\"})]}),/*#__PURE__*/_jsxs(\"optgroup\",{label:\"Alternative Business Finance\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"revenue_based\",children:\"Revenue Based Funding\"}),/*#__PURE__*/_jsx(\"option\",{value:\"merchant_cash_advance\",children:\"Merchant Cash Advance\"}),/*#__PURE__*/_jsx(\"option\",{value:\"term_loan_p2p\",children:\"Term Loans (Peer-to-Peer)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"bank_overdraft\",children:\"Bank Overdraft\"}),/*#__PURE__*/_jsx(\"option\",{value:\"business_credit_card\",children:\"Business Credit Cards\"})]}),/*#__PURE__*/_jsxs(\"optgroup\",{label:\"Asset-Based Finance\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"ip_funding\",children:\"Intellectual Property (IP) Funding\"}),/*#__PURE__*/_jsx(\"option\",{value:\"stock_finance\",children:\"Stock Finance\"}),/*#__PURE__*/_jsx(\"option\",{value:\"asset_finance\",children:\"Asset Finance\"}),/*#__PURE__*/_jsx(\"option\",{value:\"factoring\",children:\"Factoring / Invoice Discounting\"})]}),/*#__PURE__*/_jsxs(\"optgroup\",{label:\"Trade & Export Finance\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"trade_finance\",children:\"Trade Finance\"}),/*#__PURE__*/_jsx(\"option\",{value:\"export_finance\",children:\"Export Finance\"})]}),/*#__PURE__*/_jsx(\"optgroup\",{label:\"Public Sector\",children:/*#__PURE__*/_jsx(\"option\",{value:\"public_sector_startup\",children:\"Public Sector Funding (Start Up Loan)\"})})]}),isPropertyBasedFunding(formData.funding_type)?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Select,{label:\"Property Type\",name:\"property_type\",value:formData.property_type,onChange:handleChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"residential\",children:\"Residential\"}),/*#__PURE__*/_jsx(\"option\",{value:\"commercial\",children:\"Commercial\"}),/*#__PURE__*/_jsx(\"option\",{value:\"mixed\",children:\"Mixed\"}),/*#__PURE__*/_jsx(\"option\",{value:\"industrial\",children:\"Industrial\"})]}),/*#__PURE__*/_jsx(Input,{label:\"Address\",name:\"address\",value:formData.address,onChange:handleChange,required:true,placeholder:\"Enter property address\",style:{gridColumn:'1 / -1'}}),/*#__PURE__*/_jsx(Input,{label:\"Town\",name:\"town\",value:formData.town,onChange:handleChange,required:true,placeholder:\"Enter town\"}),/*#__PURE__*/_jsx(Input,{label:\"County\",name:\"county\",value:formData.county,onChange:handleChange,required:true,placeholder:\"Enter county\"}),/*#__PURE__*/_jsx(Input,{label:\"Postcode\",name:\"postcode\",value:formData.postcode,onChange:handleChange,required:true,placeholder:\"Enter postcode\"}),/*#__PURE__*/_jsxs(Select,{label:\"Development Extent\",name:\"development_extent\",value:formData.development_extent,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"light_refurb\",children:\"Light Refurb\"}),/*#__PURE__*/_jsx(\"option\",{value:\"heavy_refurb\",children:\"Heavy Refurb\"}),/*#__PURE__*/_jsx(\"option\",{value:\"conversion\",children:\"Conversion\"}),/*#__PURE__*/_jsx(\"option\",{value:\"new_build\",children:\"New Build\"})]}),/*#__PURE__*/_jsxs(Select,{label:\"Tenure\",name:\"tenure\",value:formData.tenure,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"freehold\",children:\"Freehold\"}),/*#__PURE__*/_jsx(\"option\",{value:\"leasehold\",children:\"Leasehold\"})]}),/*#__PURE__*/_jsx(Textarea,{label:\"Project Description\",name:\"description\",value:formData.description,onChange:handleChange,rows:4,placeholder:\"Describe the project...\",style:{gridColumn:'1 / -1',marginTop:theme.spacing.lg}})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{gridColumn:'1 / -1',padding:theme.spacing.lg,background:theme.colors.infoLight,borderRadius:theme.borderRadius.md,marginBottom:theme.spacing.md},children:/*#__PURE__*/_jsxs(\"p\",{style:{margin:0,color:theme.colors.infoDark},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Note:\"}),\" This funding type does not require property details. You'll be asked for funding-specific information instead.\"]})}),/*#__PURE__*/_jsx(Textarea,{label:\"Purpose of Funding\",name:\"purpose\",value:formData.purpose,onChange:handleChange,rows:4,placeholder:\"Describe the purpose of this funding request...\",style:{gridColumn:'1 / -1'},required:true}),/*#__PURE__*/_jsx(Textarea,{label:\"Additional Description (Optional)\",name:\"description\",value:formData.description,onChange:handleChange,rows:3,placeholder:\"Any additional information about your funding request...\",style:{gridColumn:'1 / -1'}})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'flex-end',gap:theme.spacing.md,marginTop:theme.spacing.xl},children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",size:\"lg\",onClick:nextStep,children:\"Next \\u2192\"})})]}),step===2&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:theme.typography.fontSize['2xl'],fontWeight:theme.typography.fontWeight.semibold,margin:\"0 0 \".concat(theme.spacing.xl,\" 0\"),color:theme.colors.textPrimary},children:isPropertyBasedFunding(formData.funding_type)?'Planning & Loan Details':'Loan Details'}),isPropertyBasedFunding(formData.funding_type)&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Checkbox,{label:\"Has Planning Permission\",name:\"planning_permission\",checked:formData.planning_permission,onChange:handleChange}),formData.planning_permission&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:theme.spacing.lg,padding:theme.spacing.lg,background:theme.colors.gray50,borderRadius:theme.borderRadius.md},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:theme.typography.fontSize.lg,fontWeight:theme.typography.fontWeight.semibold,margin:\"0 0 \".concat(theme.spacing.md,\" 0\")},children:\"Planning Details\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(250px, 1fr))',gap:theme.spacing.lg},children:[/*#__PURE__*/_jsx(Input,{label:\"Planning Authority\",name:\"planning_authority\",value:formData.planning_authority,onChange:handleChange,placeholder:\"Enter planning authority\"}),/*#__PURE__*/_jsx(Input,{label:\"Reference Number\",name:\"planning_reference\",value:formData.planning_reference,onChange:handleChange,placeholder:\"Enter reference number\"})]}),/*#__PURE__*/_jsx(Textarea,{label:\"Planning Description\",name:\"planning_description\",value:formData.planning_description,onChange:handleChange,rows:3,placeholder:\"Describe the planning permission...\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(250px, 1fr))',gap:theme.spacing.lg,marginTop:theme.spacing.lg},children:[/*#__PURE__*/_jsx(Input,{label:\"Loan Amount Required (\\xA3)\",type:\"number\",name:\"loan_amount_required\",value:formData.loan_amount_required,onChange:handleChange,required:true,placeholder:\"0.00\"}),/*#__PURE__*/_jsx(Input,{label:\"Term Required (months)\",type:\"number\",name:\"term_required_months\",value:formData.term_required_months,onChange:handleChange,required:isPropertyBasedFunding(formData.funding_type),placeholder:\"12\"}),isPropertyBasedFunding(formData.funding_type)&&/*#__PURE__*/_jsxs(Select,{label:\"Repayment Method\",name:\"repayment_method\",value:formData.repayment_method,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"sale\",children:\"Sale\"}),/*#__PURE__*/_jsx(\"option\",{value:\"refinance\",children:\"Refinance\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',marginTop:theme.spacing.xl},children:[/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"lg\",onClick:prevStep,children:\"\\u2190 Back\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",size:\"lg\",onClick:nextStep,children:\"Next \\u2192\"})]})]}),step===3&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:theme.typography.fontSize['2xl'],fontWeight:theme.typography.fontWeight.semibold,margin:\"0 0 \".concat(theme.spacing.xl,\" 0\"),color:theme.colors.textPrimary},children:isPropertyBasedFunding(formData.funding_type)?'Development & Financials':'Financial Information'}),isPropertyBasedFunding(formData.funding_type)?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(250px, 1fr))',gap:theme.spacing.lg},children:[/*#__PURE__*/_jsx(Input,{label:\"Total Units\",type:\"number\",name:\"unit_counts\",value:formData.unit_counts,onChange:handleChange,placeholder:\"0\"}),/*#__PURE__*/_jsx(Input,{label:\"Gross Internal Area (sq ft)\",type:\"number\",step:\"0.01\",name:\"gross_internal_area\",value:formData.gross_internal_area,onChange:handleChange,placeholder:\"0.00\"}),/*#__PURE__*/_jsx(Input,{label:\"Purchase Price (\\xA3)\",type:\"number\",name:\"purchase_price\",value:formData.purchase_price,onChange:handleChange,placeholder:\"0.00\"}),/*#__PURE__*/_jsx(Input,{label:\"Purchase Costs (\\xA3)\",type:\"number\",name:\"purchase_costs\",value:formData.purchase_costs,onChange:handleChange,placeholder:\"0.00\"}),/*#__PURE__*/_jsx(Input,{label:\"Build Cost (\\xA3)\",type:\"number\",name:\"build_cost\",value:formData.build_cost,onChange:handleChange,placeholder:\"0.00\"}),/*#__PURE__*/_jsx(Input,{label:\"Current Market Value (\\xA3)\",type:\"number\",name:\"current_market_value\",value:formData.current_market_value,onChange:handleChange,placeholder:\"0.00\"}),/*#__PURE__*/_jsx(Input,{label:\"Gross Development Value (\\xA3)\",type:\"number\",name:\"gross_development_value\",value:formData.gross_development_value,onChange:handleChange,placeholder:\"0.00\"}),/*#__PURE__*/_jsx(Input,{label:\"Funds Provided by Applicant (\\xA3)\",type:\"number\",name:\"funds_provided_by_applicant\",value:formData.funds_provided_by_applicant,onChange:handleChange,placeholder:\"0.00\"}),/*#__PURE__*/_jsx(Input,{label:\"Source of Funds\",name:\"source_of_funds\",value:formData.source_of_funds,onChange:handleChange,placeholder:\"Describe source of funds\",style:{gridColumn:'1 / -1'}})]}),/*#__PURE__*/_jsx(Checkbox,{label:\"Existing Mortgage\",name:\"existing_mortgage\",checked:formData.existing_mortgage,onChange:handleChange,style:{marginTop:theme.spacing.lg}}),formData.existing_mortgage&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:theme.spacing.lg,padding:theme.spacing.lg,background:theme.colors.gray50,borderRadius:theme.borderRadius.md},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:theme.typography.fontSize.lg,fontWeight:theme.typography.fontWeight.semibold,margin:\"0 0 \".concat(theme.spacing.md,\" 0\")},children:\"Mortgage Details\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(250px, 1fr))',gap:theme.spacing.lg},children:[/*#__PURE__*/_jsx(Input,{label:\"Mortgage Company\",name:\"mortgage_company\",value:formData.mortgage_company,onChange:handleChange,placeholder:\"Enter mortgage company\"}),/*#__PURE__*/_jsx(Input,{label:\"Mortgage Balance (\\xA3)\",type:\"number\",name:\"mortgage_balance\",value:formData.mortgage_balance,onChange:handleChange,placeholder:\"0.00\"})]})]})]}):/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(250px, 1fr))',gap:theme.spacing.lg},children:[/*#__PURE__*/_jsx(Input,{label:\"Source of Funds\",name:\"source_of_funds\",value:formData.source_of_funds,onChange:handleChange,placeholder:\"Describe source of funds\",style:{gridColumn:'1 / -1'}}),/*#__PURE__*/_jsx(\"div\",{style:{gridColumn:'1 / -1',padding:theme.spacing.lg,background:theme.colors.gray50,borderRadius:theme.borderRadius.md},children:/*#__PURE__*/_jsx(\"p\",{style:{margin:0,color:theme.colors.textSecondary},children:\"For non-property funding types, additional financial details will be collected during the application process.\"})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',marginTop:theme.spacing.xl},children:[/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"lg\",onClick:prevStep,children:\"\\u2190 Back\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",size:\"lg\",onClick:handleSubmit,loading:loading,children:loading?'Creating...':'Create Project'})]})]})]})});}export default BorrowerProjectWizard;","map":{"version":3,"names":["React","useState","useNavigate","api","theme","commonStyles","Wizard","Input","Select","Textarea","Checkbox","Button","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BorrowerProjectWizard","navigate","step","setStep","error","setError","loading","setLoading","formData","setFormData","funding_type","property_type","address","town","county","postcode","description","purpose","development_extent","tenure","planning_permission","planning_authority","planning_reference","planning_description","loan_amount_required","term_required_months","repayment_method","unit_counts","gross_internal_area","purchase_price","purchase_costs","build_cost","current_market_value","gross_development_value","funds_provided_by_applicant","source_of_funds","existing_mortgage","mortgage_company","mortgage_balance","isPropertyBasedFunding","fundingType","propertyBasedTypes","includes","handleChange","e","name","value","type","checked","target","newFormData","_objectSpread","nextStep","prev","prevStep","handleSubmit","unitCounts","units","parseInt","isNaN","total","isPropertyBased","payload","post","err","_err$response","_err$response$data","_err$response2","_err$response2$data","console","response","data","detail","steps","currentStep","children","style","padding","spacing","xl","fontSize","typography","fontWeight","bold","margin","concat","lg","color","colors","textPrimary","background","errorLight","errorDark","md","borderRadius","marginBottom","border","semibold","display","gridTemplateColumns","gap","label","onChange","required","gridColumn","placeholder","rows","marginTop","infoLight","infoDark","justifyContent","variant","size","onClick","gray50","textSecondary"],"sources":["C:/Users/paul-/OneDrive - BARE Capital Ltd/BARE Drive/10.0 BUILDFUND/1.0 Website Dev/GitHub/new_website/src/pages/BorrowerProjectWizard.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport api from '../api';\r\nimport { theme, commonStyles } from '../styles/theme';\r\nimport Wizard from '../components/Wizard';\r\nimport Input from '../components/Input';\r\nimport Select from '../components/Select';\r\nimport Textarea from '../components/Textarea';\r\nimport Checkbox from '../components/Checkbox';\r\nimport Button from '../components/Button';\r\n\r\nfunction BorrowerProjectWizard() {\r\n  const navigate = useNavigate();\r\n  const [step, setStep] = useState(1);\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    funding_type: 'mortgage',\r\n    property_type: 'residential',\r\n    address: '',\r\n    town: '',\r\n    county: '',\r\n    postcode: '',\r\n    description: '',\r\n    purpose: '', // For non-property funding\r\n    development_extent: 'light_refurb',\r\n    tenure: 'freehold',\r\n    planning_permission: false,\r\n    planning_authority: '',\r\n    planning_reference: '',\r\n    planning_description: '',\r\n    loan_amount_required: '',\r\n    term_required_months: '',\r\n    repayment_method: 'sale',\r\n    unit_counts: '',\r\n    gross_internal_area: '',\r\n    purchase_price: '',\r\n    purchase_costs: '',\r\n    build_cost: '',\r\n    current_market_value: '',\r\n    gross_development_value: '',\r\n    funds_provided_by_applicant: '',\r\n    source_of_funds: '',\r\n    existing_mortgage: false,\r\n    mortgage_company: '',\r\n    mortgage_balance: '',\r\n  });\r\n\r\n  const isPropertyBasedFunding = (fundingType) => {\r\n    const propertyBasedTypes = [\r\n      'development_finance', 'senior_debt', 'commercial_mortgage', \r\n      'mortgage', 'equity'\r\n    ];\r\n    return propertyBasedTypes.includes(fundingType);\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    const newFormData = { ...formData, [name]: type === 'checkbox' ? checked : value };\r\n    \r\n    // If funding type changes, update form visibility\r\n    if (name === 'funding_type') {\r\n      // For non-property funding, some fields may not be required\r\n      // This will be handled in the UI conditionally\r\n    }\r\n    \r\n    setFormData(newFormData);\r\n  };\r\n\r\n  const nextStep = () => {\r\n    setStep((prev) => prev + 1);\r\n  };\r\n\r\n  const prevStep = () => {\r\n    setStep((prev) => prev - 1);\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    setError(null);\r\n    setLoading(true);\r\n    try {\r\n      let unitCounts = {};\r\n      if (formData.unit_counts) {\r\n        const units = parseInt(formData.unit_counts, 10);\r\n        if (!isNaN(units)) {\r\n          unitCounts.total = units;\r\n        }\r\n      }\r\n      // For non-property funding types, use defaults for property fields\r\n      const isPropertyBased = isPropertyBasedFunding(formData.funding_type);\r\n      \r\n      const payload = {\r\n        funding_type: formData.funding_type,\r\n        property_type: isPropertyBased ? formData.property_type : 'commercial', // Default for non-property\r\n        address: isPropertyBased ? formData.address : 'N/A - Business Finance',\r\n        town: isPropertyBased ? formData.town : 'N/A',\r\n        county: isPropertyBased ? formData.county : 'N/A',\r\n        postcode: isPropertyBased ? formData.postcode : 'N/A',\r\n        description: formData.description || formData.purpose || 'Business Finance Request',\r\n        development_extent: isPropertyBased ? formData.development_extent : 'new_build',\r\n        tenure: isPropertyBased ? formData.tenure : 'freehold',\r\n        planning_permission: formData.planning_permission,\r\n        planning_authority: formData.planning_authority,\r\n        planning_reference: formData.planning_reference,\r\n        planning_description: formData.planning_description,\r\n        loan_amount_required: formData.loan_amount_required,\r\n        term_required_months: formData.term_required_months,\r\n        repayment_method: formData.repayment_method,\r\n        unit_counts: unitCounts,\r\n        gross_internal_area: formData.gross_internal_area || null,\r\n        purchase_price: formData.purchase_price || null,\r\n        purchase_costs: formData.purchase_costs || null,\r\n        build_cost: formData.build_cost || null,\r\n        current_market_value: formData.current_market_value || null,\r\n        gross_development_value: formData.gross_development_value || null,\r\n        funds_provided_by_applicant: formData.funds_provided_by_applicant || null,\r\n        source_of_funds: formData.source_of_funds,\r\n        existing_mortgage: formData.existing_mortgage,\r\n        mortgage_company: formData.mortgage_company,\r\n        mortgage_balance: formData.mortgage_balance || null,\r\n      };\r\n      await api.post('/api/projects/', payload);\r\n      navigate('/borrower/projects');\r\n    } catch (err) {\r\n      console.error('Project creation error:', err);\r\n      setError(err.response?.data?.detail || err.response?.data?.error || 'Failed to create project');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const steps = ['Property Information', 'Planning & Loan Details', 'Development & Financials'];\r\n\r\n  return (\r\n    <Wizard steps={steps} currentStep={step}>\r\n      <div style={{ padding: theme.spacing.xl }}>\r\n        <h1 style={{\r\n          fontSize: theme.typography.fontSize['3xl'],\r\n          fontWeight: theme.typography.fontWeight.bold,\r\n          margin: `0 0 ${theme.spacing.lg} 0`,\r\n          color: theme.colors.textPrimary,\r\n        }}>\r\n          Create New Project\r\n        </h1>\r\n\r\n        {error && (\r\n          <div style={{\r\n            background: theme.colors.errorLight,\r\n            color: theme.colors.errorDark,\r\n            padding: theme.spacing.md,\r\n            borderRadius: theme.borderRadius.md,\r\n            marginBottom: theme.spacing.lg,\r\n            border: `1px solid ${theme.colors.error}`,\r\n          }}>\r\n            {error}\r\n          </div>\r\n        )}\r\n\r\n        {step === 1 && (\r\n          <div>\r\n            <h2 style={{\r\n              fontSize: theme.typography.fontSize['2xl'],\r\n              fontWeight: theme.typography.fontWeight.semibold,\r\n              margin: `0 0 ${theme.spacing.xl} 0`,\r\n              color: theme.colors.textPrimary,\r\n            }}>\r\n              {isPropertyBasedFunding(formData.funding_type) ? 'Property Information' : 'Funding Request Information'}\r\n            </h2>\r\n            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: theme.spacing.lg }}>\r\n              <Select\r\n                label=\"Funding Type\"\r\n                name=\"funding_type\"\r\n                value={formData.funding_type}\r\n                onChange={handleChange}\r\n                required\r\n                style={{ gridColumn: '1 / -1' }}\r\n              >\r\n                <optgroup label=\"Property & Development Finance\">\r\n                  <option value=\"development_finance\">Development Finance</option>\r\n                  <option value=\"senior_debt\">Senior Debt/Development Finance</option>\r\n                  <option value=\"commercial_mortgage\">Commercial Mortgages</option>\r\n                  <option value=\"mortgage\">Mortgage Finance</option>\r\n                  <option value=\"equity\">Equity Finance</option>\r\n                </optgroup>\r\n                <optgroup label=\"Alternative Business Finance\">\r\n                  <option value=\"revenue_based\">Revenue Based Funding</option>\r\n                  <option value=\"merchant_cash_advance\">Merchant Cash Advance</option>\r\n                  <option value=\"term_loan_p2p\">Term Loans (Peer-to-Peer)</option>\r\n                  <option value=\"bank_overdraft\">Bank Overdraft</option>\r\n                  <option value=\"business_credit_card\">Business Credit Cards</option>\r\n                </optgroup>\r\n                <optgroup label=\"Asset-Based Finance\">\r\n                  <option value=\"ip_funding\">Intellectual Property (IP) Funding</option>\r\n                  <option value=\"stock_finance\">Stock Finance</option>\r\n                  <option value=\"asset_finance\">Asset Finance</option>\r\n                  <option value=\"factoring\">Factoring / Invoice Discounting</option>\r\n                </optgroup>\r\n                <optgroup label=\"Trade & Export Finance\">\r\n                  <option value=\"trade_finance\">Trade Finance</option>\r\n                  <option value=\"export_finance\">Export Finance</option>\r\n                </optgroup>\r\n                <optgroup label=\"Public Sector\">\r\n                  <option value=\"public_sector_startup\">Public Sector Funding (Start Up Loan)</option>\r\n                </optgroup>\r\n              </Select>\r\n\r\n              {isPropertyBasedFunding(formData.funding_type) ? (\r\n                <>\r\n                  <Select\r\n                    label=\"Property Type\"\r\n                    name=\"property_type\"\r\n                    value={formData.property_type}\r\n                    onChange={handleChange}\r\n                    required\r\n                  >\r\n                    <option value=\"residential\">Residential</option>\r\n                    <option value=\"commercial\">Commercial</option>\r\n                    <option value=\"mixed\">Mixed</option>\r\n                    <option value=\"industrial\">Industrial</option>\r\n                  </Select>\r\n\r\n                  <Input\r\n                    label=\"Address\"\r\n                    name=\"address\"\r\n                    value={formData.address}\r\n                    onChange={handleChange}\r\n                    required\r\n                    placeholder=\"Enter property address\"\r\n                    style={{ gridColumn: '1 / -1' }}\r\n                  />\r\n\r\n                  <Input\r\n                    label=\"Town\"\r\n                    name=\"town\"\r\n                    value={formData.town}\r\n                    onChange={handleChange}\r\n                    required\r\n                    placeholder=\"Enter town\"\r\n                  />\r\n\r\n                  <Input\r\n                    label=\"County\"\r\n                    name=\"county\"\r\n                    value={formData.county}\r\n                    onChange={handleChange}\r\n                    required\r\n                    placeholder=\"Enter county\"\r\n                  />\r\n\r\n                  <Input\r\n                    label=\"Postcode\"\r\n                    name=\"postcode\"\r\n                    value={formData.postcode}\r\n                    onChange={handleChange}\r\n                    required\r\n                    placeholder=\"Enter postcode\"\r\n                  />\r\n\r\n                  <Select\r\n                    label=\"Development Extent\"\r\n                    name=\"development_extent\"\r\n                    value={formData.development_extent}\r\n                    onChange={handleChange}\r\n                  >\r\n                    <option value=\"light_refurb\">Light Refurb</option>\r\n                    <option value=\"heavy_refurb\">Heavy Refurb</option>\r\n                    <option value=\"conversion\">Conversion</option>\r\n                    <option value=\"new_build\">New Build</option>\r\n                  </Select>\r\n\r\n                  <Select\r\n                    label=\"Tenure\"\r\n                    name=\"tenure\"\r\n                    value={formData.tenure}\r\n                    onChange={handleChange}\r\n                  >\r\n                    <option value=\"freehold\">Freehold</option>\r\n                    <option value=\"leasehold\">Leasehold</option>\r\n                  </Select>\r\n\r\n                  <Textarea\r\n                    label=\"Project Description\"\r\n                    name=\"description\"\r\n                    value={formData.description}\r\n                    onChange={handleChange}\r\n                    rows={4}\r\n                    placeholder=\"Describe the project...\"\r\n                    style={{ gridColumn: '1 / -1', marginTop: theme.spacing.lg }}\r\n                  />\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <div style={{ \r\n                    gridColumn: '1 / -1', \r\n                    padding: theme.spacing.lg, \r\n                    background: theme.colors.infoLight, \r\n                    borderRadius: theme.borderRadius.md,\r\n                    marginBottom: theme.spacing.md,\r\n                  }}>\r\n                    <p style={{ margin: 0, color: theme.colors.infoDark }}>\r\n                      <strong>Note:</strong> This funding type does not require property details. \r\n                      You'll be asked for funding-specific information instead.\r\n                    </p>\r\n                  </div>\r\n\r\n                  <Textarea\r\n                    label=\"Purpose of Funding\"\r\n                    name=\"purpose\"\r\n                    value={formData.purpose}\r\n                    onChange={handleChange}\r\n                    rows={4}\r\n                    placeholder=\"Describe the purpose of this funding request...\"\r\n                    style={{ gridColumn: '1 / -1' }}\r\n                    required\r\n                  />\r\n\r\n                  <Textarea\r\n                    label=\"Additional Description (Optional)\"\r\n                    name=\"description\"\r\n                    value={formData.description}\r\n                    onChange={handleChange}\r\n                    rows={3}\r\n                    placeholder=\"Any additional information about your funding request...\"\r\n                    style={{ gridColumn: '1 / -1' }}\r\n                  />\r\n                </>\r\n              )}\r\n            </div>\r\n\r\n            <div style={{ display: 'flex', justifyContent: 'flex-end', gap: theme.spacing.md, marginTop: theme.spacing.xl }}>\r\n              <Button variant=\"primary\" size=\"lg\" onClick={nextStep}>\r\n                Next →\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {step === 2 && (\r\n          <div>\r\n            <h2 style={{\r\n              fontSize: theme.typography.fontSize['2xl'],\r\n              fontWeight: theme.typography.fontWeight.semibold,\r\n              margin: `0 0 ${theme.spacing.xl} 0`,\r\n              color: theme.colors.textPrimary,\r\n            }}>\r\n              {isPropertyBasedFunding(formData.funding_type) ? 'Planning & Loan Details' : 'Loan Details'}\r\n            </h2>\r\n\r\n            {isPropertyBasedFunding(formData.funding_type) && (\r\n              <>\r\n                <Checkbox\r\n                  label=\"Has Planning Permission\"\r\n                  name=\"planning_permission\"\r\n                  checked={formData.planning_permission}\r\n                  onChange={handleChange}\r\n                />\r\n\r\n                {formData.planning_permission && (\r\n              <div style={{ \r\n                marginTop: theme.spacing.lg, \r\n                padding: theme.spacing.lg, \r\n                background: theme.colors.gray50,\r\n                borderRadius: theme.borderRadius.md,\r\n              }}>\r\n                <h3 style={{\r\n                  fontSize: theme.typography.fontSize.lg,\r\n                  fontWeight: theme.typography.fontWeight.semibold,\r\n                  margin: `0 0 ${theme.spacing.md} 0`,\r\n                }}>\r\n                  Planning Details\r\n                </h3>\r\n                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: theme.spacing.lg }}>\r\n                  <Input\r\n                    label=\"Planning Authority\"\r\n                    name=\"planning_authority\"\r\n                    value={formData.planning_authority}\r\n                    onChange={handleChange}\r\n                    placeholder=\"Enter planning authority\"\r\n                  />\r\n\r\n                  <Input\r\n                    label=\"Reference Number\"\r\n                    name=\"planning_reference\"\r\n                    value={formData.planning_reference}\r\n                    onChange={handleChange}\r\n                    placeholder=\"Enter reference number\"\r\n                  />\r\n                </div>\r\n\r\n                <Textarea\r\n                  label=\"Planning Description\"\r\n                  name=\"planning_description\"\r\n                  value={formData.planning_description}\r\n                  onChange={handleChange}\r\n                  rows={3}\r\n                  placeholder=\"Describe the planning permission...\"\r\n                />\r\n              </div>\r\n                )}\r\n              </>\r\n            )}\r\n\r\n            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: theme.spacing.lg, marginTop: theme.spacing.lg }}>\r\n              <Input\r\n                label=\"Loan Amount Required (£)\"\r\n                type=\"number\"\r\n                name=\"loan_amount_required\"\r\n                value={formData.loan_amount_required}\r\n                onChange={handleChange}\r\n                required\r\n                placeholder=\"0.00\"\r\n              />\r\n\r\n              <Input\r\n                label=\"Term Required (months)\"\r\n                type=\"number\"\r\n                name=\"term_required_months\"\r\n                value={formData.term_required_months}\r\n                onChange={handleChange}\r\n                required={isPropertyBasedFunding(formData.funding_type)}\r\n                placeholder=\"12\"\r\n              />\r\n\r\n              {isPropertyBasedFunding(formData.funding_type) && (\r\n                <Select\r\n                  label=\"Repayment Method\"\r\n                  name=\"repayment_method\"\r\n                  value={formData.repayment_method}\r\n                  onChange={handleChange}\r\n                >\r\n                  <option value=\"sale\">Sale</option>\r\n                  <option value=\"refinance\">Refinance</option>\r\n                </Select>\r\n              )}\r\n            </div>\r\n\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: theme.spacing.xl }}>\r\n              <Button variant=\"outline\" size=\"lg\" onClick={prevStep}>\r\n                ← Back\r\n              </Button>\r\n              <Button variant=\"primary\" size=\"lg\" onClick={nextStep}>\r\n                Next →\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {step === 3 && (\r\n          <div>\r\n            <h2 style={{\r\n              fontSize: theme.typography.fontSize['2xl'],\r\n              fontWeight: theme.typography.fontWeight.semibold,\r\n              margin: `0 0 ${theme.spacing.xl} 0`,\r\n              color: theme.colors.textPrimary,\r\n            }}>\r\n              {isPropertyBasedFunding(formData.funding_type) ? 'Development & Financials' : 'Financial Information'}\r\n            </h2>\r\n\r\n            {isPropertyBasedFunding(formData.funding_type) ? (\r\n              <>\r\n                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: theme.spacing.lg }}>\r\n                  <Input\r\n                    label=\"Total Units\"\r\n                    type=\"number\"\r\n                    name=\"unit_counts\"\r\n                    value={formData.unit_counts}\r\n                    onChange={handleChange}\r\n                    placeholder=\"0\"\r\n                  />\r\n\r\n                  <Input\r\n                    label=\"Gross Internal Area (sq ft)\"\r\n                    type=\"number\"\r\n                    step=\"0.01\"\r\n                    name=\"gross_internal_area\"\r\n                    value={formData.gross_internal_area}\r\n                    onChange={handleChange}\r\n                    placeholder=\"0.00\"\r\n                  />\r\n\r\n                  <Input\r\n                    label=\"Purchase Price (£)\"\r\n                    type=\"number\"\r\n                    name=\"purchase_price\"\r\n                    value={formData.purchase_price}\r\n                    onChange={handleChange}\r\n                    placeholder=\"0.00\"\r\n                  />\r\n\r\n                  <Input\r\n                    label=\"Purchase Costs (£)\"\r\n                    type=\"number\"\r\n                    name=\"purchase_costs\"\r\n                    value={formData.purchase_costs}\r\n                    onChange={handleChange}\r\n                    placeholder=\"0.00\"\r\n                  />\r\n\r\n                  <Input\r\n                    label=\"Build Cost (£)\"\r\n                    type=\"number\"\r\n                    name=\"build_cost\"\r\n                    value={formData.build_cost}\r\n                    onChange={handleChange}\r\n                    placeholder=\"0.00\"\r\n                  />\r\n\r\n                  <Input\r\n                    label=\"Current Market Value (£)\"\r\n                    type=\"number\"\r\n                    name=\"current_market_value\"\r\n                    value={formData.current_market_value}\r\n                    onChange={handleChange}\r\n                    placeholder=\"0.00\"\r\n                  />\r\n\r\n                  <Input\r\n                    label=\"Gross Development Value (£)\"\r\n                    type=\"number\"\r\n                    name=\"gross_development_value\"\r\n                    value={formData.gross_development_value}\r\n                    onChange={handleChange}\r\n                    placeholder=\"0.00\"\r\n                  />\r\n\r\n                  <Input\r\n                    label=\"Funds Provided by Applicant (£)\"\r\n                    type=\"number\"\r\n                    name=\"funds_provided_by_applicant\"\r\n                    value={formData.funds_provided_by_applicant}\r\n                    onChange={handleChange}\r\n                    placeholder=\"0.00\"\r\n                  />\r\n\r\n                  <Input\r\n                    label=\"Source of Funds\"\r\n                    name=\"source_of_funds\"\r\n                    value={formData.source_of_funds}\r\n                    onChange={handleChange}\r\n                    placeholder=\"Describe source of funds\"\r\n                    style={{ gridColumn: '1 / -1' }}\r\n                  />\r\n                </div>\r\n\r\n                <Checkbox\r\n                  label=\"Existing Mortgage\"\r\n                  name=\"existing_mortgage\"\r\n                  checked={formData.existing_mortgage}\r\n                  onChange={handleChange}\r\n                  style={{ marginTop: theme.spacing.lg }}\r\n                />\r\n\r\n                {formData.existing_mortgage && (\r\n                  <div style={{ \r\n                    marginTop: theme.spacing.lg, \r\n                    padding: theme.spacing.lg, \r\n                    background: theme.colors.gray50,\r\n                    borderRadius: theme.borderRadius.md,\r\n                  }}>\r\n                    <h3 style={{\r\n                      fontSize: theme.typography.fontSize.lg,\r\n                      fontWeight: theme.typography.fontWeight.semibold,\r\n                      margin: `0 0 ${theme.spacing.md} 0`,\r\n                    }}>\r\n                      Mortgage Details\r\n                    </h3>\r\n                    <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: theme.spacing.lg }}>\r\n                      <Input\r\n                        label=\"Mortgage Company\"\r\n                        name=\"mortgage_company\"\r\n                        value={formData.mortgage_company}\r\n                        onChange={handleChange}\r\n                        placeholder=\"Enter mortgage company\"\r\n                      />\r\n\r\n                      <Input\r\n                        label=\"Mortgage Balance (£)\"\r\n                        type=\"number\"\r\n                        name=\"mortgage_balance\"\r\n                        value={formData.mortgage_balance}\r\n                        onChange={handleChange}\r\n                        placeholder=\"0.00\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </>\r\n            ) : (\r\n              <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: theme.spacing.lg }}>\r\n                <Input\r\n                  label=\"Source of Funds\"\r\n                  name=\"source_of_funds\"\r\n                  value={formData.source_of_funds}\r\n                  onChange={handleChange}\r\n                  placeholder=\"Describe source of funds\"\r\n                  style={{ gridColumn: '1 / -1' }}\r\n                />\r\n                <div style={{ \r\n                  gridColumn: '1 / -1', \r\n                  padding: theme.spacing.lg, \r\n                  background: theme.colors.gray50,\r\n                  borderRadius: theme.borderRadius.md,\r\n                }}>\r\n                  <p style={{ margin: 0, color: theme.colors.textSecondary }}>\r\n                    For non-property funding types, additional financial details will be collected during the application process.\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: theme.spacing.xl }}>\r\n              <Button variant=\"outline\" size=\"lg\" onClick={prevStep}>\r\n                ← Back\r\n              </Button>\r\n              <Button variant=\"primary\" size=\"lg\" onClick={handleSubmit} loading={loading}>\r\n                {loading ? 'Creating...' : 'Create Project'}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </Wizard>\r\n  );\r\n}\r\n\r\nexport default BorrowerProjectWizard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}