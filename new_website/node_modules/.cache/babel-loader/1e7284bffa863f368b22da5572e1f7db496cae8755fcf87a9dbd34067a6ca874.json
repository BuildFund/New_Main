{"ast":null,"code":"import _objectSpread from\"C:/Users/paul-/OneDrive - BARE Capital Ltd/BARE Drive/10.0 BUILDFUND/1.0 Website Dev/GitHub/new_website/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import{useParams,useNavigate,useSearchParams}from'react-router-dom';import api from'../api';import{theme,commonStyles}from'../styles/theme';import Button from'../components/Button';import Badge from'../components/Badge';import Textarea from'../components/Textarea';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function BorrowerProductDetail(){const{id}=useParams();const navigate=useNavigate();const[searchParams]=useSearchParams();const projectId=searchParams.get('project_id');const[product,setProduct]=useState(null);const[lender,setLender]=useState(null);const[isFavourited,setIsFavourited]=useState(false);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[applying,setApplying]=useState(false);const[enquiryNotes,setEnquiryNotes]=useState('');const[successMessage,setSuccessMessage]=useState(null);useEffect(()=>{loadProduct();if(projectId){checkFavouriteStatus();}},[id,projectId]);async function loadProduct(){setLoading(true);setError(null);try{const productRes=await api.get(\"/api/products/\".concat(id,\"/\"));setProduct(productRes.data);// Lender details should be included in product response, but try separate endpoint as fallback\nif(productRes.data.lender_details){setLender(productRes.data.lender_details);}else{try{const lenderRes=await api.get(\"/api/products/\".concat(id,\"/lender-details/\"));setLender(lenderRes.data);}catch(lenderErr){console.warn('Failed to load lender details separately:',lenderErr);// Continue without separate lender details - product data should have lender info\nif(productRes.data.lender){// If lender is just an ID, we'll show what we have\nsetLender({id:productRes.data.lender});}}}}catch(err){var _err$response;console.error('BorrowerProductDetail loadProduct error:',err);console.error('Error details:',{message:err.message,response:err.response,status:(_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.status});let errorMessage='Failed to load product details';if(err.response){if(err.response.status===404){errorMessage='Product not found';}else if(err.response.status===401||err.response.status===403){errorMessage='Authentication failed. Please log in again.';localStorage.removeItem('token');localStorage.removeItem('role');window.location.href='/login';return;}else{var _err$response$data,_err$response$data2;errorMessage=((_err$response$data=err.response.data)===null||_err$response$data===void 0?void 0:_err$response$data.detail)||((_err$response$data2=err.response.data)===null||_err$response$data2===void 0?void 0:_err$response$data2.error)||\"Server error: \".concat(err.response.status);}}else if(err.request){errorMessage='Network Error: Cannot connect to backend server';}else{errorMessage=err.message||'Unknown error';}setError(errorMessage);}finally{setLoading(false);}}async function checkFavouriteStatus(){try{const res=await api.get(\"/api/products/favourites/check/?product_id=\".concat(id,\"&project_id=\").concat(projectId||''));setIsFavourited(res.data.favourited);}catch(err){console.error('Failed to check favourite status:',err);}}const handleToggleFavourite=async()=>{try{const res=await api.post('/api/products/favourites/toggle/',{product_id:id,project_id:projectId||null});setIsFavourited(res.data.favourited);setSuccessMessage(res.data.favourited?'Product added to saved products':'Product removed from saved products');setTimeout(()=>setSuccessMessage(null),3000);}catch(err){var _err$response2,_err$response2$data;console.error('Failed to toggle favourite:',err);setError(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.error)||'Failed to save product');}};const handleApply=async()=>{if(!projectId){setError('Please select a project from the Matches page first');return;}setApplying(true);setError(null);setSuccessMessage(null);try{const res=await api.post(\"/api/projects/\".concat(projectId,\"/submit-enquiry/\"),{product_id:id,notes:enquiryNotes});setSuccessMessage('Application submitted successfully! The lender will be notified.');setEnquiryNotes('');}catch(err){var _err$response3,_err$response3$data,_err$response4,_err$response4$data;const errorMsg=((_err$response3=err.response)===null||_err$response3===void 0?void 0:(_err$response3$data=_err$response3.data)===null||_err$response3$data===void 0?void 0:_err$response3$data.error)||((_err$response4=err.response)===null||_err$response4===void 0?void 0:(_err$response4$data=_err$response4.data)===null||_err$response4$data===void 0?void 0:_err$response4$data.detail)||'Failed to submit application';setError(errorMsg);}finally{setApplying(false);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{style:commonStyles.container,children:/*#__PURE__*/_jsx(\"p\",{style:{textAlign:'center',color:theme.colors.textSecondary},children:\"Loading product...\"})});}if(error&&!product){return/*#__PURE__*/_jsx(\"div\",{style:commonStyles.container,children:/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},commonStyles.card),{},{background:theme.colors.errorLight,color:theme.colors.errorDark,padding:theme.spacing.lg}),children:[/*#__PURE__*/_jsx(\"p\",{children:error}),/*#__PURE__*/_jsx(Button,{onClick:()=>navigate('/borrower/matches'),variant:\"primary\",children:\"Back to Matches\"})]})});}if(!product){return null;}return/*#__PURE__*/_jsxs(\"div\",{style:commonStyles.container,children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:theme.spacing.lg,display:'flex',alignItems:'center',gap:theme.spacing.md},children:[/*#__PURE__*/_jsx(Button,{onClick:()=>navigate('/borrower/matches'),variant:\"outline\",children:\"\\u2190 Back to Matches\"}),/*#__PURE__*/_jsx(\"h1\",{style:{margin:0,fontSize:theme.typography.fontSize['3xl'],fontWeight:theme.typography.fontWeight.bold},children:product.name}),/*#__PURE__*/_jsx(Badge,{variant:product.status==='active'?'success':'warning',children:product.status})]}),error&&/*#__PURE__*/_jsx(\"div\",{style:{background:theme.colors.errorLight,color:theme.colors.errorDark,padding:theme.spacing.md,borderRadius:theme.borderRadius.md,marginBottom:theme.spacing.lg,border:\"1px solid \".concat(theme.colors.error)},children:error}),successMessage&&/*#__PURE__*/_jsx(\"div\",{style:{background:theme.colors.successLight,color:theme.colors.successDark,padding:theme.spacing.md,borderRadius:theme.borderRadius.md,marginBottom:theme.spacing.lg,border:\"1px solid \".concat(theme.colors.success)},children:successMessage}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'2fr 1fr',gap:theme.spacing.xl},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:commonStyles.card,children:[/*#__PURE__*/_jsx(\"h2\",{style:{margin:\"0 0 \".concat(theme.spacing.lg,\" 0\")},children:\"Product Information\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gap:theme.spacing.md},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{margin:\"\".concat(theme.spacing.xs,\" 0\"),color:theme.colors.textSecondary},children:/*#__PURE__*/_jsx(\"strong\",{children:\"Funding Type:\"})}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0},children:product.funding_type})]}),product.property_type&&product.property_type!=='n/a'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{margin:\"\".concat(theme.spacing.xs,\" 0\"),color:theme.colors.textSecondary},children:/*#__PURE__*/_jsx(\"strong\",{children:\"Property Type:\"})}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0},children:product.property_type})]}),product.description&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{margin:\"\".concat(theme.spacing.xs,\" 0\"),color:theme.colors.textSecondary},children:/*#__PURE__*/_jsx(\"strong\",{children:\"Description:\"})}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0,lineHeight:theme.typography.lineHeight.relaxed},children:product.description})]})]})]}),lender&&/*#__PURE__*/_jsxs(\"div\",{style:commonStyles.card,children:[/*#__PURE__*/_jsx(\"h2\",{style:{margin:\"0 0 \".concat(theme.spacing.lg,\" 0\")},children:\"Lender Information\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gap:theme.spacing.md},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{margin:\"\".concat(theme.spacing.xs,\" 0\"),color:theme.colors.textSecondary},children:/*#__PURE__*/_jsx(\"strong\",{children:\"Organisation Name:\"})}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0},children:lender.organisation_name})]}),lender.contact_email&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{margin:\"\".concat(theme.spacing.xs,\" 0\"),color:theme.colors.textSecondary},children:/*#__PURE__*/_jsx(\"strong\",{children:\"Contact Email:\"})}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0},children:lender.contact_email})]}),lender.contact_phone&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{margin:\"\".concat(theme.spacing.xs,\" 0\"),color:theme.colors.textSecondary},children:/*#__PURE__*/_jsx(\"strong\",{children:\"Contact Phone:\"})}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0},children:lender.contact_phone})]}),lender.description&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{margin:\"\".concat(theme.spacing.xs,\" 0\"),color:theme.colors.textSecondary},children:/*#__PURE__*/_jsx(\"strong\",{children:\"About:\"})}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0,lineHeight:theme.typography.lineHeight.relaxed},children:lender.description})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:commonStyles.card,children:[/*#__PURE__*/_jsx(\"h2\",{style:{margin:\"0 0 \".concat(theme.spacing.lg,\" 0\")},children:\"Loan Terms\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:theme.spacing.md},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{margin:\"\".concat(theme.spacing.xs,\" 0\"),color:theme.colors.textSecondary},children:/*#__PURE__*/_jsx(\"strong\",{children:\"Loan Amount Range:\"})}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:0},children:[\"\\xA3\",parseFloat(product.min_loan_amount||0).toLocaleString(),\" - \\xA3\",parseFloat(product.max_loan_amount||0).toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{margin:\"\".concat(theme.spacing.xs,\" 0\"),color:theme.colors.textSecondary},children:/*#__PURE__*/_jsx(\"strong\",{children:\"Interest Rate:\"})}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:0},children:[product.interest_rate_min,\"% - \",product.interest_rate_max,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{margin:\"\".concat(theme.spacing.xs,\" 0\"),color:theme.colors.textSecondary},children:/*#__PURE__*/_jsx(\"strong\",{children:\"Term:\"})}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:0},children:[product.term_min_months,\" - \",product.term_max_months,\" months\"]})]}),product.max_ltv_ratio&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{margin:\"\".concat(theme.spacing.xs,\" 0\"),color:theme.colors.textSecondary},children:/*#__PURE__*/_jsx(\"strong\",{children:\"Max LTV Ratio:\"})}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:0},children:[product.max_ltv_ratio,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{margin:\"\".concat(theme.spacing.xs,\" 0\"),color:theme.colors.textSecondary},children:/*#__PURE__*/_jsx(\"strong\",{children:\"Repayment Structure:\"})}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0},children:product.repayment_structure})]})]})]}),product.eligibility_criteria&&/*#__PURE__*/_jsxs(\"div\",{style:commonStyles.card,children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:\"0 0 \".concat(theme.spacing.lg,\" 0\")},children:\"Eligibility Criteria\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0,lineHeight:theme.typography.lineHeight.relaxed},children:product.eligibility_criteria})]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{style:commonStyles.card,children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:\"0 0 \".concat(theme.spacing.lg,\" 0\")},children:\"Actions\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:theme.spacing.md},children:[/*#__PURE__*/_jsx(Button,{onClick:handleToggleFavourite,variant:isFavourited?\"primary\":\"outline\",style:{width:'100%'},children:isFavourited?'★ Remove from Saved':'☆ Save for Later'}),projectId&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:theme.spacing.xs,fontWeight:theme.typography.fontWeight.medium},children:\"Notes (optional):\"}),/*#__PURE__*/_jsx(Textarea,{value:enquiryNotes,onChange:e=>setEnquiryNotes(e.target.value),placeholder:\"Add any notes or questions for the lender...\",rows:4})]}),/*#__PURE__*/_jsx(Button,{onClick:handleApply,disabled:applying,variant:\"primary\",style:{width:'100%'},children:applying?'Submitting...':'Apply Now'})]}),!projectId&&/*#__PURE__*/_jsx(\"p\",{style:{color:theme.colors.textSecondary,fontSize:theme.typography.fontSize.sm,margin:0},children:\"Select a project from the Matches page to apply for this product.\"})]})]})})]})]});}export default BorrowerProductDetail;","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","useSearchParams","api","theme","commonStyles","Button","Badge","Textarea","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BorrowerProductDetail","id","navigate","searchParams","projectId","get","product","setProduct","lender","setLender","isFavourited","setIsFavourited","loading","setLoading","error","setError","applying","setApplying","enquiryNotes","setEnquiryNotes","successMessage","setSuccessMessage","loadProduct","checkFavouriteStatus","productRes","concat","data","lender_details","lenderRes","lenderErr","console","warn","err","_err$response","message","response","status","errorMessage","localStorage","removeItem","window","location","href","_err$response$data","_err$response$data2","detail","request","res","favourited","handleToggleFavourite","post","product_id","project_id","setTimeout","_err$response2","_err$response2$data","handleApply","notes","_err$response3","_err$response3$data","_err$response4","_err$response4$data","errorMsg","style","container","children","textAlign","color","colors","textSecondary","_objectSpread","card","background","errorLight","errorDark","padding","spacing","lg","onClick","variant","marginBottom","display","alignItems","gap","md","margin","fontSize","typography","fontWeight","bold","name","borderRadius","border","successLight","successDark","success","gridTemplateColumns","xl","xs","funding_type","property_type","description","lineHeight","relaxed","organisation_name","contact_email","contact_phone","parseFloat","min_loan_amount","toLocaleString","max_loan_amount","interest_rate_min","interest_rate_max","term_min_months","term_max_months","max_ltv_ratio","repayment_structure","eligibility_criteria","flexDirection","width","medium","value","onChange","e","target","placeholder","rows","disabled","sm"],"sources":["C:/Users/paul-/OneDrive - BARE Capital Ltd/BARE Drive/10.0 BUILDFUND/1.0 Website Dev/GitHub/new_website/src/pages/BorrowerProductDetail.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams, useNavigate, useSearchParams } from 'react-router-dom';\r\nimport api from '../api';\r\nimport { theme, commonStyles } from '../styles/theme';\r\nimport Button from '../components/Button';\r\nimport Badge from '../components/Badge';\r\nimport Textarea from '../components/Textarea';\r\n\r\nfunction BorrowerProductDetail() {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [searchParams] = useSearchParams();\r\n  const projectId = searchParams.get('project_id');\r\n  \r\n  const [product, setProduct] = useState(null);\r\n  const [lender, setLender] = useState(null);\r\n  const [isFavourited, setIsFavourited] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [applying, setApplying] = useState(false);\r\n  const [enquiryNotes, setEnquiryNotes] = useState('');\r\n  const [successMessage, setSuccessMessage] = useState(null);\r\n\r\n  useEffect(() => {\r\n    loadProduct();\r\n    if (projectId) {\r\n      checkFavouriteStatus();\r\n    }\r\n  }, [id, projectId]);\r\n\r\n  async function loadProduct() {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const productRes = await api.get(`/api/products/${id}/`);\r\n      setProduct(productRes.data);\r\n      \r\n      // Lender details should be included in product response, but try separate endpoint as fallback\r\n      if (productRes.data.lender_details) {\r\n        setLender(productRes.data.lender_details);\r\n      } else {\r\n        try {\r\n          const lenderRes = await api.get(`/api/products/${id}/lender-details/`);\r\n          setLender(lenderRes.data);\r\n        } catch (lenderErr) {\r\n          console.warn('Failed to load lender details separately:', lenderErr);\r\n          // Continue without separate lender details - product data should have lender info\r\n          if (productRes.data.lender) {\r\n            // If lender is just an ID, we'll show what we have\r\n            setLender({ id: productRes.data.lender });\r\n          }\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.error('BorrowerProductDetail loadProduct error:', err);\r\n      console.error('Error details:', {\r\n        message: err.message,\r\n        response: err.response,\r\n        status: err.response?.status,\r\n      });\r\n      \r\n      let errorMessage = 'Failed to load product details';\r\n      if (err.response) {\r\n        if (err.response.status === 404) {\r\n          errorMessage = 'Product not found';\r\n        } else if (err.response.status === 401 || err.response.status === 403) {\r\n          errorMessage = 'Authentication failed. Please log in again.';\r\n          localStorage.removeItem('token');\r\n          localStorage.removeItem('role');\r\n          window.location.href = '/login';\r\n          return;\r\n        } else {\r\n          errorMessage = err.response.data?.detail || \r\n                        err.response.data?.error || \r\n                        `Server error: ${err.response.status}`;\r\n        }\r\n      } else if (err.request) {\r\n        errorMessage = 'Network Error: Cannot connect to backend server';\r\n      } else {\r\n        errorMessage = err.message || 'Unknown error';\r\n      }\r\n      setError(errorMessage);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  async function checkFavouriteStatus() {\r\n    try {\r\n      const res = await api.get(\r\n        `/api/products/favourites/check/?product_id=${id}&project_id=${projectId || ''}`\r\n      );\r\n      setIsFavourited(res.data.favourited);\r\n    } catch (err) {\r\n      console.error('Failed to check favourite status:', err);\r\n    }\r\n  }\r\n\r\n  const handleToggleFavourite = async () => {\r\n    try {\r\n      const res = await api.post('/api/products/favourites/toggle/', {\r\n        product_id: id,\r\n        project_id: projectId || null,\r\n      });\r\n      \r\n      setIsFavourited(res.data.favourited);\r\n      setSuccessMessage(\r\n        res.data.favourited \r\n          ? 'Product added to saved products' \r\n          : 'Product removed from saved products'\r\n      );\r\n      setTimeout(() => setSuccessMessage(null), 3000);\r\n    } catch (err) {\r\n      console.error('Failed to toggle favourite:', err);\r\n      setError(err.response?.data?.error || 'Failed to save product');\r\n    }\r\n  };\r\n\r\n  const handleApply = async () => {\r\n    if (!projectId) {\r\n      setError('Please select a project from the Matches page first');\r\n      return;\r\n    }\r\n\r\n    setApplying(true);\r\n    setError(null);\r\n    setSuccessMessage(null);\r\n\r\n    try {\r\n      const res = await api.post(`/api/projects/${projectId}/submit-enquiry/`, {\r\n        product_id: id,\r\n        notes: enquiryNotes,\r\n      });\r\n      \r\n      setSuccessMessage('Application submitted successfully! The lender will be notified.');\r\n      setEnquiryNotes('');\r\n    } catch (err) {\r\n      const errorMsg = err.response?.data?.error || err.response?.data?.detail || 'Failed to submit application';\r\n      setError(errorMsg);\r\n    } finally {\r\n      setApplying(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div style={commonStyles.container}>\r\n        <p style={{ textAlign: 'center', color: theme.colors.textSecondary }}>Loading product...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error && !product) {\r\n    return (\r\n      <div style={commonStyles.container}>\r\n        <div style={{\r\n          ...commonStyles.card,\r\n          background: theme.colors.errorLight,\r\n          color: theme.colors.errorDark,\r\n          padding: theme.spacing.lg,\r\n        }}>\r\n          <p>{error}</p>\r\n          <Button onClick={() => navigate('/borrower/matches')} variant=\"primary\">\r\n            Back to Matches\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!product) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div style={commonStyles.container}>\r\n      <div style={{ marginBottom: theme.spacing.lg, display: 'flex', alignItems: 'center', gap: theme.spacing.md }}>\r\n        <Button onClick={() => navigate('/borrower/matches')} variant=\"outline\">\r\n          ← Back to Matches\r\n        </Button>\r\n        <h1 style={{\r\n          margin: 0,\r\n          fontSize: theme.typography.fontSize['3xl'],\r\n          fontWeight: theme.typography.fontWeight.bold,\r\n        }}>\r\n          {product.name}\r\n        </h1>\r\n        <Badge variant={product.status === 'active' ? 'success' : 'warning'}>\r\n          {product.status}\r\n        </Badge>\r\n      </div>\r\n\r\n      {error && (\r\n        <div style={{\r\n          background: theme.colors.errorLight,\r\n          color: theme.colors.errorDark,\r\n          padding: theme.spacing.md,\r\n          borderRadius: theme.borderRadius.md,\r\n          marginBottom: theme.spacing.lg,\r\n          border: `1px solid ${theme.colors.error}`,\r\n        }}>\r\n          {error}\r\n        </div>\r\n      )}\r\n\r\n      {successMessage && (\r\n        <div style={{\r\n          background: theme.colors.successLight,\r\n          color: theme.colors.successDark,\r\n          padding: theme.spacing.md,\r\n          borderRadius: theme.borderRadius.md,\r\n          marginBottom: theme.spacing.lg,\r\n          border: `1px solid ${theme.colors.success}`,\r\n        }}>\r\n          {successMessage}\r\n        </div>\r\n      )}\r\n\r\n      <div style={{ display: 'grid', gridTemplateColumns: '2fr 1fr', gap: theme.spacing.xl }}>\r\n        {/* Main Details */}\r\n        <div>\r\n          {/* Product Information */}\r\n          <div style={commonStyles.card}>\r\n            <h2 style={{ margin: `0 0 ${theme.spacing.lg} 0` }}>Product Information</h2>\r\n            <div style={{ display: 'grid', gap: theme.spacing.md }}>\r\n              <div>\r\n                <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                  <strong>Funding Type:</strong>\r\n                </p>\r\n                <p style={{ margin: 0 }}>{product.funding_type}</p>\r\n              </div>\r\n              {product.property_type && product.property_type !== 'n/a' && (\r\n                <div>\r\n                  <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                    <strong>Property Type:</strong>\r\n                  </p>\r\n                  <p style={{ margin: 0 }}>{product.property_type}</p>\r\n                </div>\r\n              )}\r\n              {product.description && (\r\n                <div>\r\n                  <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                    <strong>Description:</strong>\r\n                  </p>\r\n                  <p style={{ margin: 0, lineHeight: theme.typography.lineHeight.relaxed }}>\r\n                    {product.description}\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Lender Information */}\r\n          {lender && (\r\n            <div style={commonStyles.card}>\r\n              <h2 style={{ margin: `0 0 ${theme.spacing.lg} 0` }}>Lender Information</h2>\r\n              <div style={{ display: 'grid', gap: theme.spacing.md }}>\r\n                <div>\r\n                  <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                    <strong>Organisation Name:</strong>\r\n                  </p>\r\n                  <p style={{ margin: 0 }}>{lender.organisation_name}</p>\r\n                </div>\r\n                {lender.contact_email && (\r\n                  <div>\r\n                    <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                      <strong>Contact Email:</strong>\r\n                    </p>\r\n                    <p style={{ margin: 0 }}>{lender.contact_email}</p>\r\n                  </div>\r\n                )}\r\n                {lender.contact_phone && (\r\n                  <div>\r\n                    <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                      <strong>Contact Phone:</strong>\r\n                    </p>\r\n                    <p style={{ margin: 0 }}>{lender.contact_phone}</p>\r\n                  </div>\r\n                )}\r\n                {lender.description && (\r\n                  <div>\r\n                    <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                      <strong>About:</strong>\r\n                    </p>\r\n                    <p style={{ margin: 0, lineHeight: theme.typography.lineHeight.relaxed }}>\r\n                      {lender.description}\r\n                    </p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Loan Terms */}\r\n          <div style={commonStyles.card}>\r\n            <h2 style={{ margin: `0 0 ${theme.spacing.lg} 0` }}>Loan Terms</h2>\r\n            <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: theme.spacing.md }}>\r\n              <div>\r\n                <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                  <strong>Loan Amount Range:</strong>\r\n                </p>\r\n                <p style={{ margin: 0 }}>\r\n                  £{parseFloat(product.min_loan_amount || 0).toLocaleString()} - \r\n                  £{parseFloat(product.max_loan_amount || 0).toLocaleString()}\r\n                </p>\r\n              </div>\r\n              <div>\r\n                <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                  <strong>Interest Rate:</strong>\r\n                </p>\r\n                <p style={{ margin: 0 }}>\r\n                  {product.interest_rate_min}% - {product.interest_rate_max}%\r\n                </p>\r\n              </div>\r\n              <div>\r\n                <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                  <strong>Term:</strong>\r\n                </p>\r\n                <p style={{ margin: 0 }}>\r\n                  {product.term_min_months} - {product.term_max_months} months\r\n                </p>\r\n              </div>\r\n              {product.max_ltv_ratio && (\r\n                <div>\r\n                  <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                    <strong>Max LTV Ratio:</strong>\r\n                  </p>\r\n                  <p style={{ margin: 0 }}>{product.max_ltv_ratio}%</p>\r\n                </div>\r\n              )}\r\n              <div>\r\n                <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                  <strong>Repayment Structure:</strong>\r\n                </p>\r\n                <p style={{ margin: 0 }}>{product.repayment_structure}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Eligibility Criteria */}\r\n          {product.eligibility_criteria && (\r\n            <div style={commonStyles.card}>\r\n              <h3 style={{ margin: `0 0 ${theme.spacing.lg} 0` }}>Eligibility Criteria</h3>\r\n              <p style={{ margin: 0, lineHeight: theme.typography.lineHeight.relaxed }}>\r\n                {product.eligibility_criteria}\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Sidebar */}\r\n        <div>\r\n          <div style={commonStyles.card}>\r\n            <h3 style={{ margin: `0 0 ${theme.spacing.lg} 0` }}>Actions</h3>\r\n            <div style={{ display: 'flex', flexDirection: 'column', gap: theme.spacing.md }}>\r\n              <Button\r\n                onClick={handleToggleFavourite}\r\n                variant={isFavourited ? \"primary\" : \"outline\"}\r\n                style={{ width: '100%' }}\r\n              >\r\n                {isFavourited ? '★ Remove from Saved' : '☆ Save for Later'}\r\n              </Button>\r\n              {projectId && (\r\n                <>\r\n                  <div>\r\n                    <label style={{ \r\n                      display: 'block', \r\n                      marginBottom: theme.spacing.xs,\r\n                      fontWeight: theme.typography.fontWeight.medium,\r\n                    }}>\r\n                      Notes (optional):\r\n                    </label>\r\n                    <Textarea\r\n                      value={enquiryNotes}\r\n                      onChange={(e) => setEnquiryNotes(e.target.value)}\r\n                      placeholder=\"Add any notes or questions for the lender...\"\r\n                      rows={4}\r\n                    />\r\n                  </div>\r\n                  <Button\r\n                    onClick={handleApply}\r\n                    disabled={applying}\r\n                    variant=\"primary\"\r\n                    style={{ width: '100%' }}\r\n                  >\r\n                    {applying ? 'Submitting...' : 'Apply Now'}\r\n                  </Button>\r\n                </>\r\n              )}\r\n              {!projectId && (\r\n                <p style={{ \r\n                  color: theme.colors.textSecondary, \r\n                  fontSize: theme.typography.fontSize.sm,\r\n                  margin: 0,\r\n                }}>\r\n                  Select a project from the Matches page to apply for this product.\r\n                </p>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BorrowerProductDetail;\r\n"],"mappings":"4LAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,WAAW,CAAEC,eAAe,KAAQ,kBAAkB,CAC1E,MAAO,CAAAC,GAAG,KAAM,QAAQ,CACxB,OAASC,KAAK,CAAEC,YAAY,KAAQ,iBAAiB,CACrD,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,MAAO,CAAAC,KAAK,KAAM,qBAAqB,CACvC,MAAO,CAAAC,QAAQ,KAAM,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE9C,QAAS,CAAAC,qBAAqBA,CAAA,CAAG,CAC/B,KAAM,CAAEC,EAAG,CAAC,CAAGhB,SAAS,CAAC,CAAC,CAC1B,KAAM,CAAAiB,QAAQ,CAAGhB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACiB,YAAY,CAAC,CAAGhB,eAAe,CAAC,CAAC,CACxC,KAAM,CAAAiB,SAAS,CAAGD,YAAY,CAACE,GAAG,CAAC,YAAY,CAAC,CAEhD,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGvB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACwB,MAAM,CAAEC,SAAS,CAAC,CAAGzB,QAAQ,CAAC,IAAI,CAAC,CAC1C,KAAM,CAAC0B,YAAY,CAAEC,eAAe,CAAC,CAAG3B,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAAC4B,OAAO,CAAEC,UAAU,CAAC,CAAG7B,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAAC8B,KAAK,CAAEC,QAAQ,CAAC,CAAG/B,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAACgC,QAAQ,CAAEC,WAAW,CAAC,CAAGjC,QAAQ,CAAC,KAAK,CAAC,CAC/C,KAAM,CAACkC,YAAY,CAAEC,eAAe,CAAC,CAAGnC,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAACoC,cAAc,CAAEC,iBAAiB,CAAC,CAAGrC,QAAQ,CAAC,IAAI,CAAC,CAE1DD,SAAS,CAAC,IAAM,CACduC,WAAW,CAAC,CAAC,CACb,GAAIlB,SAAS,CAAE,CACbmB,oBAAoB,CAAC,CAAC,CACxB,CACF,CAAC,CAAE,CAACtB,EAAE,CAAEG,SAAS,CAAC,CAAC,CAEnB,cAAe,CAAAkB,WAAWA,CAAA,CAAG,CAC3BT,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,IAAI,CAAC,CACd,GAAI,CACF,KAAM,CAAAS,UAAU,CAAG,KAAM,CAAApC,GAAG,CAACiB,GAAG,kBAAAoB,MAAA,CAAkBxB,EAAE,KAAG,CAAC,CACxDM,UAAU,CAACiB,UAAU,CAACE,IAAI,CAAC,CAE3B;AACA,GAAIF,UAAU,CAACE,IAAI,CAACC,cAAc,CAAE,CAClClB,SAAS,CAACe,UAAU,CAACE,IAAI,CAACC,cAAc,CAAC,CAC3C,CAAC,IAAM,CACL,GAAI,CACF,KAAM,CAAAC,SAAS,CAAG,KAAM,CAAAxC,GAAG,CAACiB,GAAG,kBAAAoB,MAAA,CAAkBxB,EAAE,oBAAkB,CAAC,CACtEQ,SAAS,CAACmB,SAAS,CAACF,IAAI,CAAC,CAC3B,CAAE,MAAOG,SAAS,CAAE,CAClBC,OAAO,CAACC,IAAI,CAAC,2CAA2C,CAAEF,SAAS,CAAC,CACpE;AACA,GAAIL,UAAU,CAACE,IAAI,CAAClB,MAAM,CAAE,CAC1B;AACAC,SAAS,CAAC,CAAER,EAAE,CAAEuB,UAAU,CAACE,IAAI,CAAClB,MAAO,CAAC,CAAC,CAC3C,CACF,CACF,CACF,CAAE,MAAOwB,GAAG,CAAE,KAAAC,aAAA,CACZH,OAAO,CAAChB,KAAK,CAAC,0CAA0C,CAAEkB,GAAG,CAAC,CAC9DF,OAAO,CAAChB,KAAK,CAAC,gBAAgB,CAAE,CAC9BoB,OAAO,CAAEF,GAAG,CAACE,OAAO,CACpBC,QAAQ,CAAEH,GAAG,CAACG,QAAQ,CACtBC,MAAM,EAAAH,aAAA,CAAED,GAAG,CAACG,QAAQ,UAAAF,aAAA,iBAAZA,aAAA,CAAcG,MACxB,CAAC,CAAC,CAEF,GAAI,CAAAC,YAAY,CAAG,gCAAgC,CACnD,GAAIL,GAAG,CAACG,QAAQ,CAAE,CAChB,GAAIH,GAAG,CAACG,QAAQ,CAACC,MAAM,GAAK,GAAG,CAAE,CAC/BC,YAAY,CAAG,mBAAmB,CACpC,CAAC,IAAM,IAAIL,GAAG,CAACG,QAAQ,CAACC,MAAM,GAAK,GAAG,EAAIJ,GAAG,CAACG,QAAQ,CAACC,MAAM,GAAK,GAAG,CAAE,CACrEC,YAAY,CAAG,6CAA6C,CAC5DC,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC,CAChCD,YAAY,CAACC,UAAU,CAAC,MAAM,CAAC,CAC/BC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,QAAQ,CAC/B,OACF,CAAC,IAAM,KAAAC,kBAAA,CAAAC,mBAAA,CACLP,YAAY,CAAG,EAAAM,kBAAA,CAAAX,GAAG,CAACG,QAAQ,CAACT,IAAI,UAAAiB,kBAAA,iBAAjBA,kBAAA,CAAmBE,MAAM,KAAAD,mBAAA,CAC1BZ,GAAG,CAACG,QAAQ,CAACT,IAAI,UAAAkB,mBAAA,iBAAjBA,mBAAA,CAAmB9B,KAAK,oBAAAW,MAAA,CACPO,GAAG,CAACG,QAAQ,CAACC,MAAM,CAAE,CACtD,CACF,CAAC,IAAM,IAAIJ,GAAG,CAACc,OAAO,CAAE,CACtBT,YAAY,CAAG,iDAAiD,CAClE,CAAC,IAAM,CACLA,YAAY,CAAGL,GAAG,CAACE,OAAO,EAAI,eAAe,CAC/C,CACAnB,QAAQ,CAACsB,YAAY,CAAC,CACxB,CAAC,OAAS,CACRxB,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAEA,cAAe,CAAAU,oBAAoBA,CAAA,CAAG,CACpC,GAAI,CACF,KAAM,CAAAwB,GAAG,CAAG,KAAM,CAAA3D,GAAG,CAACiB,GAAG,+CAAAoB,MAAA,CACuBxB,EAAE,iBAAAwB,MAAA,CAAerB,SAAS,EAAI,EAAE,CAChF,CAAC,CACDO,eAAe,CAACoC,GAAG,CAACrB,IAAI,CAACsB,UAAU,CAAC,CACtC,CAAE,MAAOhB,GAAG,CAAE,CACZF,OAAO,CAAChB,KAAK,CAAC,mCAAmC,CAAEkB,GAAG,CAAC,CACzD,CACF,CAEA,KAAM,CAAAiB,qBAAqB,CAAG,KAAAA,CAAA,GAAY,CACxC,GAAI,CACF,KAAM,CAAAF,GAAG,CAAG,KAAM,CAAA3D,GAAG,CAAC8D,IAAI,CAAC,kCAAkC,CAAE,CAC7DC,UAAU,CAAElD,EAAE,CACdmD,UAAU,CAAEhD,SAAS,EAAI,IAC3B,CAAC,CAAC,CAEFO,eAAe,CAACoC,GAAG,CAACrB,IAAI,CAACsB,UAAU,CAAC,CACpC3B,iBAAiB,CACf0B,GAAG,CAACrB,IAAI,CAACsB,UAAU,CACf,iCAAiC,CACjC,qCACN,CAAC,CACDK,UAAU,CAAC,IAAMhC,iBAAiB,CAAC,IAAI,CAAC,CAAE,IAAI,CAAC,CACjD,CAAE,MAAOW,GAAG,CAAE,KAAAsB,cAAA,CAAAC,mBAAA,CACZzB,OAAO,CAAChB,KAAK,CAAC,6BAA6B,CAAEkB,GAAG,CAAC,CACjDjB,QAAQ,CAAC,EAAAuC,cAAA,CAAAtB,GAAG,CAACG,QAAQ,UAAAmB,cAAA,kBAAAC,mBAAA,CAAZD,cAAA,CAAc5B,IAAI,UAAA6B,mBAAA,iBAAlBA,mBAAA,CAAoBzC,KAAK,GAAI,wBAAwB,CAAC,CACjE,CACF,CAAC,CAED,KAAM,CAAA0C,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CAACpD,SAAS,CAAE,CACdW,QAAQ,CAAC,qDAAqD,CAAC,CAC/D,OACF,CAEAE,WAAW,CAAC,IAAI,CAAC,CACjBF,QAAQ,CAAC,IAAI,CAAC,CACdM,iBAAiB,CAAC,IAAI,CAAC,CAEvB,GAAI,CACF,KAAM,CAAA0B,GAAG,CAAG,KAAM,CAAA3D,GAAG,CAAC8D,IAAI,kBAAAzB,MAAA,CAAkBrB,SAAS,qBAAoB,CACvE+C,UAAU,CAAElD,EAAE,CACdwD,KAAK,CAAEvC,YACT,CAAC,CAAC,CAEFG,iBAAiB,CAAC,kEAAkE,CAAC,CACrFF,eAAe,CAAC,EAAE,CAAC,CACrB,CAAE,MAAOa,GAAG,CAAE,KAAA0B,cAAA,CAAAC,mBAAA,CAAAC,cAAA,CAAAC,mBAAA,CACZ,KAAM,CAAAC,QAAQ,CAAG,EAAAJ,cAAA,CAAA1B,GAAG,CAACG,QAAQ,UAAAuB,cAAA,kBAAAC,mBAAA,CAAZD,cAAA,CAAchC,IAAI,UAAAiC,mBAAA,iBAAlBA,mBAAA,CAAoB7C,KAAK,KAAA8C,cAAA,CAAI5B,GAAG,CAACG,QAAQ,UAAAyB,cAAA,kBAAAC,mBAAA,CAAZD,cAAA,CAAclC,IAAI,UAAAmC,mBAAA,iBAAlBA,mBAAA,CAAoBhB,MAAM,GAAI,8BAA8B,CAC1G9B,QAAQ,CAAC+C,QAAQ,CAAC,CACpB,CAAC,OAAS,CACR7C,WAAW,CAAC,KAAK,CAAC,CACpB,CACF,CAAC,CAED,GAAIL,OAAO,CAAE,CACX,mBACEjB,IAAA,QAAKoE,KAAK,CAAEzE,YAAY,CAAC0E,SAAU,CAAAC,QAAA,cACjCtE,IAAA,MAAGoE,KAAK,CAAE,CAAEG,SAAS,CAAE,QAAQ,CAAEC,KAAK,CAAE9E,KAAK,CAAC+E,MAAM,CAACC,aAAc,CAAE,CAAAJ,QAAA,CAAC,oBAAkB,CAAG,CAAC,CACzF,CAAC,CAEV,CAEA,GAAInD,KAAK,EAAI,CAACR,OAAO,CAAE,CACrB,mBACEX,IAAA,QAAKoE,KAAK,CAAEzE,YAAY,CAAC0E,SAAU,CAAAC,QAAA,cACjCpE,KAAA,QAAKkE,KAAK,CAAAO,aAAA,CAAAA,aAAA,IACLhF,YAAY,CAACiF,IAAI,MACpBC,UAAU,CAAEnF,KAAK,CAAC+E,MAAM,CAACK,UAAU,CACnCN,KAAK,CAAE9E,KAAK,CAAC+E,MAAM,CAACM,SAAS,CAC7BC,OAAO,CAAEtF,KAAK,CAACuF,OAAO,CAACC,EAAE,EACzB,CAAAZ,QAAA,eACAtE,IAAA,MAAAsE,QAAA,CAAInD,KAAK,CAAI,CAAC,cACdnB,IAAA,CAACJ,MAAM,EAACuF,OAAO,CAAEA,CAAA,GAAM5E,QAAQ,CAAC,mBAAmB,CAAE,CAAC6E,OAAO,CAAC,SAAS,CAAAd,QAAA,CAAC,iBAExE,CAAQ,CAAC,EACN,CAAC,CACH,CAAC,CAEV,CAEA,GAAI,CAAC3D,OAAO,CAAE,CACZ,MAAO,KAAI,CACb,CAEA,mBACET,KAAA,QAAKkE,KAAK,CAAEzE,YAAY,CAAC0E,SAAU,CAAAC,QAAA,eACjCpE,KAAA,QAAKkE,KAAK,CAAE,CAAEiB,YAAY,CAAE3F,KAAK,CAACuF,OAAO,CAACC,EAAE,CAAEI,OAAO,CAAE,MAAM,CAAEC,UAAU,CAAE,QAAQ,CAAEC,GAAG,CAAE9F,KAAK,CAACuF,OAAO,CAACQ,EAAG,CAAE,CAAAnB,QAAA,eAC3GtE,IAAA,CAACJ,MAAM,EAACuF,OAAO,CAAEA,CAAA,GAAM5E,QAAQ,CAAC,mBAAmB,CAAE,CAAC6E,OAAO,CAAC,SAAS,CAAAd,QAAA,CAAC,wBAExE,CAAQ,CAAC,cACTtE,IAAA,OAAIoE,KAAK,CAAE,CACTsB,MAAM,CAAE,CAAC,CACTC,QAAQ,CAAEjG,KAAK,CAACkG,UAAU,CAACD,QAAQ,CAAC,KAAK,CAAC,CAC1CE,UAAU,CAAEnG,KAAK,CAACkG,UAAU,CAACC,UAAU,CAACC,IAC1C,CAAE,CAAAxB,QAAA,CACC3D,OAAO,CAACoF,IAAI,CACX,CAAC,cACL/F,IAAA,CAACH,KAAK,EAACuF,OAAO,CAAEzE,OAAO,CAAC8B,MAAM,GAAK,QAAQ,CAAG,SAAS,CAAG,SAAU,CAAA6B,QAAA,CACjE3D,OAAO,CAAC8B,MAAM,CACV,CAAC,EACL,CAAC,CAELtB,KAAK,eACJnB,IAAA,QAAKoE,KAAK,CAAE,CACVS,UAAU,CAAEnF,KAAK,CAAC+E,MAAM,CAACK,UAAU,CACnCN,KAAK,CAAE9E,KAAK,CAAC+E,MAAM,CAACM,SAAS,CAC7BC,OAAO,CAAEtF,KAAK,CAACuF,OAAO,CAACQ,EAAE,CACzBO,YAAY,CAAEtG,KAAK,CAACsG,YAAY,CAACP,EAAE,CACnCJ,YAAY,CAAE3F,KAAK,CAACuF,OAAO,CAACC,EAAE,CAC9Be,MAAM,cAAAnE,MAAA,CAAepC,KAAK,CAAC+E,MAAM,CAACtD,KAAK,CACzC,CAAE,CAAAmD,QAAA,CACCnD,KAAK,CACH,CACN,CAEAM,cAAc,eACbzB,IAAA,QAAKoE,KAAK,CAAE,CACVS,UAAU,CAAEnF,KAAK,CAAC+E,MAAM,CAACyB,YAAY,CACrC1B,KAAK,CAAE9E,KAAK,CAAC+E,MAAM,CAAC0B,WAAW,CAC/BnB,OAAO,CAAEtF,KAAK,CAACuF,OAAO,CAACQ,EAAE,CACzBO,YAAY,CAAEtG,KAAK,CAACsG,YAAY,CAACP,EAAE,CACnCJ,YAAY,CAAE3F,KAAK,CAACuF,OAAO,CAACC,EAAE,CAC9Be,MAAM,cAAAnE,MAAA,CAAepC,KAAK,CAAC+E,MAAM,CAAC2B,OAAO,CAC3C,CAAE,CAAA9B,QAAA,CACC7C,cAAc,CACZ,CACN,cAEDvB,KAAA,QAAKkE,KAAK,CAAE,CAAEkB,OAAO,CAAE,MAAM,CAAEe,mBAAmB,CAAE,SAAS,CAAEb,GAAG,CAAE9F,KAAK,CAACuF,OAAO,CAACqB,EAAG,CAAE,CAAAhC,QAAA,eAErFpE,KAAA,QAAAoE,QAAA,eAEEpE,KAAA,QAAKkE,KAAK,CAAEzE,YAAY,CAACiF,IAAK,CAAAN,QAAA,eAC5BtE,IAAA,OAAIoE,KAAK,CAAE,CAAEsB,MAAM,QAAA5D,MAAA,CAASpC,KAAK,CAACuF,OAAO,CAACC,EAAE,MAAK,CAAE,CAAAZ,QAAA,CAAC,qBAAmB,CAAI,CAAC,cAC5EpE,KAAA,QAAKkE,KAAK,CAAE,CAAEkB,OAAO,CAAE,MAAM,CAAEE,GAAG,CAAE9F,KAAK,CAACuF,OAAO,CAACQ,EAAG,CAAE,CAAAnB,QAAA,eACrDpE,KAAA,QAAAoE,QAAA,eACEtE,IAAA,MAAGoE,KAAK,CAAE,CAAEsB,MAAM,IAAA5D,MAAA,CAAKpC,KAAK,CAACuF,OAAO,CAACsB,EAAE,MAAI,CAAE/B,KAAK,CAAE9E,KAAK,CAAC+E,MAAM,CAACC,aAAc,CAAE,CAAAJ,QAAA,cAC/EtE,IAAA,WAAAsE,QAAA,CAAQ,eAAa,CAAQ,CAAC,CAC7B,CAAC,cACJtE,IAAA,MAAGoE,KAAK,CAAE,CAAEsB,MAAM,CAAE,CAAE,CAAE,CAAApB,QAAA,CAAE3D,OAAO,CAAC6F,YAAY,CAAI,CAAC,EAChD,CAAC,CACL7F,OAAO,CAAC8F,aAAa,EAAI9F,OAAO,CAAC8F,aAAa,GAAK,KAAK,eACvDvG,KAAA,QAAAoE,QAAA,eACEtE,IAAA,MAAGoE,KAAK,CAAE,CAAEsB,MAAM,IAAA5D,MAAA,CAAKpC,KAAK,CAACuF,OAAO,CAACsB,EAAE,MAAI,CAAE/B,KAAK,CAAE9E,KAAK,CAAC+E,MAAM,CAACC,aAAc,CAAE,CAAAJ,QAAA,cAC/EtE,IAAA,WAAAsE,QAAA,CAAQ,gBAAc,CAAQ,CAAC,CAC9B,CAAC,cACJtE,IAAA,MAAGoE,KAAK,CAAE,CAAEsB,MAAM,CAAE,CAAE,CAAE,CAAApB,QAAA,CAAE3D,OAAO,CAAC8F,aAAa,CAAI,CAAC,EACjD,CACN,CACA9F,OAAO,CAAC+F,WAAW,eAClBxG,KAAA,QAAAoE,QAAA,eACEtE,IAAA,MAAGoE,KAAK,CAAE,CAAEsB,MAAM,IAAA5D,MAAA,CAAKpC,KAAK,CAACuF,OAAO,CAACsB,EAAE,MAAI,CAAE/B,KAAK,CAAE9E,KAAK,CAAC+E,MAAM,CAACC,aAAc,CAAE,CAAAJ,QAAA,cAC/EtE,IAAA,WAAAsE,QAAA,CAAQ,cAAY,CAAQ,CAAC,CAC5B,CAAC,cACJtE,IAAA,MAAGoE,KAAK,CAAE,CAAEsB,MAAM,CAAE,CAAC,CAAEiB,UAAU,CAAEjH,KAAK,CAACkG,UAAU,CAACe,UAAU,CAACC,OAAQ,CAAE,CAAAtC,QAAA,CACtE3D,OAAO,CAAC+F,WAAW,CACnB,CAAC,EACD,CACN,EACE,CAAC,EACH,CAAC,CAGL7F,MAAM,eACLX,KAAA,QAAKkE,KAAK,CAAEzE,YAAY,CAACiF,IAAK,CAAAN,QAAA,eAC5BtE,IAAA,OAAIoE,KAAK,CAAE,CAAEsB,MAAM,QAAA5D,MAAA,CAASpC,KAAK,CAACuF,OAAO,CAACC,EAAE,MAAK,CAAE,CAAAZ,QAAA,CAAC,oBAAkB,CAAI,CAAC,cAC3EpE,KAAA,QAAKkE,KAAK,CAAE,CAAEkB,OAAO,CAAE,MAAM,CAAEE,GAAG,CAAE9F,KAAK,CAACuF,OAAO,CAACQ,EAAG,CAAE,CAAAnB,QAAA,eACrDpE,KAAA,QAAAoE,QAAA,eACEtE,IAAA,MAAGoE,KAAK,CAAE,CAAEsB,MAAM,IAAA5D,MAAA,CAAKpC,KAAK,CAACuF,OAAO,CAACsB,EAAE,MAAI,CAAE/B,KAAK,CAAE9E,KAAK,CAAC+E,MAAM,CAACC,aAAc,CAAE,CAAAJ,QAAA,cAC/EtE,IAAA,WAAAsE,QAAA,CAAQ,oBAAkB,CAAQ,CAAC,CAClC,CAAC,cACJtE,IAAA,MAAGoE,KAAK,CAAE,CAAEsB,MAAM,CAAE,CAAE,CAAE,CAAApB,QAAA,CAAEzD,MAAM,CAACgG,iBAAiB,CAAI,CAAC,EACpD,CAAC,CACLhG,MAAM,CAACiG,aAAa,eACnB5G,KAAA,QAAAoE,QAAA,eACEtE,IAAA,MAAGoE,KAAK,CAAE,CAAEsB,MAAM,IAAA5D,MAAA,CAAKpC,KAAK,CAACuF,OAAO,CAACsB,EAAE,MAAI,CAAE/B,KAAK,CAAE9E,KAAK,CAAC+E,MAAM,CAACC,aAAc,CAAE,CAAAJ,QAAA,cAC/EtE,IAAA,WAAAsE,QAAA,CAAQ,gBAAc,CAAQ,CAAC,CAC9B,CAAC,cACJtE,IAAA,MAAGoE,KAAK,CAAE,CAAEsB,MAAM,CAAE,CAAE,CAAE,CAAApB,QAAA,CAAEzD,MAAM,CAACiG,aAAa,CAAI,CAAC,EAChD,CACN,CACAjG,MAAM,CAACkG,aAAa,eACnB7G,KAAA,QAAAoE,QAAA,eACEtE,IAAA,MAAGoE,KAAK,CAAE,CAAEsB,MAAM,IAAA5D,MAAA,CAAKpC,KAAK,CAACuF,OAAO,CAACsB,EAAE,MAAI,CAAE/B,KAAK,CAAE9E,KAAK,CAAC+E,MAAM,CAACC,aAAc,CAAE,CAAAJ,QAAA,cAC/EtE,IAAA,WAAAsE,QAAA,CAAQ,gBAAc,CAAQ,CAAC,CAC9B,CAAC,cACJtE,IAAA,MAAGoE,KAAK,CAAE,CAAEsB,MAAM,CAAE,CAAE,CAAE,CAAApB,QAAA,CAAEzD,MAAM,CAACkG,aAAa,CAAI,CAAC,EAChD,CACN,CACAlG,MAAM,CAAC6F,WAAW,eACjBxG,KAAA,QAAAoE,QAAA,eACEtE,IAAA,MAAGoE,KAAK,CAAE,CAAEsB,MAAM,IAAA5D,MAAA,CAAKpC,KAAK,CAACuF,OAAO,CAACsB,EAAE,MAAI,CAAE/B,KAAK,CAAE9E,KAAK,CAAC+E,MAAM,CAACC,aAAc,CAAE,CAAAJ,QAAA,cAC/EtE,IAAA,WAAAsE,QAAA,CAAQ,QAAM,CAAQ,CAAC,CACtB,CAAC,cACJtE,IAAA,MAAGoE,KAAK,CAAE,CAAEsB,MAAM,CAAE,CAAC,CAAEiB,UAAU,CAAEjH,KAAK,CAACkG,UAAU,CAACe,UAAU,CAACC,OAAQ,CAAE,CAAAtC,QAAA,CACtEzD,MAAM,CAAC6F,WAAW,CAClB,CAAC,EACD,CACN,EACE,CAAC,EACH,CACN,cAGDxG,KAAA,QAAKkE,KAAK,CAAEzE,YAAY,CAACiF,IAAK,CAAAN,QAAA,eAC5BtE,IAAA,OAAIoE,KAAK,CAAE,CAAEsB,MAAM,QAAA5D,MAAA,CAASpC,KAAK,CAACuF,OAAO,CAACC,EAAE,MAAK,CAAE,CAAAZ,QAAA,CAAC,YAAU,CAAI,CAAC,cACnEpE,KAAA,QAAKkE,KAAK,CAAE,CAAEkB,OAAO,CAAE,MAAM,CAAEe,mBAAmB,CAAE,SAAS,CAAEb,GAAG,CAAE9F,KAAK,CAACuF,OAAO,CAACQ,EAAG,CAAE,CAAAnB,QAAA,eACrFpE,KAAA,QAAAoE,QAAA,eACEtE,IAAA,MAAGoE,KAAK,CAAE,CAAEsB,MAAM,IAAA5D,MAAA,CAAKpC,KAAK,CAACuF,OAAO,CAACsB,EAAE,MAAI,CAAE/B,KAAK,CAAE9E,KAAK,CAAC+E,MAAM,CAACC,aAAc,CAAE,CAAAJ,QAAA,cAC/EtE,IAAA,WAAAsE,QAAA,CAAQ,oBAAkB,CAAQ,CAAC,CAClC,CAAC,cACJpE,KAAA,MAAGkE,KAAK,CAAE,CAAEsB,MAAM,CAAE,CAAE,CAAE,CAAApB,QAAA,EAAC,MACtB,CAAC0C,UAAU,CAACrG,OAAO,CAACsG,eAAe,EAAI,CAAC,CAAC,CAACC,cAAc,CAAC,CAAC,CAAC,SAC3D,CAACF,UAAU,CAACrG,OAAO,CAACwG,eAAe,EAAI,CAAC,CAAC,CAACD,cAAc,CAAC,CAAC,EAC1D,CAAC,EACD,CAAC,cACNhH,KAAA,QAAAoE,QAAA,eACEtE,IAAA,MAAGoE,KAAK,CAAE,CAAEsB,MAAM,IAAA5D,MAAA,CAAKpC,KAAK,CAACuF,OAAO,CAACsB,EAAE,MAAI,CAAE/B,KAAK,CAAE9E,KAAK,CAAC+E,MAAM,CAACC,aAAc,CAAE,CAAAJ,QAAA,cAC/EtE,IAAA,WAAAsE,QAAA,CAAQ,gBAAc,CAAQ,CAAC,CAC9B,CAAC,cACJpE,KAAA,MAAGkE,KAAK,CAAE,CAAEsB,MAAM,CAAE,CAAE,CAAE,CAAApB,QAAA,EACrB3D,OAAO,CAACyG,iBAAiB,CAAC,MAAI,CAACzG,OAAO,CAAC0G,iBAAiB,CAAC,GAC5D,EAAG,CAAC,EACD,CAAC,cACNnH,KAAA,QAAAoE,QAAA,eACEtE,IAAA,MAAGoE,KAAK,CAAE,CAAEsB,MAAM,IAAA5D,MAAA,CAAKpC,KAAK,CAACuF,OAAO,CAACsB,EAAE,MAAI,CAAE/B,KAAK,CAAE9E,KAAK,CAAC+E,MAAM,CAACC,aAAc,CAAE,CAAAJ,QAAA,cAC/EtE,IAAA,WAAAsE,QAAA,CAAQ,OAAK,CAAQ,CAAC,CACrB,CAAC,cACJpE,KAAA,MAAGkE,KAAK,CAAE,CAAEsB,MAAM,CAAE,CAAE,CAAE,CAAApB,QAAA,EACrB3D,OAAO,CAAC2G,eAAe,CAAC,KAAG,CAAC3G,OAAO,CAAC4G,eAAe,CAAC,SACvD,EAAG,CAAC,EACD,CAAC,CACL5G,OAAO,CAAC6G,aAAa,eACpBtH,KAAA,QAAAoE,QAAA,eACEtE,IAAA,MAAGoE,KAAK,CAAE,CAAEsB,MAAM,IAAA5D,MAAA,CAAKpC,KAAK,CAACuF,OAAO,CAACsB,EAAE,MAAI,CAAE/B,KAAK,CAAE9E,KAAK,CAAC+E,MAAM,CAACC,aAAc,CAAE,CAAAJ,QAAA,cAC/EtE,IAAA,WAAAsE,QAAA,CAAQ,gBAAc,CAAQ,CAAC,CAC9B,CAAC,cACJpE,KAAA,MAAGkE,KAAK,CAAE,CAAEsB,MAAM,CAAE,CAAE,CAAE,CAAApB,QAAA,EAAE3D,OAAO,CAAC6G,aAAa,CAAC,GAAC,EAAG,CAAC,EAClD,CACN,cACDtH,KAAA,QAAAoE,QAAA,eACEtE,IAAA,MAAGoE,KAAK,CAAE,CAAEsB,MAAM,IAAA5D,MAAA,CAAKpC,KAAK,CAACuF,OAAO,CAACsB,EAAE,MAAI,CAAE/B,KAAK,CAAE9E,KAAK,CAAC+E,MAAM,CAACC,aAAc,CAAE,CAAAJ,QAAA,cAC/EtE,IAAA,WAAAsE,QAAA,CAAQ,sBAAoB,CAAQ,CAAC,CACpC,CAAC,cACJtE,IAAA,MAAGoE,KAAK,CAAE,CAAEsB,MAAM,CAAE,CAAE,CAAE,CAAApB,QAAA,CAAE3D,OAAO,CAAC8G,mBAAmB,CAAI,CAAC,EACvD,CAAC,EACH,CAAC,EACH,CAAC,CAGL9G,OAAO,CAAC+G,oBAAoB,eAC3BxH,KAAA,QAAKkE,KAAK,CAAEzE,YAAY,CAACiF,IAAK,CAAAN,QAAA,eAC5BtE,IAAA,OAAIoE,KAAK,CAAE,CAAEsB,MAAM,QAAA5D,MAAA,CAASpC,KAAK,CAACuF,OAAO,CAACC,EAAE,MAAK,CAAE,CAAAZ,QAAA,CAAC,sBAAoB,CAAI,CAAC,cAC7EtE,IAAA,MAAGoE,KAAK,CAAE,CAAEsB,MAAM,CAAE,CAAC,CAAEiB,UAAU,CAAEjH,KAAK,CAACkG,UAAU,CAACe,UAAU,CAACC,OAAQ,CAAE,CAAAtC,QAAA,CACtE3D,OAAO,CAAC+G,oBAAoB,CAC5B,CAAC,EACD,CACN,EACE,CAAC,cAGN1H,IAAA,QAAAsE,QAAA,cACEpE,KAAA,QAAKkE,KAAK,CAAEzE,YAAY,CAACiF,IAAK,CAAAN,QAAA,eAC5BtE,IAAA,OAAIoE,KAAK,CAAE,CAAEsB,MAAM,QAAA5D,MAAA,CAASpC,KAAK,CAACuF,OAAO,CAACC,EAAE,MAAK,CAAE,CAAAZ,QAAA,CAAC,SAAO,CAAI,CAAC,cAChEpE,KAAA,QAAKkE,KAAK,CAAE,CAAEkB,OAAO,CAAE,MAAM,CAAEqC,aAAa,CAAE,QAAQ,CAAEnC,GAAG,CAAE9F,KAAK,CAACuF,OAAO,CAACQ,EAAG,CAAE,CAAAnB,QAAA,eAC9EtE,IAAA,CAACJ,MAAM,EACLuF,OAAO,CAAE7B,qBAAsB,CAC/B8B,OAAO,CAAErE,YAAY,CAAG,SAAS,CAAG,SAAU,CAC9CqD,KAAK,CAAE,CAAEwD,KAAK,CAAE,MAAO,CAAE,CAAAtD,QAAA,CAExBvD,YAAY,CAAG,qBAAqB,CAAG,kBAAkB,CACpD,CAAC,CACRN,SAAS,eACRP,KAAA,CAAAE,SAAA,EAAAkE,QAAA,eACEpE,KAAA,QAAAoE,QAAA,eACEtE,IAAA,UAAOoE,KAAK,CAAE,CACZkB,OAAO,CAAE,OAAO,CAChBD,YAAY,CAAE3F,KAAK,CAACuF,OAAO,CAACsB,EAAE,CAC9BV,UAAU,CAAEnG,KAAK,CAACkG,UAAU,CAACC,UAAU,CAACgC,MAC1C,CAAE,CAAAvD,QAAA,CAAC,mBAEH,CAAO,CAAC,cACRtE,IAAA,CAACF,QAAQ,EACPgI,KAAK,CAAEvG,YAAa,CACpBwG,QAAQ,CAAGC,CAAC,EAAKxG,eAAe,CAACwG,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACjDI,WAAW,CAAC,8CAA8C,CAC1DC,IAAI,CAAE,CAAE,CACT,CAAC,EACC,CAAC,cACNnI,IAAA,CAACJ,MAAM,EACLuF,OAAO,CAAEtB,WAAY,CACrBuE,QAAQ,CAAE/G,QAAS,CACnB+D,OAAO,CAAC,SAAS,CACjBhB,KAAK,CAAE,CAAEwD,KAAK,CAAE,MAAO,CAAE,CAAAtD,QAAA,CAExBjD,QAAQ,CAAG,eAAe,CAAG,WAAW,CACnC,CAAC,EACT,CACH,CACA,CAACZ,SAAS,eACTT,IAAA,MAAGoE,KAAK,CAAE,CACRI,KAAK,CAAE9E,KAAK,CAAC+E,MAAM,CAACC,aAAa,CACjCiB,QAAQ,CAAEjG,KAAK,CAACkG,UAAU,CAACD,QAAQ,CAAC0C,EAAE,CACtC3C,MAAM,CAAE,CACV,CAAE,CAAApB,QAAA,CAAC,mEAEH,CAAG,CACJ,EACE,CAAC,EACH,CAAC,CACH,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAAjE,qBAAqB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}