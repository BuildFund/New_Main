{"ast":null,"code":"import _objectSpread from\"C:/Users/paul-/OneDrive - BARE Capital Ltd/BARE Drive/10.0 BUILDFUND/1.0 Website Dev/GitHub/new_website/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import api from'../api';import{theme,commonStyles}from'../styles/theme';import StatCard from'../components/StatCard';import Button from'../components/Button';import Badge from'../components/Badge';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function LenderDashboard(_ref){let{onboardingProgress,onStartOnboarding}=_ref;const[stats,setStats]=useState({totalProducts:0,activeProducts:0,pendingProducts:0,totalApplications:0,pendingApplications:0,acceptedApplications:0,totalInvestments:0});const[recentProducts,setRecentProducts]=useState([]);const[recentApplications,setRecentApplications]=useState([]);const[recentMessages,setRecentMessages]=useState([]);const[unreadCount,setUnreadCount]=useState(0);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{loadDashboardData();},[]);async function loadDashboardData(){setLoading(true);setError(null);try{// Load products (required)\nlet products=[];try{const productsRes=await api.get('/api/products/');products=productsRes.data||[];}catch(err){var _err$response,_err$response$data;console.error('Failed to load products:',err);throw new Error(\"Failed to load products: \".concat(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.detail)||err.message||'Unknown error'));}// Load applications (required)\nlet applications=[];try{const applicationsRes=await api.get('/api/applications/');applications=applicationsRes.data||[];}catch(err){var _err$response2,_err$response2$data;console.error('Failed to load applications:',err);throw new Error(\"Failed to load applications: \".concat(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.detail)||err.message||'Unknown error'));}// Load investments (optional - don't fail if this fails)\nlet investments=[];try{const investmentsRes=await api.get('/api/private-equity/investments/');investments=investmentsRes.data||[];}catch(err){console.warn('Failed to load investments (optional):',err);// Continue without investments - this is optional\ninvestments=[];}// Load recent messages and unread count (optional)\nlet messages=[];let unread=0;try{var _messagesRes$data,_unreadRes$data;const messagesRes=await api.get('/api/messaging/messages/');// Handle paginated or non-paginated responses\nconst allMessages=((_messagesRes$data=messagesRes.data)===null||_messagesRes$data===void 0?void 0:_messagesRes$data.results)||messagesRes.data||[];messages=allMessages.slice(0,5);// Get first 5\nconst unreadRes=await api.get('/api/messaging/messages/unread_count/');unread=((_unreadRes$data=unreadRes.data)===null||_unreadRes$data===void 0?void 0:_unreadRes$data.unread_count)||0;}catch(err){console.warn('Failed to load messages:',err);// Don't fail completely if messages fail\n}const activeProducts=products.filter(p=>p.status==='active').length;const pendingProducts=products.filter(p=>p.status==='pending').length;const pendingApplications=applications.filter(a=>a.status==='pending'||a.status==='under_review').length;const acceptedApplications=applications.filter(a=>a.status==='accepted').length;setStats({totalProducts:products.length,activeProducts,pendingProducts,totalApplications:applications.length,pendingApplications,acceptedApplications,totalInvestments:investments.length});setRecentProducts(products.slice(0,5));setRecentApplications(applications.slice(0,5));setRecentMessages(messages.slice(0,5));setUnreadCount(unread);}catch(err){var _err$response3,_err$response3$data;console.error('Dashboard load error:',err);const errorMessage=((_err$response3=err.response)===null||_err$response3===void 0?void 0:(_err$response3$data=_err$response3.data)===null||_err$response3$data===void 0?void 0:_err$response3$data.detail)||err.message||'Unknown error';setError(\"Failed to load dashboard data: \".concat(errorMessage));}finally{setLoading(false);}}const getStatusBadge=status=>{const statusMap={active:{variant:'success',label:'Active'},pending:{variant:'warning',label:'Pending'},accepted:{variant:'success',label:'Accepted'},pending:{variant:'warning',label:'Pending'},under_review:{variant:'info',label:'Under Review'},declined:{variant:'error',label:'Declined'}};const statusInfo=statusMap[status]||{variant:'info',label:status};return/*#__PURE__*/_jsx(Badge,{variant:statusInfo.variant,children:statusInfo.label});};if(loading){return/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},commonStyles.container),{},{textAlign:'center',padding:theme.spacing['3xl']}),children:/*#__PURE__*/_jsx(\"p\",{style:{color:theme.colors.textSecondary},children:\"Loading dashboard...\"})});}return/*#__PURE__*/_jsxs(\"div\",{style:commonStyles.container,children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:theme.spacing.xl},children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:theme.typography.fontSize['4xl'],fontWeight:theme.typography.fontWeight.bold,color:theme.colors.textPrimary,margin:\"0 0 \".concat(theme.spacing.sm,\" 0\")},children:\"Dashboard\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:theme.colors.textSecondary,fontSize:theme.typography.fontSize.base,margin:0},children:\"Overview of your products, applications, and investments\"})]}),onboardingProgress&&!onboardingProgress.is_complete&&onboardingProgress.completion_percentage<100&&/*#__PURE__*/_jsxs(\"div\",{style:{background:theme.colors.warningLight,color:theme.colors.warningDark,padding:theme.spacing.md,borderRadius:theme.borderRadius.md,marginBottom:theme.spacing.lg,border:\"1px solid \".concat(theme.colors.warning),display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Complete Your Profile\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:theme.typography.fontSize.sm,marginTop:theme.spacing.xs},children:[onboardingProgress.completion_percentage,\"% complete. \",100-onboardingProgress.completion_percentage,\"% remaining.\"]})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",size:\"sm\",onClick:onStartOnboarding,children:\"Continue Setup\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{style:{background:theme.colors.errorLight,color:theme.colors.errorDark,padding:theme.spacing.md,borderRadius:theme.borderRadius.md,marginBottom:theme.spacing.lg,border:\"1px solid \".concat(theme.colors.error)},children:error}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))',gap:theme.spacing.lg,marginBottom:theme.spacing['2xl']},children:[/*#__PURE__*/_jsx(StatCard,{title:\"Total Products\",value:stats.totalProducts,icon:\"\\uD83D\\uDCBC\",color:\"primary\"}),/*#__PURE__*/_jsx(StatCard,{title:\"Active Products\",value:stats.activeProducts,icon:\"\\u2705\",color:\"success\"}),/*#__PURE__*/_jsx(StatCard,{title:\"Pending Approval\",value:stats.pendingProducts,icon:\"\\u23F3\",color:\"warning\"}),/*#__PURE__*/_jsx(StatCard,{title:\"Total Applications\",value:stats.totalApplications,icon:\"\\uD83D\\uDCDD\",color:\"secondary\"}),/*#__PURE__*/_jsx(StatCard,{title:\"Pending Review\",value:stats.pendingApplications,icon:\"\\u23F3\",color:\"warning\"}),/*#__PURE__*/_jsx(StatCard,{title:\"Accepted\",value:stats.acceptedApplications,icon:\"\\u2705\",color:\"success\"}),/*#__PURE__*/_jsx(StatCard,{title:\"PE Investments\",value:stats.totalInvestments,icon:\"\\uD83D\\uDCBC\",color:\"accent\"}),/*#__PURE__*/_jsx(StatCard,{title:\"Unread Messages\",value:unreadCount,icon:\"\\uD83D\\uDCAC\",color:unreadCount>0?\"warning\":\"info\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:theme.spacing['2xl']},children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:theme.typography.fontSize['2xl'],fontWeight:theme.typography.fontWeight.semibold,margin:\"0 0 \".concat(theme.spacing.lg,\" 0\"),color:theme.colors.textPrimary},children:\"Quick Actions\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:theme.spacing.md,flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(Link,{to:\"/lender/products/new\",style:{textDecoration:'none'},children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",size:\"lg\",children:\"+ Create New Product\"})}),/*#__PURE__*/_jsx(Link,{to:\"/lender/applications\",style:{textDecoration:'none'},children:/*#__PURE__*/_jsx(Button,{variant:\"secondary\",size:\"lg\",children:\"View Applications\"})}),/*#__PURE__*/_jsx(Link,{to:\"/lender/private-equity\",style:{textDecoration:'none'},children:/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"lg\",children:\"Browse PE Opportunities\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:theme.spacing['2xl']},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:theme.spacing.lg},children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:theme.typography.fontSize['2xl'],fontWeight:theme.typography.fontWeight.semibold,margin:0,color:theme.colors.textPrimary},children:\"Recent Products\"}),/*#__PURE__*/_jsx(Link,{to:\"/lender/products\",style:{color:theme.colors.primary,textDecoration:'none',fontWeight:theme.typography.fontWeight.medium},children:\"View All \\u2192\"})]}),recentProducts.length===0?/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},commonStyles.card),{},{textAlign:'center',padding:theme.spacing['2xl']}),children:[/*#__PURE__*/_jsx(\"p\",{style:{color:theme.colors.textSecondary,margin:\"0 0 \".concat(theme.spacing.md,\" 0\")},children:\"No products yet.\"}),/*#__PURE__*/_jsx(Link,{to:\"/lender/products/new\",style:{textDecoration:'none'},children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",children:\"Create your first product\"})})]}):/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fill, minmax(300px, 1fr))',gap:theme.spacing.lg},children:recentProducts.map(product=>/*#__PURE__*/_jsx(Link,{to:\"/lender/products/\".concat(product.id),style:{textDecoration:'none'},children:/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread(_objectSpread({},commonStyles.card),commonStyles.cardHover),{},{cursor:'pointer'}),children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:\"0 0 \".concat(theme.spacing.sm,\" 0\"),fontSize:theme.typography.fontSize.lg,fontWeight:theme.typography.fontWeight.semibold,color:theme.colors.textPrimary},children:product.name}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:\"\".concat(theme.spacing.xs,\" 0\"),color:theme.colors.textSecondary,fontSize:theme.typography.fontSize.sm},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Type:\"}),\" \",product.funding_type,\" - \",product.property_type]}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:\"\".concat(theme.spacing.xs,\" 0\"),color:theme.colors.textSecondary,fontSize:theme.typography.fontSize.sm},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Loan Range:\"}),\" \\xA3\",parseFloat(product.min_loan_amount||0).toLocaleString(),\" - \\xA3\",parseFloat(product.max_loan_amount||0).toLocaleString()]}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:\"\".concat(theme.spacing.xs,\" 0\"),color:theme.colors.textSecondary,fontSize:theme.typography.fontSize.sm},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Interest:\"}),\" \",product.interest_rate_min,\"% - \",product.interest_rate_max,\"%\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:theme.spacing.md,display:'flex',justifyContent:'space-between',alignItems:'center'},children:[getStatusBadge(product.status),/*#__PURE__*/_jsx(\"span\",{style:{color:theme.colors.primary,fontSize:theme.typography.fontSize.sm,fontWeight:theme.typography.fontWeight.medium},children:\"View Details \\u2192\"})]})]})},product.id))})]}),recentApplications.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:theme.spacing['2xl']},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:theme.spacing.lg},children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:theme.typography.fontSize['2xl'],fontWeight:theme.typography.fontWeight.semibold,margin:0,color:theme.colors.textPrimary},children:\"Recent Applications\"}),/*#__PURE__*/_jsx(Link,{to:\"/lender/applications\",style:{color:theme.colors.primary,textDecoration:'none',fontWeight:theme.typography.fontWeight.medium},children:\"View All \\u2192\"})]}),/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},commonStyles.card),{},{padding:0,overflow:'hidden'}),children:/*#__PURE__*/_jsxs(\"table\",{style:commonStyles.table,children:[/*#__PURE__*/_jsx(\"thead\",{style:commonStyles.tableHeader,children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:commonStyles.tableCell,children:\"Project\"}),/*#__PURE__*/_jsx(\"th\",{style:commonStyles.tableCell,children:\"Product\"}),/*#__PURE__*/_jsx(\"th\",{style:commonStyles.tableCell,children:\"Loan Amount\"}),/*#__PURE__*/_jsx(\"th\",{style:commonStyles.tableCell,children:\"Interest Rate\"}),/*#__PURE__*/_jsx(\"th\",{style:commonStyles.tableCell,children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:recentApplications.map(app=>{var _app$project_details,_app$product_details;return/*#__PURE__*/_jsxs(\"tr\",{style:{borderBottom:\"1px solid \".concat(theme.colors.gray200),cursor:'pointer'},onClick:()=>window.location.href=\"/lender/applications/\".concat(app.id),onMouseEnter:e=>{e.currentTarget.style.background=theme.colors.gray50;},onMouseLeave:e=>{e.currentTarget.style.background='transparent';},children:[/*#__PURE__*/_jsx(\"td\",{style:commonStyles.tableCell,children:((_app$project_details=app.project_details)===null||_app$project_details===void 0?void 0:_app$project_details.address)||app.project||\"Project #\".concat(app.project)}),/*#__PURE__*/_jsx(\"td\",{style:commonStyles.tableCell,children:((_app$product_details=app.product_details)===null||_app$product_details===void 0?void 0:_app$product_details.name)||app.product||'N/A'}),/*#__PURE__*/_jsxs(\"td\",{style:commonStyles.tableCell,children:[\"\\xA3\",parseFloat(app.proposed_loan_amount||0).toLocaleString()]}),/*#__PURE__*/_jsx(\"td\",{style:commonStyles.tableCell,children:app.proposed_interest_rate?\"\".concat(app.proposed_interest_rate,\"%\"):'N/A'}),/*#__PURE__*/_jsx(\"td\",{style:commonStyles.tableCell,children:getStatusBadge(app.status)})]},app.id);})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:theme.spacing['2xl']},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:theme.spacing.lg},children:[/*#__PURE__*/_jsxs(\"h2\",{style:{fontSize:theme.typography.fontSize['2xl'],fontWeight:theme.typography.fontWeight.semibold,margin:0,color:theme.colors.textPrimary},children:[\"Recent Messages \",unreadCount>0&&/*#__PURE__*/_jsxs(Badge,{variant:\"warning\",style:{marginLeft:theme.spacing.sm},children:[unreadCount,\" unread\"]})]}),/*#__PURE__*/_jsx(Link,{to:\"/lender/messages\",style:{color:theme.colors.primary,textDecoration:'none',fontWeight:theme.typography.fontWeight.medium},children:\"View All \\u2192\"})]}),recentMessages.length===0?/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},commonStyles.card),{},{textAlign:'center',padding:theme.spacing['2xl']}),children:[/*#__PURE__*/_jsx(\"p\",{style:{color:theme.colors.textSecondary,margin:\"0 0 \".concat(theme.spacing.md,\" 0\")},children:\"No messages yet.\"}),/*#__PURE__*/_jsx(Link,{to:\"/lender/messages\",style:{textDecoration:'none'},children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",children:\"Go to Messages\"})})]}):/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},commonStyles.card),{},{padding:0,overflow:'hidden'}),children:/*#__PURE__*/_jsx(\"div\",{style:{overflowX:'auto'},children:/*#__PURE__*/_jsxs(\"table\",{style:commonStyles.table,children:[/*#__PURE__*/_jsx(\"thead\",{style:commonStyles.tableHeader,children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:commonStyles.tableCell,children:\"From/To\"}),/*#__PURE__*/_jsx(\"th\",{style:commonStyles.tableCell,children:\"Subject\"}),/*#__PURE__*/_jsx(\"th\",{style:commonStyles.tableCell,children:\"Project Ref\"}),/*#__PURE__*/_jsx(\"th\",{style:commonStyles.tableCell,children:\"Application\"}),/*#__PURE__*/_jsx(\"th\",{style:commonStyles.tableCell,children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{style:commonStyles.tableCell,children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:recentMessages.map(message=>{const isSent=message.sender_username===localStorage.getItem('username');const otherParty=isSent?message.recipient_username:message.sender_username;return/*#__PURE__*/_jsxs(\"tr\",{style:{borderBottom:\"1px solid \".concat(theme.colors.gray200),cursor:'pointer',background:!message.is_read&&!isSent?theme.colors.primaryLight:'transparent'},onClick:()=>window.location.href=\"/lender/messages?application_id=\".concat(message.application),onMouseEnter:e=>{if(message.is_read||isSent){e.currentTarget.style.background=theme.colors.gray50;}},onMouseLeave:e=>{if(message.is_read||isSent){e.currentTarget.style.background='transparent';}else{e.currentTarget.style.background=theme.colors.primaryLight;}},children:[/*#__PURE__*/_jsxs(\"td\",{style:commonStyles.tableCell,children:[isSent?'To: ':'From: ',otherParty]}),/*#__PURE__*/_jsxs(\"td\",{style:commonStyles.tableCell,children:[message.subject||'(No subject)',!message.is_read&&!isSent&&/*#__PURE__*/_jsx(Badge,{variant:\"warning\",style:{marginLeft:theme.spacing.xs},children:\"New\"})]}),/*#__PURE__*/_jsx(\"td\",{style:commonStyles.tableCell,children:message.project_reference?/*#__PURE__*/_jsx(Badge,{variant:\"info\",children:message.project_reference}):'N/A'}),/*#__PURE__*/_jsxs(\"td\",{style:commonStyles.tableCell,children:[\"Application #\",message.application]}),/*#__PURE__*/_jsx(\"td\",{style:_objectSpread(_objectSpread({},commonStyles.tableCell),{},{fontSize:theme.typography.fontSize.sm,color:theme.colors.textSecondary}),children:new Date(message.created_at).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{style:commonStyles.tableCell,children:message.is_read?/*#__PURE__*/_jsx(Badge,{variant:\"info\",children:\"Read\"}):isSent?/*#__PURE__*/_jsx(Badge,{variant:\"info\",children:\"Sent\"}):/*#__PURE__*/_jsx(Badge,{variant:\"warning\",children:\"Unread\"})})]},message.id);})})]})})})]})]});}export default LenderDashboard;","map":{"version":3,"names":["React","useEffect","useState","Link","api","theme","commonStyles","StatCard","Button","Badge","jsx","_jsx","jsxs","_jsxs","LenderDashboard","_ref","onboardingProgress","onStartOnboarding","stats","setStats","totalProducts","activeProducts","pendingProducts","totalApplications","pendingApplications","acceptedApplications","totalInvestments","recentProducts","setRecentProducts","recentApplications","setRecentApplications","recentMessages","setRecentMessages","unreadCount","setUnreadCount","loading","setLoading","error","setError","loadDashboardData","products","productsRes","get","data","err","_err$response","_err$response$data","console","Error","concat","response","detail","message","applications","applicationsRes","_err$response2","_err$response2$data","investments","investmentsRes","warn","messages","unread","_messagesRes$data","_unreadRes$data","messagesRes","allMessages","results","slice","unreadRes","unread_count","filter","p","status","length","a","_err$response3","_err$response3$data","errorMessage","getStatusBadge","statusMap","active","variant","label","pending","accepted","under_review","declined","statusInfo","children","style","_objectSpread","container","textAlign","padding","spacing","color","colors","textSecondary","marginBottom","xl","fontSize","typography","fontWeight","bold","textPrimary","margin","sm","base","is_complete","completion_percentage","background","warningLight","warningDark","md","borderRadius","lg","border","warning","display","justifyContent","alignItems","marginTop","xs","size","onClick","errorLight","errorDark","gridTemplateColumns","gap","title","value","icon","semibold","flexWrap","to","textDecoration","primary","medium","card","map","product","id","cardHover","cursor","name","funding_type","property_type","parseFloat","min_loan_amount","toLocaleString","max_loan_amount","interest_rate_min","interest_rate_max","overflow","table","tableHeader","tableCell","app","_app$project_details","_app$product_details","borderBottom","gray200","window","location","href","onMouseEnter","e","currentTarget","gray50","onMouseLeave","project_details","address","project","product_details","proposed_loan_amount","proposed_interest_rate","marginLeft","overflowX","isSent","sender_username","localStorage","getItem","otherParty","recipient_username","is_read","primaryLight","application","subject","project_reference","Date","created_at","toLocaleDateString"],"sources":["C:/Users/paul-/OneDrive - BARE Capital Ltd/BARE Drive/10.0 BUILDFUND/1.0 Website Dev/GitHub/new_website/src/pages/LenderDashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport api from '../api';\r\nimport { theme, commonStyles } from '../styles/theme';\r\nimport StatCard from '../components/StatCard';\r\nimport Button from '../components/Button';\r\nimport Badge from '../components/Badge';\r\n\r\nfunction LenderDashboard({ onboardingProgress, onStartOnboarding }) {\r\n  const [stats, setStats] = useState({\r\n    totalProducts: 0,\r\n    activeProducts: 0,\r\n    pendingProducts: 0,\r\n    totalApplications: 0,\r\n    pendingApplications: 0,\r\n    acceptedApplications: 0,\r\n    totalInvestments: 0,\r\n  });\r\n  const [recentProducts, setRecentProducts] = useState([]);\r\n  const [recentApplications, setRecentApplications] = useState([]);\r\n  const [recentMessages, setRecentMessages] = useState([]);\r\n  const [unreadCount, setUnreadCount] = useState(0);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    loadDashboardData();\r\n  }, []);\r\n\r\n  async function loadDashboardData() {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      // Load products (required)\r\n      let products = [];\r\n      try {\r\n        const productsRes = await api.get('/api/products/');\r\n        products = productsRes.data || [];\r\n      } catch (err) {\r\n        console.error('Failed to load products:', err);\r\n        throw new Error(`Failed to load products: ${err.response?.data?.detail || err.message || 'Unknown error'}`);\r\n      }\r\n      \r\n      // Load applications (required)\r\n      let applications = [];\r\n      try {\r\n        const applicationsRes = await api.get('/api/applications/');\r\n        applications = applicationsRes.data || [];\r\n      } catch (err) {\r\n        console.error('Failed to load applications:', err);\r\n        throw new Error(`Failed to load applications: ${err.response?.data?.detail || err.message || 'Unknown error'}`);\r\n      }\r\n      \r\n      // Load investments (optional - don't fail if this fails)\r\n      let investments = [];\r\n      try {\r\n        const investmentsRes = await api.get('/api/private-equity/investments/');\r\n        investments = investmentsRes.data || [];\r\n      } catch (err) {\r\n        console.warn('Failed to load investments (optional):', err);\r\n        // Continue without investments - this is optional\r\n        investments = [];\r\n      }\r\n\r\n      // Load recent messages and unread count (optional)\r\n      let messages = [];\r\n      let unread = 0;\r\n      try {\r\n        const messagesRes = await api.get('/api/messaging/messages/');\r\n        // Handle paginated or non-paginated responses\r\n        const allMessages = messagesRes.data?.results || messagesRes.data || [];\r\n        messages = allMessages.slice(0, 5); // Get first 5\r\n        const unreadRes = await api.get('/api/messaging/messages/unread_count/');\r\n        unread = unreadRes.data?.unread_count || 0;\r\n      } catch (err) {\r\n        console.warn('Failed to load messages:', err);\r\n        // Don't fail completely if messages fail\r\n      }\r\n\r\n      const activeProducts = products.filter(p => p.status === 'active').length;\r\n      const pendingProducts = products.filter(p => p.status === 'pending').length;\r\n      const pendingApplications = applications.filter(a => a.status === 'pending' || a.status === 'under_review').length;\r\n      const acceptedApplications = applications.filter(a => a.status === 'accepted').length;\r\n\r\n      setStats({\r\n        totalProducts: products.length,\r\n        activeProducts,\r\n        pendingProducts,\r\n        totalApplications: applications.length,\r\n        pendingApplications,\r\n        acceptedApplications,\r\n        totalInvestments: investments.length,\r\n      });\r\n\r\n      setRecentProducts(products.slice(0, 5));\r\n      setRecentApplications(applications.slice(0, 5));\r\n      setRecentMessages(messages.slice(0, 5));\r\n      setUnreadCount(unread);\r\n\r\n    } catch (err) {\r\n      console.error('Dashboard load error:', err);\r\n      const errorMessage = err.response?.data?.detail || err.message || 'Unknown error';\r\n      setError(`Failed to load dashboard data: ${errorMessage}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  const getStatusBadge = (status) => {\r\n    const statusMap = {\r\n      active: { variant: 'success', label: 'Active' },\r\n      pending: { variant: 'warning', label: 'Pending' },\r\n      accepted: { variant: 'success', label: 'Accepted' },\r\n      pending: { variant: 'warning', label: 'Pending' },\r\n      under_review: { variant: 'info', label: 'Under Review' },\r\n      declined: { variant: 'error', label: 'Declined' },\r\n    };\r\n    const statusInfo = statusMap[status] || { variant: 'info', label: status };\r\n    return <Badge variant={statusInfo.variant}>{statusInfo.label}</Badge>;\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div style={{ ...commonStyles.container, textAlign: 'center', padding: theme.spacing['3xl'] }}>\r\n        <p style={{ color: theme.colors.textSecondary }}>Loading dashboard...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={commonStyles.container}>\r\n      <div style={{ marginBottom: theme.spacing.xl }}>\r\n        <h1 style={{\r\n          fontSize: theme.typography.fontSize['4xl'],\r\n          fontWeight: theme.typography.fontWeight.bold,\r\n          color: theme.colors.textPrimary,\r\n          margin: `0 0 ${theme.spacing.sm} 0`,\r\n        }}>\r\n          Dashboard\r\n        </h1>\r\n        <p style={{\r\n          color: theme.colors.textSecondary,\r\n          fontSize: theme.typography.fontSize.base,\r\n          margin: 0,\r\n        }}>\r\n          Overview of your products, applications, and investments\r\n        </p>\r\n      </div>\r\n\r\n      {/* Onboarding Progress Banner */}\r\n      {onboardingProgress && !onboardingProgress.is_complete && onboardingProgress.completion_percentage < 100 && (\r\n        <div style={{\r\n          background: theme.colors.warningLight,\r\n          color: theme.colors.warningDark,\r\n          padding: theme.spacing.md,\r\n          borderRadius: theme.borderRadius.md,\r\n          marginBottom: theme.spacing.lg,\r\n          border: `1px solid ${theme.colors.warning}`,\r\n          display: 'flex',\r\n          justifyContent: 'space-between',\r\n          alignItems: 'center',\r\n        }}>\r\n          <div>\r\n            <strong>Complete Your Profile</strong>\r\n            <div style={{ fontSize: theme.typography.fontSize.sm, marginTop: theme.spacing.xs }}>\r\n              {onboardingProgress.completion_percentage}% complete. {100 - onboardingProgress.completion_percentage}% remaining.\r\n            </div>\r\n          </div>\r\n          <Button variant=\"primary\" size=\"sm\" onClick={onStartOnboarding}>\r\n            Continue Setup\r\n          </Button>\r\n        </div>\r\n      )}\r\n\r\n      {error && (\r\n        <div style={{\r\n          background: theme.colors.errorLight,\r\n          color: theme.colors.errorDark,\r\n          padding: theme.spacing.md,\r\n          borderRadius: theme.borderRadius.md,\r\n          marginBottom: theme.spacing.lg,\r\n          border: `1px solid ${theme.colors.error}`,\r\n        }}>\r\n          {error}\r\n        </div>\r\n      )}\r\n\r\n      {/* Statistics Cards */}\r\n      <div style={{ \r\n        display: 'grid', \r\n        gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', \r\n        gap: theme.spacing.lg, \r\n        marginBottom: theme.spacing['2xl'] \r\n      }}>\r\n        <StatCard title=\"Total Products\" value={stats.totalProducts} icon=\"ðŸ’¼\" color=\"primary\" />\r\n        <StatCard title=\"Active Products\" value={stats.activeProducts} icon=\"âœ…\" color=\"success\" />\r\n        <StatCard title=\"Pending Approval\" value={stats.pendingProducts} icon=\"â³\" color=\"warning\" />\r\n        <StatCard title=\"Total Applications\" value={stats.totalApplications} icon=\"ðŸ“\" color=\"secondary\" />\r\n        <StatCard title=\"Pending Review\" value={stats.pendingApplications} icon=\"â³\" color=\"warning\" />\r\n        <StatCard title=\"Accepted\" value={stats.acceptedApplications} icon=\"âœ…\" color=\"success\" />\r\n        <StatCard title=\"PE Investments\" value={stats.totalInvestments} icon=\"ðŸ’¼\" color=\"accent\" />\r\n        <StatCard title=\"Unread Messages\" value={unreadCount} icon=\"ðŸ’¬\" color={unreadCount > 0 ? \"warning\" : \"info\"} />\r\n      </div>\r\n\r\n      {/* Quick Actions */}\r\n      <div style={{ marginBottom: theme.spacing['2xl'] }}>\r\n        <h2 style={{\r\n          fontSize: theme.typography.fontSize['2xl'],\r\n          fontWeight: theme.typography.fontWeight.semibold,\r\n          margin: `0 0 ${theme.spacing.lg} 0`,\r\n          color: theme.colors.textPrimary,\r\n        }}>\r\n          Quick Actions\r\n        </h2>\r\n        <div style={{ display: 'flex', gap: theme.spacing.md, flexWrap: 'wrap' }}>\r\n          <Link to=\"/lender/products/new\" style={{ textDecoration: 'none' }}>\r\n            <Button variant=\"primary\" size=\"lg\">\r\n              + Create New Product\r\n            </Button>\r\n          </Link>\r\n          <Link to=\"/lender/applications\" style={{ textDecoration: 'none' }}>\r\n            <Button variant=\"secondary\" size=\"lg\">\r\n              View Applications\r\n            </Button>\r\n          </Link>\r\n          <Link to=\"/lender/private-equity\" style={{ textDecoration: 'none' }}>\r\n            <Button variant=\"outline\" size=\"lg\">\r\n              Browse PE Opportunities\r\n            </Button>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Recent Products */}\r\n      <div style={{ marginBottom: theme.spacing['2xl'] }}>\r\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: theme.spacing.lg }}>\r\n          <h2 style={{\r\n            fontSize: theme.typography.fontSize['2xl'],\r\n            fontWeight: theme.typography.fontWeight.semibold,\r\n            margin: 0,\r\n            color: theme.colors.textPrimary,\r\n          }}>\r\n            Recent Products\r\n          </h2>\r\n          <Link to=\"/lender/products\" style={{ \r\n            color: theme.colors.primary, \r\n            textDecoration: 'none',\r\n            fontWeight: theme.typography.fontWeight.medium,\r\n          }}>\r\n            View All â†’\r\n          </Link>\r\n        </div>\r\n        {recentProducts.length === 0 ? (\r\n          <div style={{\r\n            ...commonStyles.card,\r\n            textAlign: 'center',\r\n            padding: theme.spacing['2xl'],\r\n          }}>\r\n            <p style={{ color: theme.colors.textSecondary, margin: `0 0 ${theme.spacing.md} 0` }}>\r\n              No products yet.\r\n            </p>\r\n            <Link to=\"/lender/products/new\" style={{ textDecoration: 'none' }}>\r\n              <Button variant=\"primary\">Create your first product</Button>\r\n            </Link>\r\n          </div>\r\n        ) : (\r\n          <div style={{ \r\n            display: 'grid', \r\n            gridTemplateColumns: 'repeat(auto-fill, minmax(300px, 1fr))', \r\n            gap: theme.spacing.lg \r\n          }}>\r\n            {recentProducts.map((product) => (\r\n              <Link\r\n                key={product.id}\r\n                to={`/lender/products/${product.id}`}\r\n                style={{ textDecoration: 'none' }}\r\n              >\r\n                <div \r\n                  style={{\r\n                    ...commonStyles.card,\r\n                    ...commonStyles.cardHover,\r\n                    cursor: 'pointer',\r\n                  }}\r\n                >\r\n                  <h3 style={{ \r\n                    margin: `0 0 ${theme.spacing.sm} 0`, \r\n                    fontSize: theme.typography.fontSize.lg,\r\n                    fontWeight: theme.typography.fontWeight.semibold,\r\n                    color: theme.colors.textPrimary,\r\n                  }}>\r\n                    {product.name}\r\n                  </h3>\r\n                  <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary, fontSize: theme.typography.fontSize.sm }}>\r\n                    <strong>Type:</strong> {product.funding_type} - {product.property_type}\r\n                  </p>\r\n                  <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary, fontSize: theme.typography.fontSize.sm }}>\r\n                    <strong>Loan Range:</strong> Â£{parseFloat(product.min_loan_amount || 0).toLocaleString()} - Â£{parseFloat(product.max_loan_amount || 0).toLocaleString()}\r\n                  </p>\r\n                  <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary, fontSize: theme.typography.fontSize.sm }}>\r\n                    <strong>Interest:</strong> {product.interest_rate_min}% - {product.interest_rate_max}%\r\n                  </p>\r\n                  <div style={{ marginTop: theme.spacing.md, display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                    {getStatusBadge(product.status)}\r\n                    <span style={{ \r\n                      color: theme.colors.primary, \r\n                      fontSize: theme.typography.fontSize.sm,\r\n                      fontWeight: theme.typography.fontWeight.medium,\r\n                    }}>\r\n                      View Details â†’\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </Link>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Recent Applications */}\r\n      {recentApplications.length > 0 && (\r\n        <div style={{ marginBottom: theme.spacing['2xl'] }}>\r\n          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: theme.spacing.lg }}>\r\n            <h2 style={{\r\n              fontSize: theme.typography.fontSize['2xl'],\r\n              fontWeight: theme.typography.fontWeight.semibold,\r\n              margin: 0,\r\n              color: theme.colors.textPrimary,\r\n            }}>\r\n              Recent Applications\r\n            </h2>\r\n            <Link to=\"/lender/applications\" style={{ \r\n              color: theme.colors.primary, \r\n              textDecoration: 'none',\r\n              fontWeight: theme.typography.fontWeight.medium,\r\n            }}>\r\n              View All â†’\r\n            </Link>\r\n          </div>\r\n          <div style={{ ...commonStyles.card, padding: 0, overflow: 'hidden' }}>\r\n            <table style={commonStyles.table}>\r\n              <thead style={commonStyles.tableHeader}>\r\n                <tr>\r\n                  <th style={commonStyles.tableCell}>Project</th>\r\n                  <th style={commonStyles.tableCell}>Product</th>\r\n                  <th style={commonStyles.tableCell}>Loan Amount</th>\r\n                  <th style={commonStyles.tableCell}>Interest Rate</th>\r\n                  <th style={commonStyles.tableCell}>Status</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {recentApplications.map((app) => (\r\n                  <tr \r\n                    key={app.id} \r\n                    style={{ \r\n                      borderBottom: `1px solid ${theme.colors.gray200}`,\r\n                      cursor: 'pointer',\r\n                    }}\r\n                    onClick={() => window.location.href = `/lender/applications/${app.id}`}\r\n                    onMouseEnter={(e) => {\r\n                      e.currentTarget.style.background = theme.colors.gray50;\r\n                    }}\r\n                    onMouseLeave={(e) => {\r\n                      e.currentTarget.style.background = 'transparent';\r\n                    }}\r\n                  >\r\n                    <td style={commonStyles.tableCell}>\r\n                      {app.project_details?.address || app.project || `Project #${app.project}`}\r\n                    </td>\r\n                    <td style={commonStyles.tableCell}>\r\n                      {app.product_details?.name || app.product || 'N/A'}\r\n                    </td>\r\n                    <td style={commonStyles.tableCell}>Â£{parseFloat(app.proposed_loan_amount || 0).toLocaleString()}</td>\r\n                    <td style={commonStyles.tableCell}>\r\n                      {app.proposed_interest_rate ? `${app.proposed_interest_rate}%` : 'N/A'}\r\n                    </td>\r\n                    <td style={commonStyles.tableCell}>{getStatusBadge(app.status)}</td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Recent Messages */}\r\n      <div style={{ marginBottom: theme.spacing['2xl'] }}>\r\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: theme.spacing.lg }}>\r\n          <h2 style={{\r\n            fontSize: theme.typography.fontSize['2xl'],\r\n            fontWeight: theme.typography.fontWeight.semibold,\r\n            margin: 0,\r\n            color: theme.colors.textPrimary,\r\n          }}>\r\n            Recent Messages {unreadCount > 0 && (\r\n              <Badge variant=\"warning\" style={{ marginLeft: theme.spacing.sm }}>\r\n                {unreadCount} unread\r\n              </Badge>\r\n            )}\r\n          </h2>\r\n          <Link to=\"/lender/messages\" style={{ \r\n            color: theme.colors.primary, \r\n            textDecoration: 'none',\r\n            fontWeight: theme.typography.fontWeight.medium,\r\n          }}>\r\n            View All â†’\r\n          </Link>\r\n        </div>\r\n        {recentMessages.length === 0 ? (\r\n          <div style={{\r\n            ...commonStyles.card,\r\n            textAlign: 'center',\r\n            padding: theme.spacing['2xl'],\r\n          }}>\r\n            <p style={{ color: theme.colors.textSecondary, margin: `0 0 ${theme.spacing.md} 0` }}>\r\n              No messages yet.\r\n            </p>\r\n            <Link to=\"/lender/messages\" style={{ textDecoration: 'none' }}>\r\n              <Button variant=\"primary\">Go to Messages</Button>\r\n            </Link>\r\n          </div>\r\n        ) : (\r\n          <div style={{ ...commonStyles.card, padding: 0, overflow: 'hidden' }}>\r\n            <div style={{ overflowX: 'auto' }}>\r\n              <table style={commonStyles.table}>\r\n                <thead style={commonStyles.tableHeader}>\r\n                  <tr>\r\n                    <th style={commonStyles.tableCell}>From/To</th>\r\n                    <th style={commonStyles.tableCell}>Subject</th>\r\n                    <th style={commonStyles.tableCell}>Project Ref</th>\r\n                    <th style={commonStyles.tableCell}>Application</th>\r\n                    <th style={commonStyles.tableCell}>Date</th>\r\n                    <th style={commonStyles.tableCell}>Status</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {recentMessages.map((message) => {\r\n                    const isSent = message.sender_username === localStorage.getItem('username');\r\n                    const otherParty = isSent ? message.recipient_username : message.sender_username;\r\n                    return (\r\n                      <tr \r\n                        key={message.id} \r\n                        style={{ \r\n                          borderBottom: `1px solid ${theme.colors.gray200}`,\r\n                          cursor: 'pointer',\r\n                          background: !message.is_read && !isSent ? theme.colors.primaryLight : 'transparent',\r\n                        }}\r\n                        onClick={() => window.location.href = `/lender/messages?application_id=${message.application}`}\r\n                        onMouseEnter={(e) => {\r\n                          if (message.is_read || isSent) {\r\n                            e.currentTarget.style.background = theme.colors.gray50;\r\n                          }\r\n                        }}\r\n                        onMouseLeave={(e) => {\r\n                          if (message.is_read || isSent) {\r\n                            e.currentTarget.style.background = 'transparent';\r\n                          } else {\r\n                            e.currentTarget.style.background = theme.colors.primaryLight;\r\n                          }\r\n                        }}\r\n                      >\r\n                        <td style={commonStyles.tableCell}>\r\n                          {isSent ? 'To: ' : 'From: '}{otherParty}\r\n                        </td>\r\n                        <td style={commonStyles.tableCell}>\r\n                          {message.subject || '(No subject)'}\r\n                          {!message.is_read && !isSent && (\r\n                            <Badge variant=\"warning\" style={{ marginLeft: theme.spacing.xs }}>New</Badge>\r\n                          )}\r\n                        </td>\r\n                        <td style={commonStyles.tableCell}>\r\n                          {message.project_reference ? (\r\n                            <Badge variant=\"info\">{message.project_reference}</Badge>\r\n                          ) : (\r\n                            'N/A'\r\n                          )}\r\n                        </td>\r\n                        <td style={commonStyles.tableCell}>\r\n                          Application #{message.application}\r\n                        </td>\r\n                        <td style={{ ...commonStyles.tableCell, fontSize: theme.typography.fontSize.sm, color: theme.colors.textSecondary }}>\r\n                          {new Date(message.created_at).toLocaleDateString()}\r\n                        </td>\r\n                        <td style={commonStyles.tableCell}>\r\n                          {message.is_read ? (\r\n                            <Badge variant=\"info\">Read</Badge>\r\n                          ) : isSent ? (\r\n                            <Badge variant=\"info\">Sent</Badge>\r\n                          ) : (\r\n                            <Badge variant=\"warning\">Unread</Badge>\r\n                          )}\r\n                        </td>\r\n                      </tr>\r\n                    );\r\n                  })}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LenderDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}