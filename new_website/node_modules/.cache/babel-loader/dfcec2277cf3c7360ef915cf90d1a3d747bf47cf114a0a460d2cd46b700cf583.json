{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\paul-\\\\OneDrive - BARE Capital Ltd\\\\BARE Drive\\\\10.0 BUILDFUND\\\\1.0 Website Dev\\\\GitHub\\\\new_website\\\\src\\\\pages\\\\ApplicationDetail.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useParams, Link, useNavigate } from 'react-router-dom';\nimport api from '../api';\nimport { theme, commonStyles } from '../styles/theme';\nimport Button from '../components/Button';\nimport Badge from '../components/Badge';\nimport ApplicationProgress from '../components/ApplicationProgress';\nimport UnderwriterReport from '../components/UnderwriterReport';\nimport Select from '../components/Select';\nimport Textarea from '../components/Textarea';\nimport Input from '../components/Input';\nimport Checkbox from '../components/Checkbox';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ApplicationDetail() {\n  _s();\n  var _application$borrower, _application$borrower2, _application$borrower3, _application$borrower4;\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [application, setApplication] = useState(null);\n  const [statusHistory, setStatusHistory] = useState([]);\n  const [documents, setDocuments] = useState([]);\n  const [messages, setMessages] = useState([]);\n  const [activeTab, setActiveTab] = useState('overview');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [updatingStatus, setUpdatingStatus] = useState(false);\n  const [uploadingDoc, setUploadingDoc] = useState(false);\n  const [statusUpdateForm, setStatusUpdateForm] = useState({\n    status: '',\n    feedback: ''\n  });\n  const [docUploadForm, setDocUploadForm] = useState({\n    description: '',\n    document_type_id: '',\n    is_required: false\n  });\n  const [dragActive, setDragActive] = useState(false);\n  const [documentTypes, setDocumentTypes] = useState([]);\n  const [underwriting, setUnderwriting] = useState(null);\n  const [givingConsent, setGivingConsent] = useState(false);\n  const [processingAction, setProcessingAction] = useState(null);\n  const role = localStorage.getItem('role');\n  const isLender = role === 'Lender';\n  const isBorrower = role === 'Borrower';\n  useEffect(() => {\n    loadApplication();\n    loadDocumentTypes();\n    loadUnderwriting();\n  }, [id]);\n  async function loadDocumentTypes() {\n    try {\n      const res = await api.get('/api/documents/types/?loan_type=business_finance');\n      setDocumentTypes(res.data || []);\n    } catch (err) {\n      console.error('Failed to load document types:', err);\n    }\n  }\n  async function loadUnderwriting() {\n    try {\n      // Get the latest comprehensive underwriter report\n      const res = await api.get(`/api/applications/${id}/underwriter-report/`);\n      if (res.data.status === 'ready' && res.data.report_json) {\n        var _reportJson$documents, _reportJson$documents2, _reportJson$documents3;\n        const reportJson = res.data.report_json;\n        const executiveSummary = reportJson.executiveSummary || {};\n        const recommendation = reportJson.recommendation || executiveSummary.recommendation || 'pending';\n        const riskRating = executiveSummary.risk_rating || 'N/A';\n\n        // Create summary from executive summary or plain text narrative\n        let summary = '';\n        if (executiveSummary.key_highlights && executiveSummary.key_highlights.length > 0) {\n          summary = executiveSummary.key_highlights.join('\\n\\n');\n        } else if (res.data.plain_text_narrative) {\n          summary = res.data.plain_text_narrative.substring(0, 500) + '...';\n        } else if (reportJson.plainTextNarrative) {\n          summary = reportJson.plainTextNarrative.substring(0, 500) + '...';\n        }\n\n        // Use plain text narrative as content if available\n        const content = res.data.plain_text_narrative || reportJson.plainTextNarrative || JSON.stringify(reportJson, null, 2);\n        setUnderwriting({\n          content: content,\n          summary: summary,\n          risk_score: riskRating,\n          recommendation: recommendation.toLowerCase(),\n          documents_valid: ((_reportJson$documents = reportJson.documentsReviewed) === null || _reportJson$documents === void 0 ? void 0 : (_reportJson$documents2 = _reportJson$documents.filter(d => d.status === 'valid')) === null || _reportJson$documents2 === void 0 ? void 0 : _reportJson$documents2.length) || 0,\n          documents_analyzed: ((_reportJson$documents3 = reportJson.documentsReviewed) === null || _reportJson$documents3 === void 0 ? void 0 : _reportJson$documents3.length) || 0\n        });\n        return;\n      }\n\n      // If report is not ready or doesn't exist, set to null\n      setUnderwriting(null);\n    } catch (err) {\n      var _err$response;\n      // Underwriting report may not exist yet\n      console.log('No underwriter report available:', (_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status);\n      setUnderwriting(null);\n    }\n  }\n  async function loadApplication() {\n    setLoading(true);\n    setError(null);\n    try {\n      const [appRes, historyRes, docsRes, messagesRes] = await Promise.all([api.get(`/api/applications/${id}/`), api.get(`/api/applications/${id}/status_history/`).catch(() => ({\n        data: []\n      })), api.get(`/api/applications/${id}/documents/`).catch(() => ({\n        data: []\n      })), api.get(`/api/messages/?application=${id}`).catch(() => ({\n        data: []\n      }))]);\n      setApplication(appRes.data);\n      setStatusHistory(historyRes.data || []);\n      setDocuments(docsRes.data || []);\n      setMessages(messagesRes.data || []);\n\n      // Load underwriting if lender\n      if (role === 'Lender') {\n        loadUnderwriting();\n      }\n    } catch (err) {\n      console.error('ApplicationDetail loadApplication error:', err);\n      setError('Failed to load application details');\n    } finally {\n      setLoading(false);\n    }\n  }\n  async function handleDocumentUpload(files) {\n    if (!files || files.length === 0) return;\n    setUploadingDoc(true);\n    const formData = new FormData();\n    Array.from(files).forEach(file => {\n      formData.append('files', file);\n    });\n    formData.append('description', docUploadForm.description);\n    if (docUploadForm.document_type_id) {\n      formData.append('document_type_id', docUploadForm.document_type_id);\n    }\n    formData.append('is_required', docUploadForm.is_required);\n    try {\n      await api.post(`/api/applications/${id}/documents/`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      await loadApplication();\n      await loadUnderwriting();\n      setDocUploadForm({\n        description: '',\n        document_type_id: '',\n        is_required: false\n      });\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      console.error('Document upload error:', err);\n      alert('Failed to upload document: ' + (((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.error) || err.message));\n    } finally {\n      setUploadingDoc(false);\n    }\n  }\n  function handleDrag(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.type === 'dragenter' || e.type === 'dragover') {\n      setDragActive(true);\n    } else if (e.type === 'dragleave') {\n      setDragActive(false);\n    }\n  }\n  function handleDrop(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(false);\n    if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\n      handleDocumentUpload(e.dataTransfer.files);\n    }\n  }\n  const handleViewDocument = async docId => {\n    try {\n      const response = await api.get(`/api/applications/${id}/documents/${docId}/view/`, {\n        responseType: 'blob'\n      });\n\n      // Create a blob URL and open in new tab\n      const blob = new Blob([response.data], {\n        type: response.headers['content-type'] || 'application/pdf'\n      });\n      const url = window.URL.createObjectURL(blob);\n      window.open(url, '_blank');\n\n      // Clean up the URL after a delay\n      setTimeout(() => window.URL.revokeObjectURL(url), 100);\n    } catch (err) {\n      var _err$response3, _err$response3$data;\n      console.error('Failed to view document:', err);\n      alert('Failed to view document: ' + (((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.error) || err.message));\n    }\n  };\n  const handleDownloadDocument = async (docId, fileName) => {\n    try {\n      const response = await api.get(`/api/applications/${id}/documents/${docId}/download/`, {\n        responseType: 'blob'\n      });\n\n      // Create a blob and trigger download\n      const blob = new Blob([response.data], {\n        type: response.headers['content-type'] || 'application/octet-stream'\n      });\n      const url = window.URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = fileName || 'document';\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      window.URL.revokeObjectURL(url);\n    } catch (err) {\n      var _err$response4, _err$response4$data;\n      console.error('Failed to download document:', err);\n      alert('Failed to download document: ' + (((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.error) || err.message));\n    }\n  };\n\n  // Action handlers for Application Review\n  const handleAccept = async () => {\n    if (!window.confirm('Are you sure you want to accept this application? This will create a deal.')) {\n      return;\n    }\n    setProcessingAction('accept');\n    try {\n      await api.post(`/api/applications/${id}/update_status/`, {\n        status: 'accepted',\n        status_feedback: 'Application accepted by lender'\n      });\n      await loadApplication();\n      alert('Application accepted. Deal will be created.');\n    } catch (err) {\n      var _err$response5, _err$response5$data;\n      console.error('Failed to accept application:', err);\n      alert('Failed to accept application: ' + (((_err$response5 = err.response) === null || _err$response5 === void 0 ? void 0 : (_err$response5$data = _err$response5.data) === null || _err$response5$data === void 0 ? void 0 : _err$response5$data.error) || err.message));\n    } finally {\n      setProcessingAction(null);\n    }\n  };\n  const handleDecline = async () => {\n    const reason = window.prompt('Please provide a reason for declining this application:');\n    if (!reason) return;\n    setProcessingAction('decline');\n    try {\n      await api.post(`/api/applications/${id}/update_status/`, {\n        status: 'declined',\n        status_feedback: reason\n      });\n      await loadApplication();\n      alert('Application declined.');\n    } catch (err) {\n      var _err$response6, _err$response6$data;\n      console.error('Failed to decline application:', err);\n      alert('Failed to decline application: ' + (((_err$response6 = err.response) === null || _err$response6 === void 0 ? void 0 : (_err$response6$data = _err$response6.data) === null || _err$response6$data === void 0 ? void 0 : _err$response6$data.error) || err.message));\n    } finally {\n      setProcessingAction(null);\n    }\n  };\n  const handleRequestInfo = () => {\n    // For now, navigate to documents tab\n    // In Chunk 3, this will open a request builder modal\n    setActiveTab('documents');\n  };\n  const getStatusBadge = status => {\n    const statusMap = {\n      submitted: {\n        variant: 'info',\n        label: 'Submitted'\n      },\n      opened: {\n        variant: 'info',\n        label: 'Opened'\n      },\n      under_review: {\n        variant: 'warning',\n        label: 'Under Review'\n      },\n      further_info_required: {\n        variant: 'warning',\n        label: 'Further Info Required'\n      },\n      credit_check: {\n        variant: 'info',\n        label: 'Credit Check'\n      },\n      approved: {\n        variant: 'success',\n        label: 'Approved'\n      },\n      accepted: {\n        variant: 'success',\n        label: 'Accepted'\n      },\n      declined: {\n        variant: 'error',\n        label: 'Declined'\n      },\n      withdrawn: {\n        variant: 'info',\n        label: 'Withdrawn'\n      },\n      completed: {\n        variant: 'success',\n        label: 'Completed'\n      }\n    };\n    const statusInfo = statusMap[status] || {\n      variant: 'info',\n      label: status\n    };\n    return /*#__PURE__*/_jsxDEV(Badge, {\n      variant: statusInfo.variant,\n      children: statusInfo.label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 12\n    }, this);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: commonStyles.container,\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          textAlign: 'center',\n          color: theme.colors.textSecondary\n        },\n        children: \"Loading application...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }, this);\n  }\n  if (error || !application) {\n    const backPath = role === 'Borrower' ? '/borrower/applications' : '/lender/applications';\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: commonStyles.container,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          ...commonStyles.card,\n          background: theme.colors.errorLight,\n          color: theme.colors.errorDark,\n          padding: theme.spacing.lg\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: error || 'Application not found'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => navigate(backPath),\n          variant: \"primary\",\n          children: \"Back to Applications\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 7\n    }, this);\n  }\n  const backPath = role === 'Borrower' ? '/borrower/applications' : '/lender/applications';\n\n  // Lender-specific Application Review tabs\n  const lenderTabs = [{\n    id: 'overview',\n    label: 'Overview'\n  }, {\n    id: 'company',\n    label: 'Company'\n  }, {\n    id: 'applicants',\n    label: 'Applicants'\n  }, {\n    id: 'documents',\n    label: `Documents (${documents.length})`\n  }, {\n    id: 'underwriter-report',\n    label: \"Underwriter's Report\"\n  }, {\n    id: 'playbook',\n    label: 'Playbook'\n  }];\n\n  // Borrower/General tabs\n  const borrowerTabs = [{\n    id: 'overview',\n    label: 'Overview'\n  }, {\n    id: 'messages',\n    label: `Messages (${messages.length})`\n  }, {\n    id: 'documents',\n    label: `Documents (${documents.length})`\n  }, {\n    id: 'underwriter-report',\n    label: \"Underwriter's Report\"\n  }, {\n    id: 'progress',\n    label: 'Progress'\n  }];\n  const tabs = isLender && (application === null || application === void 0 ? void 0 : application.status) !== 'accepted' ? lenderTabs : borrowerTabs;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: commonStyles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: theme.spacing.lg,\n        display: 'flex',\n        alignItems: 'center',\n        gap: theme.spacing.md\n      },\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => navigate(backPath),\n        variant: \"outline\",\n        children: \"\\u2190 Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          margin: 0,\n          fontSize: theme.typography.fontSize['3xl'],\n          fontWeight: theme.typography.fontWeight.bold\n        },\n        children: [\"Application #\", application.id]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 9\n      }, this), getStatusBadge(application.status)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: theme.spacing.sm,\n        borderBottom: `2px solid ${theme.colors.gray200}`,\n        marginBottom: theme.spacing.xl\n      },\n      children: tabs.map(tab => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setActiveTab(tab.id),\n        style: {\n          padding: `${theme.spacing.md} ${theme.spacing.lg}`,\n          background: 'transparent',\n          border: 'none',\n          borderBottom: activeTab === tab.id ? `3px solid ${theme.colors.primary}` : '3px solid transparent',\n          color: activeTab === tab.id ? theme.colors.primary : theme.colors.textSecondary,\n          fontWeight: activeTab === tab.id ? theme.typography.fontWeight.semibold : theme.typography.fontWeight.normal,\n          cursor: 'pointer',\n          fontSize: theme.typography.fontSize.base,\n          transition: 'all 0.2s'\n        },\n        children: tab.label\n      }, tab.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 7\n    }, this), activeTab === 'overview' && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'grid',\n        gridTemplateColumns: '2fr 1fr',\n        gap: theme.spacing.xl\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            ...commonStyles.card,\n            marginBottom: theme.spacing.lg\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              margin: `0 0 ${theme.spacing.lg} 0`,\n              fontSize: theme.typography.fontSize['2xl']\n            },\n            children: \"Application Terms\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gridTemplateColumns: '1fr 1fr',\n              gap: theme.spacing.md\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: `${theme.spacing.xs} 0`,\n                  color: theme.colors.textSecondary\n                },\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Loan Amount:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 0,\n                  fontSize: theme.typography.fontSize.lg,\n                  fontWeight: theme.typography.fontWeight.semibold\n                },\n                children: [\"\\xA3\", parseFloat(application.proposed_loan_amount || 0).toLocaleString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: `${theme.spacing.xs} 0`,\n                  color: theme.colors.textSecondary\n                },\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Interest Rate:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 0,\n                  fontSize: theme.typography.fontSize.lg,\n                  fontWeight: theme.typography.fontWeight.semibold\n                },\n                children: application.proposed_interest_rate ? `${application.proposed_interest_rate}%` : 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: `${theme.spacing.xs} 0`,\n                  color: theme.colors.textSecondary\n                },\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Term:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 398,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 0\n                },\n                children: [application.proposed_term_months, \" months\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: `${theme.spacing.xs} 0`,\n                  color: theme.colors.textSecondary\n                },\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"LTV Ratio:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 0\n                },\n                children: application.proposed_ltv_ratio ? `${application.proposed_ltv_ratio}%` : 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 15\n          }, this), application.notes && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: theme.spacing.lg\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: `${theme.spacing.xs} 0`,\n                color: theme.colors.textSecondary\n              },\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Notes:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 414,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: 0,\n                lineHeight: theme.typography.lineHeight.relaxed\n              },\n              children: application.notes\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 13\n        }, this), application.project_details && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            ...commonStyles.card,\n            marginBottom: theme.spacing.lg\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: `0 0 ${theme.spacing.lg} 0`\n            },\n            children: \"Project Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gridTemplateColumns: '1fr 1fr',\n              gap: theme.spacing.md\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: `${theme.spacing.xs} 0`,\n                  color: theme.colors.textSecondary\n                },\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Address:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 430,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 429,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 0\n                },\n                children: [application.project_details.address, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 433,\n                  columnNumber: 60\n                }, this), application.project_details.town, \", \", application.project_details.county, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 434,\n                  columnNumber: 95\n                }, this), application.project_details.postcode]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: `${theme.spacing.xs} 0`,\n                  color: theme.colors.textSecondary\n                },\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Funding Type:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 440,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 0\n                },\n                children: application.project_details.funding_type\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: `${theme.spacing.md} 0 ${theme.spacing.xs}`,\n                  color: theme.colors.textSecondary\n                },\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Property Type:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 444,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 0\n                },\n                children: application.project_details.property_type\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 446,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 17\n          }, this), application.project_details.project_reference && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: theme.spacing.md\n            },\n            children: /*#__PURE__*/_jsxDEV(Badge, {\n              variant: \"info\",\n              children: [\"Project Reference: \", application.project_details.project_reference]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 451,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 15\n        }, this), role === 'Lender' && application.borrower_details && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: commonStyles.card,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: `0 0 ${theme.spacing.lg} 0`\n            },\n            children: \"Borrower Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gridTemplateColumns: '1fr 1fr',\n              gap: theme.spacing.md\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: `${theme.spacing.xs} 0`,\n                  color: theme.colors.textSecondary\n                },\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Company Name:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 466,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 465,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 0\n                },\n                children: application.borrower_details.company_name || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 468,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: `${theme.spacing.xs} 0`,\n                  color: theme.colors.textSecondary\n                },\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Contact:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 472,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 0\n                },\n                children: application.borrower_details.user_email || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 474,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 17\n          }, this), application.borrower_details.charges_summary && application.borrower_details.charges_summary.total_charges > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: theme.spacing.lg,\n              paddingTop: theme.spacing.lg,\n              borderTop: `1px solid ${theme.colors.gray200}`\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              style: {\n                fontSize: theme.typography.fontSize.lg,\n                fontWeight: theme.typography.fontWeight.semibold,\n                marginBottom: theme.spacing.md\n              },\n              children: \"Company Charges\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'grid',\n                gridTemplateColumns: 'repeat(auto-fit, minmax(150px, 1fr))',\n                gap: theme.spacing.md,\n                marginBottom: theme.spacing.md\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    margin: 0,\n                    fontSize: theme.typography.fontSize.sm,\n                    color: theme.colors.textSecondary\n                  },\n                  children: \"Total Charges\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 490,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    margin: 0,\n                    fontSize: theme.typography.fontSize.lg,\n                    fontWeight: theme.typography.fontWeight.semibold\n                  },\n                  children: application.borrower_details.charges_summary.total_charges || 0\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 491,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 489,\n                columnNumber: 23\n              }, this), application.borrower_details.charges_summary.active_charges > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    margin: 0,\n                    fontSize: theme.typography.fontSize.sm,\n                    color: theme.colors.textSecondary\n                  },\n                  children: \"Active Charges\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 497,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    margin: 0,\n                    fontSize: theme.typography.fontSize.lg,\n                    fontWeight: theme.typography.fontWeight.semibold,\n                    color: theme.colors.warning\n                  },\n                  children: application.borrower_details.charges_summary.active_charges || 0\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 498,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 496,\n                columnNumber: 25\n              }, this), application.borrower_details.charges_summary.satisfied_charges > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    margin: 0,\n                    fontSize: theme.typography.fontSize.sm,\n                    color: theme.colors.textSecondary\n                  },\n                  children: \"Satisfied Charges\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 505,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    margin: 0,\n                    fontSize: theme.typography.fontSize.lg,\n                    fontWeight: theme.typography.fontWeight.semibold,\n                    color: theme.colors.success\n                  },\n                  children: application.borrower_details.charges_summary.satisfied_charges || 0\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 506,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 504,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 488,\n              columnNumber: 21\n            }, this), ((_application$borrower = application.borrower_details.charges_summary.charges_summary) === null || _application$borrower === void 0 ? void 0 : _application$borrower.active) && application.borrower_details.charges_summary.charges_summary.active.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: theme.spacing.md\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                style: {\n                  fontSize: theme.typography.fontSize.base,\n                  fontWeight: theme.typography.fontWeight.semibold,\n                  marginBottom: theme.spacing.sm,\n                  color: theme.colors.warning\n                },\n                children: \"Active Charges Details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 514,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'grid',\n                  gap: theme.spacing.sm\n                },\n                children: application.borrower_details.charges_summary.charges_summary.active.slice(0, 5).map((charge, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    padding: theme.spacing.md,\n                    background: theme.colors.warningLight,\n                    borderRadius: theme.borderRadius.md,\n                    borderLeft: `4px solid ${theme.colors.warning}`\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: 'flex',\n                      justifyContent: 'space-between',\n                      alignItems: 'start'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        style: {\n                          margin: 0,\n                          fontWeight: theme.typography.fontWeight.semibold\n                        },\n                        children: charge.charge_code || charge.charge_number || `Charge ${idx + 1}`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 532,\n                        columnNumber: 35\n                      }, this), charge.created_on && /*#__PURE__*/_jsxDEV(\"p\", {\n                        style: {\n                          margin: `${theme.spacing.xs} 0 0 0`,\n                          fontSize: theme.typography.fontSize.sm,\n                          color: theme.colors.textSecondary\n                        },\n                        children: [\"Created: \", new Date(charge.created_on).toLocaleDateString('en-GB')]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 536,\n                        columnNumber: 37\n                      }, this), charge.persons_entitled && charge.persons_entitled.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                        style: {\n                          margin: `${theme.spacing.xs} 0 0 0`,\n                          fontSize: theme.typography.fontSize.sm\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                          children: \"Charged to:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 542,\n                          columnNumber: 39\n                        }, this), \" \", charge.persons_entitled.map(p => p.name).join(', ')]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 541,\n                        columnNumber: 37\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 531,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                      variant: \"warning\",\n                      children: \"Active\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 546,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 530,\n                    columnNumber: 31\n                  }, this)\n                }, idx, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 524,\n                  columnNumber: 29\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 522,\n                columnNumber: 25\n              }, this), application.borrower_details.charges_summary.charges_summary.active.length > 5 && /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: `${theme.spacing.sm} 0 0 0`,\n                  fontSize: theme.typography.fontSize.sm,\n                  color: theme.colors.textSecondary,\n                  fontStyle: 'italic'\n                },\n                children: [\"... and \", application.borrower_details.charges_summary.charges_summary.active.length - 5, \" more active charge(s)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 552,\n                columnNumber: 27\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 513,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 15\n        }, this), role === 'Borrower' && application.lender_details && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: commonStyles.card,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: `0 0 ${theme.spacing.lg} 0`\n            },\n            children: \"Lender Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 570,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gridTemplateColumns: '1fr 1fr',\n              gap: theme.spacing.md\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: `${theme.spacing.xs} 0`,\n                  color: theme.colors.textSecondary\n                },\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Organisation:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 574,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 573,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 0\n                },\n                children: application.lender_details.organisation_name || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 576,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 572,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: `${theme.spacing.xs} 0`,\n                  color: theme.colors.textSecondary\n                },\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Contact:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 580,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 579,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 0\n                },\n                children: application.lender_details.contact_email || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 582,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 578,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 571,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 569,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [isLender && (application === null || application === void 0 ? void 0 : application.status) !== 'accepted' && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            ...commonStyles.card,\n            marginBottom: theme.spacing.lg\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: `0 0 ${theme.spacing.lg} 0`\n            },\n            children: \"Validation Checklist\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 594,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: theme.spacing.lg\n            },\n            children: [{\n              id: 'company_verified',\n              label: 'Company Information Verified',\n              checked: !!((_application$borrower2 = application.borrower_details) !== null && _application$borrower2 !== void 0 && _application$borrower2.company_data)\n            }, {\n              id: 'applicants_provided',\n              label: 'Applicants Information Provided',\n              checked: ((_application$borrower3 = application.borrower_details) === null || _application$borrower3 === void 0 ? void 0 : (_application$borrower4 = _application$borrower3.applicants_data) === null || _application$borrower4 === void 0 ? void 0 : _application$borrower4.length) > 0\n            }, {\n              id: 'underwriter_report',\n              label: 'Underwriter Report Generated',\n              checked: (underwriting === null || underwriting === void 0 ? void 0 : underwriting.status) === 'ready'\n            }, {\n              id: 'documents_reviewed',\n              label: 'Key Documents Reviewed',\n              checked: documents.length > 0\n            }].map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginBottom: theme.spacing.sm,\n                display: 'flex',\n                alignItems: 'center',\n                gap: theme.spacing.sm\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: item.checked,\n                disabled: true,\n                style: {\n                  width: '18px',\n                  height: '18px',\n                  cursor: 'not-allowed',\n                  accentColor: item.checked ? theme.colors.success : theme.colors.gray300\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 603,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  fontSize: theme.typography.fontSize.sm,\n                  color: item.checked ? theme.colors.textPrimary : theme.colors.textSecondary,\n                  textDecoration: item.checked ? 'none' : 'none',\n                  cursor: 'default'\n                },\n                children: item.label\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 614,\n                columnNumber: 23\n              }, this)]\n            }, item.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 602,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 595,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              borderTop: `1px solid ${theme.colors.gray200}`,\n              paddingTop: theme.spacing.lg\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              style: {\n                margin: `0 0 ${theme.spacing.md} 0`,\n                fontSize: theme.typography.fontSize.base,\n                fontWeight: theme.typography.fontWeight.semibold\n              },\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 626,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                flexDirection: 'column',\n                gap: theme.spacing.sm\n              },\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outline\",\n                style: {\n                  width: '100%'\n                },\n                onClick: handleRequestInfo,\n                disabled: !!processingAction,\n                children: \"Request Info\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 630,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"success\",\n                style: {\n                  width: '100%'\n                },\n                onClick: handleAccept,\n                loading: processingAction === 'accept',\n                disabled: !!processingAction,\n                children: \"Accept Application\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 638,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"danger\",\n                style: {\n                  width: '100%'\n                },\n                onClick: handleDecline,\n                loading: processingAction === 'decline',\n                disabled: !!processingAction,\n                children: \"Decline Application\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 647,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 629,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 625,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 593,\n          columnNumber: 15\n        }, this), isLender && (application === null || application === void 0 ? void 0 : application.status) === 'accepted' && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            ...commonStyles.card,\n            marginBottom: theme.spacing.lg\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: `0 0 ${theme.spacing.lg} 0`\n            },\n            children: \"Update Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 664,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: theme.spacing.md\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                display: 'block',\n                marginBottom: theme.spacing.xs,\n                fontWeight: theme.typography.fontWeight.medium\n              },\n              children: \"New Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 666,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: statusUpdateForm.status,\n              onChange: e => setStatusUpdateForm({\n                ...statusUpdateForm,\n                status: e.target.value\n              }),\n              style: {\n                width: '100%'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select status...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 678,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"opened\",\n                children: \"Opened\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 679,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"under_review\",\n                children: \"Under Review\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 680,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"further_info_required\",\n                children: \"Further Information Required\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 681,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"credit_check\",\n                children: \"Credit Check/Underwriting\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 682,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"approved\",\n                children: \"Approved\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 683,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"accepted\",\n                children: \"Accepted\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 684,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"declined\",\n                children: \"Declined\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 685,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"withdrawn\",\n                children: \"Withdrawn\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 686,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"completed\",\n                children: \"Completed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 687,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 673,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 665,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: theme.spacing.md\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                display: 'block',\n                marginBottom: theme.spacing.xs,\n                fontWeight: theme.typography.fontWeight.medium\n              },\n              children: \"Feedback/Notes (optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 691,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n              value: statusUpdateForm.feedback,\n              onChange: e => setStatusUpdateForm({\n                ...statusUpdateForm,\n                feedback: e.target.value\n              }),\n              placeholder: \"Add feedback or notes about this status change...\",\n              rows: 3\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 698,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 690,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            style: {\n              width: '100%'\n            },\n            onClick: async () => {\n              if (!statusUpdateForm.status) {\n                alert('Please select a status');\n                return;\n              }\n              setUpdatingStatus(true);\n              try {\n                await api.post(`/api/applications/${id}/update_status/`, {\n                  status: statusUpdateForm.status,\n                  feedback: statusUpdateForm.feedback\n                });\n                await loadApplication();\n                setStatusUpdateForm({\n                  status: '',\n                  feedback: ''\n                });\n              } catch (err) {\n                var _err$response7, _err$response7$data;\n                console.error('Status update error:', err);\n                alert('Failed to update status: ' + (((_err$response7 = err.response) === null || _err$response7 === void 0 ? void 0 : (_err$response7$data = _err$response7.data) === null || _err$response7$data === void 0 ? void 0 : _err$response7$data.error) || err.message));\n              } finally {\n                setUpdatingStatus(false);\n              }\n            },\n            disabled: updatingStatus || !statusUpdateForm.status,\n            children: updatingStatus ? 'Updating...' : 'Update Status'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 705,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 663,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: commonStyles.card,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: `0 0 ${theme.spacing.lg} 0`\n            },\n            children: \"Quick Actions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 736,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: theme.spacing.md\n            },\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: `/${role.toLowerCase()}/messages?application_id=${application.id}`,\n              style: {\n                textDecoration: 'none'\n              },\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"primary\",\n                style: {\n                  width: '100%'\n                },\n                children: [\"Message \", role === 'Borrower' ? 'Lender' : 'Borrower']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 742,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 738,\n              columnNumber: 17\n            }, this), isLender && application.status === 'accepted' && application.borrower_consent_given && /*#__PURE__*/_jsxDEV(Link, {\n              to: `/lender/applications/${application.id}/borrower-info`,\n              style: {\n                textDecoration: 'none'\n              },\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"secondary\",\n                style: {\n                  width: '100%'\n                },\n                children: \"\\uD83D\\uDCCB View Borrower Information\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 753,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 749,\n              columnNumber: 19\n            }, this), isBorrower && application.status === 'accepted' && !application.borrower_consent_given && /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              style: {\n                width: '100%'\n              },\n              onClick: async () => {\n                setGivingConsent(true);\n                try {\n                  await api.post(`/api/applications/${id}/give_consent/`);\n                  await loadApplication();\n                  alert('Consent given successfully. The lender can now view your information.');\n                } catch (err) {\n                  var _err$response8, _err$response8$data;\n                  console.error('Failed to give consent:', err);\n                  alert('Failed to give consent: ' + (((_err$response8 = err.response) === null || _err$response8 === void 0 ? void 0 : (_err$response8$data = _err$response8.data) === null || _err$response8$data === void 0 ? void 0 : _err$response8$data.error) || err.message));\n                } finally {\n                  setGivingConsent(false);\n                }\n              },\n              disabled: givingConsent,\n              children: givingConsent ? 'Processing...' : ' Give Consent to Share Information'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 761,\n              columnNumber: 19\n            }, this), isBorrower && application.status === 'accepted' && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: theme.spacing.md,\n                background: application.borrower_consent_given ? theme.colors.successLight : theme.colors.warningLight,\n                borderRadius: theme.borderRadius.md,\n                fontSize: theme.typography.fontSize.sm\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 0,\n                  fontWeight: theme.typography.fontWeight.semibold\n                },\n                children: application.borrower_consent_given ? ' Consent Given' : ' Consent Required'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 791,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: `${theme.spacing.xs} 0 0`,\n                  fontSize: theme.typography.fontSize.xs\n                },\n                children: application.borrower_consent_given ? 'Lender can view your information' : 'Give consent to allow lender to view your information'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 794,\n                columnNumber: 21\n              }, this), application.borrower_consent_given && application.borrower_consent_given_at && /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: `${theme.spacing.xs} 0 0`,\n                  fontSize: theme.typography.fontSize.xs,\n                  color: theme.colors.textMuted\n                },\n                children: [\"Given on \", new Date(application.borrower_consent_given_at).toLocaleDateString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 800,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 785,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 737,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 735,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 590,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 9\n    }, this), activeTab === 'messages' && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: commonStyles.card,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          margin: `0 0 ${theme.spacing.lg} 0`\n        },\n        children: \"Messages\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 814,\n        columnNumber: 11\n      }, this), messages.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: theme.colors.textSecondary\n        },\n        children: \"No messages yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 816,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          flexDirection: 'column',\n          gap: theme.spacing.md\n        },\n        children: messages.map(msg => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: theme.spacing.md,\n            background: msg.sender === role ? theme.colors.primaryLight : theme.colors.gray50,\n            borderRadius: theme.borderRadius.md\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'space-between',\n              marginBottom: theme.spacing.xs\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: msg.sender_username || 'Unknown'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 826,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontSize: theme.typography.fontSize.sm,\n                color: theme.colors.textSecondary\n              },\n              children: new Date(msg.created_at).toLocaleString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 827,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 825,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: 0\n            },\n            children: msg.body\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 831,\n            columnNumber: 19\n          }, this)]\n        }, msg.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 820,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 818,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: theme.spacing.lg\n        },\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: `/${role.toLowerCase()}/messages?application_id=${application.id}`,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            children: \"Go to Messages\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 838,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 837,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 836,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 813,\n      columnNumber: 9\n    }, this), activeTab === 'documents' && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [isLender && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          ...commonStyles.card,\n          marginBottom: theme.spacing.lg\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginBottom: theme.spacing.md\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              margin: 0\n            },\n            children: \"AI Underwriting Report\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 850,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            size: \"sm\",\n            onClick: async () => {\n              try {\n                setLoading(true);\n                const res = await api.post('/api/underwriting/reports/generate/', {\n                  project_id: application.project,\n                  report_type: 'lender'\n                });\n                await loadUnderwriting();\n                alert('Underwriting report generated successfully!');\n              } catch (err) {\n                var _err$response9, _err$response9$data;\n                console.error('Failed to generate report:', err);\n                alert('Failed to generate report: ' + (((_err$response9 = err.response) === null || _err$response9 === void 0 ? void 0 : (_err$response9$data = _err$response9.data) === null || _err$response9$data === void 0 ? void 0 : _err$response9$data.detail) || err.message));\n              } finally {\n                setLoading(false);\n              }\n            },\n            disabled: loading,\n            children: \"Generate Report\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 851,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 849,\n          columnNumber: 15\n        }, this), underwriting ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gridTemplateColumns: '1fr 1fr 1fr',\n              gap: theme.spacing.md,\n              marginBottom: theme.spacing.md\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 0,\n                  fontSize: theme.typography.fontSize.sm,\n                  color: theme.colors.textSecondary\n                },\n                children: \"Risk Score\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 879,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 0,\n                  fontSize: theme.typography.fontSize['2xl'],\n                  fontWeight: theme.typography.fontWeight.bold\n                },\n                children: underwriting.risk_score || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 880,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 878,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 0,\n                  fontSize: theme.typography.fontSize.sm,\n                  color: theme.colors.textSecondary\n                },\n                children: \"Recommendation\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 885,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                variant: underwriting.recommendation === 'approve' ? 'success' : underwriting.recommendation === 'decline' ? 'error' : 'warning',\n                children: underwriting.recommendation || 'Pending'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 886,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 884,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 0,\n                  fontSize: theme.typography.fontSize.sm,\n                  color: theme.colors.textSecondary\n                },\n                children: \"Documents Valid\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 891,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 0,\n                  fontSize: theme.typography.fontSize.lg\n                },\n                children: [underwriting.documents_valid || 0, \" / \", underwriting.documents_analyzed || 0]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 892,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 890,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 877,\n            columnNumber: 19\n          }, this), underwriting.summary && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: theme.spacing.md,\n              background: theme.colors.gray50,\n              borderRadius: theme.borderRadius.md,\n              marginTop: theme.spacing.md\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                margin: `0 0 ${theme.spacing.sm} 0`,\n                fontSize: theme.typography.fontSize.lg\n              },\n              children: \"Report Summary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 904,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: 0,\n                fontSize: theme.typography.fontSize.sm,\n                whiteSpace: 'pre-wrap'\n              },\n              children: underwriting.summary\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 905,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 898,\n            columnNumber: 21\n          }, this), underwriting.content && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: theme.spacing.md,\n              background: theme.colors.gray50,\n              borderRadius: theme.borderRadius.md,\n              marginTop: theme.spacing.md,\n              maxHeight: '400px',\n              overflowY: 'auto'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                margin: `0 0 ${theme.spacing.sm} 0`,\n                fontSize: theme.typography.fontSize.lg\n              },\n              children: \"Full Report\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 919,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: theme.typography.fontSize.sm,\n                whiteSpace: 'pre-wrap'\n              },\n              children: underwriting.content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 920,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 911,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 876,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: theme.colors.textSecondary,\n            textAlign: 'center',\n            padding: theme.spacing.lg\n          },\n          children: \"No underwriting report available. Click \\\"Generate Report\\\" to create one.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 927,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 848,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          ...commonStyles.card,\n          marginBottom: theme.spacing.lg\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            margin: `0 0 ${theme.spacing.lg} 0`\n          },\n          children: \"Upload Documents\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 935,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: theme.colors.textSecondary,\n            marginBottom: theme.spacing.lg\n          },\n          children: \"Upload required documents for your loan application. Documents will be automatically validated and assessed.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 936,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          onDragEnter: handleDrag,\n          onDragLeave: handleDrag,\n          onDragOver: handleDrag,\n          onDrop: handleDrop,\n          style: {\n            marginBottom: theme.spacing.lg,\n            padding: theme.spacing.xl,\n            border: `2px dashed ${dragActive ? theme.colors.primary : theme.colors.gray300}`,\n            borderRadius: theme.borderRadius.md,\n            textAlign: 'center',\n            background: dragActive ? theme.colors.primaryLight : theme.colors.gray50,\n            cursor: 'pointer',\n            transition: 'all 0.2s'\n          },\n          onClick: () => document.getElementById('file-upload').click(),\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"file-upload\",\n            type: \"file\",\n            multiple: true,\n            style: {\n              display: 'none'\n            },\n            onChange: e => handleDocumentUpload(e.target.files)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 958,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '48px',\n              marginBottom: theme.spacing.sm\n            },\n            children: \"\\uD83D\\uDCCE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 965,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: 0,\n              fontSize: theme.typography.fontSize.lg,\n              fontWeight: theme.typography.fontWeight.semibold,\n              marginBottom: theme.spacing.xs\n            },\n            children: \"Drag and drop files here\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 966,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: 0,\n              color: theme.colors.textSecondary\n            },\n            children: \"or click to browse \\u2022 PDF, Images, Word, Excel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 969,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 941,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: '1fr 1fr',\n            gap: theme.spacing.md,\n            marginBottom: theme.spacing.md\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                display: 'block',\n                marginBottom: theme.spacing.xs,\n                fontWeight: theme.typography.fontWeight.medium\n              },\n              children: \"Document Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 976,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: docUploadForm.document_type_id,\n              onChange: e => setDocUploadForm({\n                ...docUploadForm,\n                document_type_id: e.target.value\n              }),\n              style: {\n                width: '100%',\n                padding: theme.spacing.sm,\n                border: `1px solid ${theme.colors.gray300}`,\n                borderRadius: theme.borderRadius.md,\n                fontSize: theme.typography.fontSize.base,\n                fontFamily: theme.typography.fontFamily,\n                backgroundColor: theme.colors.white\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select document type...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 992,\n                columnNumber: 19\n              }, this), documentTypes.map(dt => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: dt.id,\n                children: [dt.name, \" \", dt.is_required && '(Required)']\n              }, dt.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 994,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 979,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 975,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                display: 'block',\n                marginBottom: theme.spacing.xs,\n                fontWeight: theme.typography.fontWeight.medium\n              },\n              children: \"Description (Optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1001,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              name: \"description\",\n              value: docUploadForm.description,\n              onChange: e => setDocUploadForm({\n                ...docUploadForm,\n                description: e.target.value\n              }),\n              placeholder: \"e.g., Q1 2024 Bank Statement\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1004,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1000,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 974,\n          columnNumber: 13\n        }, this), uploadingDoc && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: theme.spacing.md,\n            background: theme.colors.infoLight,\n            borderRadius: theme.borderRadius.md,\n            marginBottom: theme.spacing.md\n          },\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: 0,\n              color: theme.colors.info\n            },\n            children: \"\\u23F3 Uploading and validating documents...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1015,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1014,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 934,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: commonStyles.card,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: `0 0 ${theme.spacing.lg} 0`\n          },\n          children: [\"Uploaded Documents (\", documents.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1024,\n          columnNumber: 13\n        }, this), documents.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center',\n            padding: theme.spacing.xl\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: theme.colors.textSecondary,\n              marginBottom: theme.spacing.md\n            },\n            children: \"No documents uploaded yet.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1027,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: theme.colors.textMuted,\n              fontSize: theme.typography.fontSize.sm\n            },\n            children: \"Required documents: Passport/ID, Utility Bill, Bank Statements, Company Accounts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1030,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1026,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            flexDirection: 'column',\n            gap: theme.spacing.md\n          },\n          children: documents.map(doc => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: theme.spacing.md,\n              border: `1px solid ${theme.colors.gray200}`,\n              borderRadius: theme.borderRadius.md,\n              background: doc.validation_status === 'valid' ? theme.colors.successLight : doc.validation_status === 'invalid' ? theme.colors.errorLight : theme.colors.gray50\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'flex-start',\n                marginBottom: theme.spacing.sm\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  flex: 1\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: theme.spacing.sm,\n                    marginBottom: theme.spacing.xs\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      margin: 0,\n                      fontWeight: theme.typography.fontWeight.semibold\n                    },\n                    children: doc.file_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1048,\n                    columnNumber: 27\n                  }, this), doc.document_type && /*#__PURE__*/_jsxDEV(Badge, {\n                    variant: \"info\",\n                    style: {\n                      fontSize: theme.typography.fontSize.xs\n                    },\n                    children: doc.document_type\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1052,\n                    columnNumber: 29\n                  }, this), doc.is_required && /*#__PURE__*/_jsxDEV(Badge, {\n                    variant: \"warning\",\n                    style: {\n                      fontSize: theme.typography.fontSize.xs\n                    },\n                    children: \"Required\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1057,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1047,\n                  columnNumber: 25\n                }, this), doc.description && /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    margin: `${theme.spacing.xs} 0`,\n                    fontSize: theme.typography.fontSize.sm,\n                    color: theme.colors.textSecondary\n                  },\n                  children: doc.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1063,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: 'flex',\n                    gap: theme.spacing.md,\n                    marginTop: theme.spacing.xs\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      fontSize: theme.typography.fontSize.xs,\n                      color: theme.colors.textMuted\n                    },\n                    children: [(doc.file_size / 1024).toFixed(2), \" KB\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1068,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      fontSize: theme.typography.fontSize.xs,\n                      color: theme.colors.textMuted\n                    },\n                    children: [\"Uploaded by \", doc.uploaded_by, \" \\u2022 \", new Date(doc.uploaded_at).toLocaleDateString()]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1071,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1067,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: 'flex',\n                    gap: theme.spacing.sm,\n                    marginTop: theme.spacing.sm\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"outline\",\n                    size: \"sm\",\n                    onClick: () => handleViewDocument(doc.id),\n                    children: \"\\uD83D\\uDC41\\uFE0F View\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1076,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"outline\",\n                    size: \"sm\",\n                    onClick: () => handleDownloadDocument(doc.id, doc.file_name),\n                    children: \"\\u2B07\\uFE0F Download\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1083,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1075,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1046,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  flexDirection: 'column',\n                  alignItems: 'flex-end',\n                  gap: theme.spacing.xs\n                },\n                children: [doc.validation_status && /*#__PURE__*/_jsxDEV(Badge, {\n                  variant: doc.validation_status === 'valid' ? 'success' : doc.validation_status === 'invalid' ? 'error' : 'warning',\n                  children: doc.validation_status === 'valid' ? ' Valid' : doc.validation_status === 'invalid' ? ' Invalid' : ' Validating'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1094,\n                  columnNumber: 27\n                }, this), doc.validation_score !== null && doc.validation_score !== undefined && /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    fontSize: theme.typography.fontSize.xs,\n                    color: theme.colors.textSecondary\n                  },\n                  children: [\"Score: \", doc.validation_score, \"/100\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1103,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1092,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1045,\n              columnNumber: 21\n            }, this), doc.validation_notes && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: theme.spacing.sm,\n                padding: theme.spacing.xs,\n                background: theme.colors.white,\n                borderRadius: theme.borderRadius.sm,\n                fontSize: theme.typography.fontSize.xs,\n                color: theme.colors.textSecondary\n              },\n              children: doc.validation_notes\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1110,\n              columnNumber: 23\n            }, this)]\n          }, doc.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1037,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1035,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1023,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 845,\n      columnNumber: 9\n    }, this), activeTab === 'company' && isLender && (application === null || application === void 0 ? void 0 : application.borrower_details) && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: commonStyles.card,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          margin: `0 0 ${theme.spacing.lg} 0`\n        },\n        children: \"Company Information\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1132,\n        columnNumber: 11\n      }, this), application.borrower_details.company_data ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: '1fr 1fr',\n            gap: theme.spacing.lg,\n            marginBottom: theme.spacing.lg\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: `${theme.spacing.xs} 0`,\n                color: theme.colors.textSecondary\n              },\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Company Name:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1138,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1137,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: 0\n              },\n              children: application.borrower_details.company_data.company_name || application.borrower_details.company_name || 'Not provided'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1140,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1136,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: `${theme.spacing.xs} 0`,\n                color: theme.colors.textSecondary\n              },\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Company Number:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1144,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1143,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: 0\n              },\n              children: application.borrower_details.company_data.company_number || application.borrower_details.registration_number || 'Not provided'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1146,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1142,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: `${theme.spacing.xs} 0`,\n                color: theme.colors.textSecondary\n              },\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Company Status:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1150,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1149,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: 0\n              },\n              children: /*#__PURE__*/_jsxDEV(Badge, {\n                variant: application.borrower_details.company_data.company_status === 'active' ? 'success' : 'warning',\n                children: application.borrower_details.company_data.company_status || 'Not provided'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1153,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1152,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1148,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: `${theme.spacing.xs} 0`,\n                color: theme.colors.textSecondary\n              },\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Incorporation Date:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1160,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1159,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: 0\n              },\n              children: application.borrower_details.company_data.date_of_creation ? new Date(application.borrower_details.company_data.date_of_creation).toLocaleDateString() : 'Not provided'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1162,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1158,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: `${theme.spacing.xs} 0`,\n                color: theme.colors.textSecondary\n              },\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Trading Address:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1166,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1165,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: 0\n              },\n              children: application.borrower_details.trading_address || 'Not provided'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1168,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1164,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: `${theme.spacing.xs} 0`,\n                color: theme.colors.textSecondary\n              },\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Primary Contact:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1172,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1171,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: 0\n              },\n              children: application.borrower_details.primary_contact_email || application.borrower_details.user_email || 'Not provided'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1174,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1170,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1135,\n          columnNumber: 15\n        }, this), application.borrower_details.company_data.sic_codes && application.borrower_details.company_data.sic_codes.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: theme.spacing.lg\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: `${theme.spacing.xs} 0`,\n              color: theme.colors.textSecondary\n            },\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"SIC Codes:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1180,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1179,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              flexWrap: 'wrap',\n              gap: theme.spacing.sm\n            },\n            children: application.borrower_details.company_data.sic_codes.map((code, idx) => /*#__PURE__*/_jsxDEV(Badge, {\n              variant: \"info\",\n              children: code\n            }, idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1184,\n              columnNumber: 23\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1182,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1178,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1134,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: theme.colors.textSecondary\n        },\n        children: \"Company information not available.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1191,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1131,\n      columnNumber: 9\n    }, this), activeTab === 'applicants' && isLender && (application === null || application === void 0 ? void 0 : application.borrower_details) && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: commonStyles.card,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          margin: `0 0 ${theme.spacing.lg} 0`\n        },\n        children: \"Applicants & Guarantors\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1199,\n        columnNumber: 11\n      }, this), application.borrower_details.applicants_data && application.borrower_details.applicants_data.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          flexDirection: 'column',\n          gap: theme.spacing.lg\n        },\n        children: application.borrower_details.applicants_data.map((applicant, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: theme.spacing.lg,\n            border: `1px solid ${theme.colors.gray200}`,\n            borderRadius: theme.borderRadius.md\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'start',\n              marginBottom: theme.spacing.md\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                margin: 0\n              },\n              children: [applicant.first_name, \" \", applicant.last_name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1209,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Badge, {\n              variant: \"info\",\n              children: applicant.role || 'Applicant'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1210,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1208,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gridTemplateColumns: '1fr 1fr',\n              gap: theme.spacing.md\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: `${theme.spacing.xs} 0`,\n                  color: theme.colors.textSecondary\n                },\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Nationality:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1215,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1214,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 0\n                },\n                children: applicant.nationality || 'Not provided'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1217,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1213,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: `${theme.spacing.xs} 0`,\n                  color: theme.colors.textSecondary\n                },\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Employment Status:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1221,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1220,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 0\n                },\n                children: applicant.employment_status || 'Not provided'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1223,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1219,\n              columnNumber: 21\n            }, this), applicant.net_monthly_income && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: `${theme.spacing.xs} 0`,\n                  color: theme.colors.textSecondary\n                },\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Net Monthly Income:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1228,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1227,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 0\n                },\n                children: [\"\\xA3\", parseFloat(applicant.net_monthly_income).toLocaleString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1230,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1226,\n              columnNumber: 23\n            }, this), applicant.occupation && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: `${theme.spacing.xs} 0`,\n                  color: theme.colors.textSecondary\n                },\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Occupation:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1236,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1235,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 0\n                },\n                children: applicant.occupation\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1238,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1234,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1212,\n            columnNumber: 19\n          }, this)]\n        }, idx, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1203,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1201,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: theme.colors.textSecondary\n        },\n        children: \"Applicant information not available.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1246,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1198,\n      columnNumber: 9\n    }, this), activeTab === 'playbook' && isLender && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: commonStyles.card,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          margin: `0 0 ${theme.spacing.lg} 0`\n        },\n        children: \"Product Playbook\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1254,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: theme.colors.textSecondary,\n          marginBottom: theme.spacing.lg\n        },\n        children: \"Playbook functionality will be available in a future update. This will show applied validation rules, document requirements, and checklist status.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1255,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: theme.spacing.lg,\n          background: theme.colors.gray50,\n          borderRadius: theme.borderRadius.md,\n          border: `1px dashed ${theme.colors.gray300}`\n        },\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: 0,\n            color: theme.colors.textSecondary,\n            fontStyle: 'italic'\n          },\n          children: \"Playbook system coming soon. This will integrate product-specific validation checklists, document requirements, CP templates, and default task timelines.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1264,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1258,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1253,\n      columnNumber: 9\n    }, this), activeTab === 'underwriter-report' && /*#__PURE__*/_jsxDEV(UnderwriterReport, {\n      applicationId: id,\n      role: role,\n      isAdmin: role === 'Admin'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1272,\n      columnNumber: 9\n    }, this), activeTab === 'progress' && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: commonStyles.card,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          margin: `0 0 ${theme.spacing.lg} 0`\n        },\n        children: \"Application Progress\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1281,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ApplicationProgress, {\n        application: application,\n        statusHistory: statusHistory\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1282,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1280,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 326,\n    columnNumber: 5\n  }, this);\n}\n_s(ApplicationDetail, \"cW8Vea4GFQ5HHryWMrB8pQRlyOE=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = ApplicationDetail;\nexport default ApplicationDetail;\nvar _c;\n$RefreshReg$(_c, \"ApplicationDetail\");","map":{"version":3,"names":["React","useEffect","useState","useParams","Link","useNavigate","api","theme","commonStyles","Button","Badge","ApplicationProgress","UnderwriterReport","Select","Textarea","Input","Checkbox","jsxDEV","_jsxDEV","ApplicationDetail","_s","_application$borrower","_application$borrower2","_application$borrower3","_application$borrower4","id","navigate","application","setApplication","statusHistory","setStatusHistory","documents","setDocuments","messages","setMessages","activeTab","setActiveTab","loading","setLoading","error","setError","updatingStatus","setUpdatingStatus","uploadingDoc","setUploadingDoc","statusUpdateForm","setStatusUpdateForm","status","feedback","docUploadForm","setDocUploadForm","description","document_type_id","is_required","dragActive","setDragActive","documentTypes","setDocumentTypes","underwriting","setUnderwriting","givingConsent","setGivingConsent","processingAction","setProcessingAction","role","localStorage","getItem","isLender","isBorrower","loadApplication","loadDocumentTypes","loadUnderwriting","res","get","data","err","console","report_json","_reportJson$documents","_reportJson$documents2","_reportJson$documents3","reportJson","executiveSummary","recommendation","riskRating","risk_rating","summary","key_highlights","length","join","plain_text_narrative","substring","plainTextNarrative","content","JSON","stringify","risk_score","toLowerCase","documents_valid","documentsReviewed","filter","d","documents_analyzed","_err$response","log","response","appRes","historyRes","docsRes","messagesRes","Promise","all","catch","handleDocumentUpload","files","formData","FormData","Array","from","forEach","file","append","post","headers","_err$response2","_err$response2$data","alert","message","handleDrag","e","preventDefault","stopPropagation","type","handleDrop","dataTransfer","handleViewDocument","docId","responseType","blob","Blob","url","window","URL","createObjectURL","open","setTimeout","revokeObjectURL","_err$response3","_err$response3$data","handleDownloadDocument","fileName","link","document","createElement","href","download","body","appendChild","click","removeChild","_err$response4","_err$response4$data","handleAccept","confirm","status_feedback","_err$response5","_err$response5$data","handleDecline","reason","prompt","_err$response6","_err$response6$data","handleRequestInfo","getStatusBadge","statusMap","submitted","variant","label","opened","under_review","further_info_required","credit_check","approved","accepted","declined","withdrawn","completed","statusInfo","children","_jsxFileName","lineNumber","columnNumber","style","container","textAlign","color","colors","textSecondary","backPath","card","background","errorLight","errorDark","padding","spacing","lg","onClick","lenderTabs","borrowerTabs","tabs","marginBottom","display","alignItems","gap","md","margin","fontSize","typography","fontWeight","bold","sm","borderBottom","gray200","xl","map","tab","border","primary","semibold","normal","cursor","base","transition","gridTemplateColumns","xs","parseFloat","proposed_loan_amount","toLocaleString","proposed_interest_rate","proposed_term_months","proposed_ltv_ratio","notes","marginTop","lineHeight","relaxed","project_details","address","town","county","postcode","funding_type","property_type","project_reference","borrower_details","company_name","user_email","charges_summary","total_charges","paddingTop","borderTop","active_charges","warning","satisfied_charges","success","active","slice","charge","idx","warningLight","borderRadius","borderLeft","justifyContent","charge_code","charge_number","created_on","Date","toLocaleDateString","persons_entitled","p","name","fontStyle","lender_details","organisation_name","contact_email","checked","company_data","applicants_data","item","disabled","width","height","accentColor","gray300","textPrimary","textDecoration","flexDirection","medium","value","onChange","target","placeholder","rows","_err$response7","_err$response7$data","to","borrower_consent_given","_err$response8","_err$response8$data","successLight","borrower_consent_given_at","textMuted","msg","sender","primaryLight","gray50","sender_username","created_at","size","project_id","project","report_type","_err$response9","_err$response9$data","detail","whiteSpace","maxHeight","overflowY","onDragEnter","onDragLeave","onDragOver","onDrop","getElementById","multiple","fontFamily","backgroundColor","white","dt","infoLight","info","doc","validation_status","flex","file_name","document_type","file_size","toFixed","uploaded_by","uploaded_at","validation_score","undefined","validation_notes","company_number","registration_number","company_status","date_of_creation","trading_address","primary_contact_email","sic_codes","flexWrap","code","applicant","first_name","last_name","nationality","employment_status","net_monthly_income","occupation","applicationId","isAdmin","_c","$RefreshReg$"],"sources":["C:/Users/paul-/OneDrive - BARE Capital Ltd/BARE Drive/10.0 BUILDFUND/1.0 Website Dev/GitHub/new_website/src/pages/ApplicationDetail.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams, Link, useNavigate } from 'react-router-dom';\r\nimport api from '../api';\r\nimport { theme, commonStyles } from '../styles/theme';\r\nimport Button from '../components/Button';\r\nimport Badge from '../components/Badge';\r\nimport ApplicationProgress from '../components/ApplicationProgress';\r\nimport UnderwriterReport from '../components/UnderwriterReport';\r\nimport Select from '../components/Select';\r\nimport Textarea from '../components/Textarea';\r\nimport Input from '../components/Input';\r\nimport Checkbox from '../components/Checkbox';\r\n\r\nfunction ApplicationDetail() {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [application, setApplication] = useState(null);\r\n  const [statusHistory, setStatusHistory] = useState([]);\r\n  const [documents, setDocuments] = useState([]);\r\n  const [messages, setMessages] = useState([]);\r\n  const [activeTab, setActiveTab] = useState('overview');\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [updatingStatus, setUpdatingStatus] = useState(false);\r\n  const [uploadingDoc, setUploadingDoc] = useState(false);\r\n  const [statusUpdateForm, setStatusUpdateForm] = useState({ status: '', feedback: '' });\r\n  const [docUploadForm, setDocUploadForm] = useState({ description: '', document_type_id: '', is_required: false });\r\n  const [dragActive, setDragActive] = useState(false);\r\n  const [documentTypes, setDocumentTypes] = useState([]);\r\n  const [underwriting, setUnderwriting] = useState(null);\r\n  const [givingConsent, setGivingConsent] = useState(false);\r\n  const [processingAction, setProcessingAction] = useState(null);\r\n  const role = localStorage.getItem('role');\r\n  const isLender = role === 'Lender';\r\n  const isBorrower = role === 'Borrower';\r\n\r\n  useEffect(() => {\r\n    loadApplication();\r\n    loadDocumentTypes();\r\n    loadUnderwriting();\r\n  }, [id]);\r\n  \r\n  async function loadDocumentTypes() {\r\n    try {\r\n      const res = await api.get('/api/documents/types/?loan_type=business_finance');\r\n      setDocumentTypes(res.data || []);\r\n    } catch (err) {\r\n      console.error('Failed to load document types:', err);\r\n    }\r\n  }\r\n  \r\n  async function loadUnderwriting() {\r\n    try {\r\n      // Get the latest comprehensive underwriter report\r\n      const res = await api.get(`/api/applications/${id}/underwriter-report/`);\r\n      if (res.data.status === 'ready' && res.data.report_json) {\r\n        const reportJson = res.data.report_json;\r\n        const executiveSummary = reportJson.executiveSummary || {};\r\n        const recommendation = reportJson.recommendation || executiveSummary.recommendation || 'pending';\r\n        const riskRating = executiveSummary.risk_rating || 'N/A';\r\n        \r\n        // Create summary from executive summary or plain text narrative\r\n        let summary = '';\r\n        if (executiveSummary.key_highlights && executiveSummary.key_highlights.length > 0) {\r\n          summary = executiveSummary.key_highlights.join('\\n\\n');\r\n        } else if (res.data.plain_text_narrative) {\r\n          summary = res.data.plain_text_narrative.substring(0, 500) + '...';\r\n        } else if (reportJson.plainTextNarrative) {\r\n          summary = reportJson.plainTextNarrative.substring(0, 500) + '...';\r\n        }\r\n        \r\n        // Use plain text narrative as content if available\r\n        const content = res.data.plain_text_narrative || reportJson.plainTextNarrative || JSON.stringify(reportJson, null, 2);\r\n        \r\n        setUnderwriting({\r\n          content: content,\r\n          summary: summary,\r\n          risk_score: riskRating,\r\n          recommendation: recommendation.toLowerCase(),\r\n          documents_valid: reportJson.documentsReviewed?.filter((d) => d.status === 'valid')?.length || 0,\r\n          documents_analyzed: reportJson.documentsReviewed?.length || 0,\r\n        });\r\n        return;\r\n      }\r\n      \r\n      // If report is not ready or doesn't exist, set to null\r\n      setUnderwriting(null);\r\n    } catch (err) {\r\n      // Underwriting report may not exist yet\r\n      console.log('No underwriter report available:', err.response?.status);\r\n      setUnderwriting(null);\r\n    }\r\n  }\r\n\r\n  async function loadApplication() {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const [appRes, historyRes, docsRes, messagesRes] = await Promise.all([\r\n        api.get(`/api/applications/${id}/`),\r\n        api.get(`/api/applications/${id}/status_history/`).catch(() => ({ data: [] })),\r\n        api.get(`/api/applications/${id}/documents/`).catch(() => ({ data: [] })),\r\n        api.get(`/api/messages/?application=${id}`).catch(() => ({ data: [] })),\r\n      ]);\r\n      setApplication(appRes.data);\r\n      setStatusHistory(historyRes.data || []);\r\n      setDocuments(docsRes.data || []);\r\n      setMessages(messagesRes.data || []);\r\n      \r\n      // Load underwriting if lender\r\n      if (role === 'Lender') {\r\n        loadUnderwriting();\r\n      }\r\n    } catch (err) {\r\n      console.error('ApplicationDetail loadApplication error:', err);\r\n      setError('Failed to load application details');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  async function handleDocumentUpload(files) {\r\n    if (!files || files.length === 0) return;\r\n    \r\n    setUploadingDoc(true);\r\n    const formData = new FormData();\r\n    Array.from(files).forEach(file => {\r\n      formData.append('files', file);\r\n    });\r\n    formData.append('description', docUploadForm.description);\r\n    if (docUploadForm.document_type_id) {\r\n      formData.append('document_type_id', docUploadForm.document_type_id);\r\n    }\r\n    formData.append('is_required', docUploadForm.is_required);\r\n    \r\n    try {\r\n      await api.post(`/api/applications/${id}/documents/`, formData, {\r\n        headers: { 'Content-Type': 'multipart/form-data' },\r\n      });\r\n      await loadApplication();\r\n      await loadUnderwriting();\r\n      setDocUploadForm({ description: '', document_type_id: '', is_required: false });\r\n    } catch (err) {\r\n      console.error('Document upload error:', err);\r\n      alert('Failed to upload document: ' + (err.response?.data?.error || err.message));\r\n    } finally {\r\n      setUploadingDoc(false);\r\n    }\r\n  }\r\n\r\n  function handleDrag(e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    if (e.type === 'dragenter' || e.type === 'dragover') {\r\n      setDragActive(true);\r\n    } else if (e.type === 'dragleave') {\r\n      setDragActive(false);\r\n    }\r\n  }\r\n\r\n  function handleDrop(e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    setDragActive(false);\r\n    if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\r\n      handleDocumentUpload(e.dataTransfer.files);\r\n    }\r\n  }\r\n\r\n  const handleViewDocument = async (docId) => {\r\n    try {\r\n      const response = await api.get(`/api/applications/${id}/documents/${docId}/view/`, {\r\n        responseType: 'blob',\r\n      });\r\n      \r\n      // Create a blob URL and open in new tab\r\n      const blob = new Blob([response.data], { type: response.headers['content-type'] || 'application/pdf' });\r\n      const url = window.URL.createObjectURL(blob);\r\n      window.open(url, '_blank');\r\n      \r\n      // Clean up the URL after a delay\r\n      setTimeout(() => window.URL.revokeObjectURL(url), 100);\r\n    } catch (err) {\r\n      console.error('Failed to view document:', err);\r\n      alert('Failed to view document: ' + (err.response?.data?.error || err.message));\r\n    }\r\n  };\r\n\r\n  const handleDownloadDocument = async (docId, fileName) => {\r\n    try {\r\n      const response = await api.get(`/api/applications/${id}/documents/${docId}/download/`, {\r\n        responseType: 'blob',\r\n      });\r\n      \r\n      // Create a blob and trigger download\r\n      const blob = new Blob([response.data], { type: response.headers['content-type'] || 'application/octet-stream' });\r\n      const url = window.URL.createObjectURL(blob);\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.download = fileName || 'document';\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n      window.URL.revokeObjectURL(url);\r\n    } catch (err) {\r\n      console.error('Failed to download document:', err);\r\n      alert('Failed to download document: ' + (err.response?.data?.error || err.message));\r\n    }\r\n  };\r\n\r\n  // Action handlers for Application Review\r\n  const handleAccept = async () => {\r\n    if (!window.confirm('Are you sure you want to accept this application? This will create a deal.')) {\r\n      return;\r\n    }\r\n    setProcessingAction('accept');\r\n    try {\r\n      await api.post(`/api/applications/${id}/update_status/`, {\r\n        status: 'accepted',\r\n        status_feedback: 'Application accepted by lender'\r\n      });\r\n      await loadApplication();\r\n      alert('Application accepted. Deal will be created.');\r\n    } catch (err) {\r\n      console.error('Failed to accept application:', err);\r\n      alert('Failed to accept application: ' + (err.response?.data?.error || err.message));\r\n    } finally {\r\n      setProcessingAction(null);\r\n    }\r\n  };\r\n\r\n  const handleDecline = async () => {\r\n    const reason = window.prompt('Please provide a reason for declining this application:');\r\n    if (!reason) return;\r\n    \r\n    setProcessingAction('decline');\r\n    try {\r\n      await api.post(`/api/applications/${id}/update_status/`, {\r\n        status: 'declined',\r\n        status_feedback: reason\r\n      });\r\n      await loadApplication();\r\n      alert('Application declined.');\r\n    } catch (err) {\r\n      console.error('Failed to decline application:', err);\r\n      alert('Failed to decline application: ' + (err.response?.data?.error || err.message));\r\n    } finally {\r\n      setProcessingAction(null);\r\n    }\r\n  };\r\n\r\n  const handleRequestInfo = () => {\r\n    // For now, navigate to documents tab\r\n    // In Chunk 3, this will open a request builder modal\r\n    setActiveTab('documents');\r\n  };\r\n\r\n  const getStatusBadge = (status) => {\r\n    const statusMap = {\r\n      submitted: { variant: 'info', label: 'Submitted' },\r\n      opened: { variant: 'info', label: 'Opened' },\r\n      under_review: { variant: 'warning', label: 'Under Review' },\r\n      further_info_required: { variant: 'warning', label: 'Further Info Required' },\r\n      credit_check: { variant: 'info', label: 'Credit Check' },\r\n      approved: { variant: 'success', label: 'Approved' },\r\n      accepted: { variant: 'success', label: 'Accepted' },\r\n      declined: { variant: 'error', label: 'Declined' },\r\n      withdrawn: { variant: 'info', label: 'Withdrawn' },\r\n      completed: { variant: 'success', label: 'Completed' },\r\n    };\r\n    const statusInfo = statusMap[status] || { variant: 'info', label: status };\r\n    return <Badge variant={statusInfo.variant}>{statusInfo.label}</Badge>;\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div style={commonStyles.container}>\r\n        <p style={{ textAlign: 'center', color: theme.colors.textSecondary }}>Loading application...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error || !application) {\r\n    const backPath = role === 'Borrower' ? '/borrower/applications' : '/lender/applications';\r\n    return (\r\n      <div style={commonStyles.container}>\r\n        <div style={{\r\n          ...commonStyles.card,\r\n          background: theme.colors.errorLight,\r\n          color: theme.colors.errorDark,\r\n          padding: theme.spacing.lg,\r\n        }}>\r\n          <p>{error || 'Application not found'}</p>\r\n          <Button onClick={() => navigate(backPath)} variant=\"primary\">\r\n            Back to Applications\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const backPath = role === 'Borrower' ? '/borrower/applications' : '/lender/applications';\r\n\r\n  // Lender-specific Application Review tabs\r\n  const lenderTabs = [\r\n    { id: 'overview', label: 'Overview' },\r\n    { id: 'company', label: 'Company' },\r\n    { id: 'applicants', label: 'Applicants' },\r\n    { id: 'documents', label: `Documents (${documents.length})` },\r\n    { id: 'underwriter-report', label: \"Underwriter's Report\" },\r\n    { id: 'playbook', label: 'Playbook' },\r\n  ];\r\n\r\n  // Borrower/General tabs\r\n  const borrowerTabs = [\r\n    { id: 'overview', label: 'Overview' },\r\n    { id: 'messages', label: `Messages (${messages.length})` },\r\n    { id: 'documents', label: `Documents (${documents.length})` },\r\n    { id: 'underwriter-report', label: \"Underwriter's Report\" },\r\n    { id: 'progress', label: 'Progress' },\r\n  ];\r\n\r\n  const tabs = isLender && application?.status !== 'accepted' ? lenderTabs : borrowerTabs;\r\n\r\n  return (\r\n    <div style={commonStyles.container}>\r\n      <div style={{ marginBottom: theme.spacing.lg, display: 'flex', alignItems: 'center', gap: theme.spacing.md }}>\r\n        <Button onClick={() => navigate(backPath)} variant=\"outline\">\r\n           Back\r\n        </Button>\r\n        <h1 style={{\r\n          margin: 0,\r\n          fontSize: theme.typography.fontSize['3xl'],\r\n          fontWeight: theme.typography.fontWeight.bold,\r\n        }}>\r\n          Application #{application.id}\r\n        </h1>\r\n        {getStatusBadge(application.status)}\r\n      </div>\r\n\r\n      {/* Tabs */}\r\n      <div style={{\r\n        display: 'flex',\r\n        gap: theme.spacing.sm,\r\n        borderBottom: `2px solid ${theme.colors.gray200}`,\r\n        marginBottom: theme.spacing.xl,\r\n      }}>\r\n        {tabs.map(tab => (\r\n          <button\r\n            key={tab.id}\r\n            onClick={() => setActiveTab(tab.id)}\r\n            style={{\r\n              padding: `${theme.spacing.md} ${theme.spacing.lg}`,\r\n              background: 'transparent',\r\n              border: 'none',\r\n              borderBottom: activeTab === tab.id ? `3px solid ${theme.colors.primary}` : '3px solid transparent',\r\n              color: activeTab === tab.id ? theme.colors.primary : theme.colors.textSecondary,\r\n              fontWeight: activeTab === tab.id ? theme.typography.fontWeight.semibold : theme.typography.fontWeight.normal,\r\n              cursor: 'pointer',\r\n              fontSize: theme.typography.fontSize.base,\r\n              transition: 'all 0.2s',\r\n            }}\r\n          >\r\n            {tab.label}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Tab Content */}\r\n      {activeTab === 'overview' && (\r\n        <div style={{ display: 'grid', gridTemplateColumns: '2fr 1fr', gap: theme.spacing.xl }}>\r\n          {/* Main Details */}\r\n          <div>\r\n            {/* Application Terms */}\r\n            <div style={{ ...commonStyles.card, marginBottom: theme.spacing.lg }}>\r\n              <h2 style={{ margin: `0 0 ${theme.spacing.lg} 0`, fontSize: theme.typography.fontSize['2xl'] }}>\r\n                Application Terms\r\n              </h2>\r\n              <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: theme.spacing.md }}>\r\n                <div>\r\n                  <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                    <strong>Loan Amount:</strong>\r\n                  </p>\r\n                  <p style={{ margin: 0, fontSize: theme.typography.fontSize.lg, fontWeight: theme.typography.fontWeight.semibold }}>\r\n                    {parseFloat(application.proposed_loan_amount || 0).toLocaleString()}\r\n                  </p>\r\n                </div>\r\n                <div>\r\n                  <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                    <strong>Interest Rate:</strong>\r\n                  </p>\r\n                  <p style={{ margin: 0, fontSize: theme.typography.fontSize.lg, fontWeight: theme.typography.fontWeight.semibold }}>\r\n                    {application.proposed_interest_rate ? `${application.proposed_interest_rate}%` : 'N/A'}\r\n                  </p>\r\n                </div>\r\n                <div>\r\n                  <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                    <strong>Term:</strong>\r\n                  </p>\r\n                  <p style={{ margin: 0 }}>{application.proposed_term_months} months</p>\r\n                </div>\r\n                <div>\r\n                  <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                    <strong>LTV Ratio:</strong>\r\n                  </p>\r\n                  <p style={{ margin: 0 }}>\r\n                    {application.proposed_ltv_ratio ? `${application.proposed_ltv_ratio}%` : 'N/A'}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              {application.notes && (\r\n                <div style={{ marginTop: theme.spacing.lg }}>\r\n                  <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                    <strong>Notes:</strong>\r\n                  </p>\r\n                  <p style={{ margin: 0, lineHeight: theme.typography.lineHeight.relaxed }}>\r\n                    {application.notes}\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Project Details */}\r\n            {application.project_details && (\r\n              <div style={{ ...commonStyles.card, marginBottom: theme.spacing.lg }}>\r\n                <h3 style={{ margin: `0 0 ${theme.spacing.lg} 0` }}>Project Details</h3>\r\n                <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: theme.spacing.md }}>\r\n                  <div>\r\n                    <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                      <strong>Address:</strong>\r\n                    </p>\r\n                    <p style={{ margin: 0 }}>\r\n                      {application.project_details.address}<br />\r\n                      {application.project_details.town}, {application.project_details.county}<br />\r\n                      {application.project_details.postcode}\r\n                    </p>\r\n                  </div>\r\n                  <div>\r\n                    <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                      <strong>Funding Type:</strong>\r\n                    </p>\r\n                    <p style={{ margin: 0 }}>{application.project_details.funding_type}</p>\r\n                    <p style={{ margin: `${theme.spacing.md} 0 ${theme.spacing.xs}`, color: theme.colors.textSecondary }}>\r\n                      <strong>Property Type:</strong>\r\n                    </p>\r\n                    <p style={{ margin: 0 }}>{application.project_details.property_type}</p>\r\n                  </div>\r\n                </div>\r\n                {application.project_details.project_reference && (\r\n                  <div style={{ marginTop: theme.spacing.md }}>\r\n                    <Badge variant=\"info\">\r\n                      Project Reference: {application.project_details.project_reference}\r\n                    </Badge>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {/* Borrower/Lender Details */}\r\n            {role === 'Lender' && application.borrower_details && (\r\n              <div style={commonStyles.card}>\r\n                <h3 style={{ margin: `0 0 ${theme.spacing.lg} 0` }}>Borrower Details</h3>\r\n                <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: theme.spacing.md }}>\r\n                  <div>\r\n                    <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                      <strong>Company Name:</strong>\r\n                    </p>\r\n                    <p style={{ margin: 0 }}>{application.borrower_details.company_name || 'N/A'}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                      <strong>Contact:</strong>\r\n                    </p>\r\n                    <p style={{ margin: 0 }}>{application.borrower_details.user_email || 'N/A'}</p>\r\n                  </div>\r\n                </div>\r\n                \r\n                {/* Company Charges */}\r\n                {application.borrower_details.charges_summary && application.borrower_details.charges_summary.total_charges > 0 && (\r\n                  <div style={{ marginTop: theme.spacing.lg, paddingTop: theme.spacing.lg, borderTop: `1px solid ${theme.colors.gray200}` }}>\r\n                    <h4 style={{\r\n                      fontSize: theme.typography.fontSize.lg,\r\n                      fontWeight: theme.typography.fontWeight.semibold,\r\n                      marginBottom: theme.spacing.md,\r\n                    }}>\r\n                      Company Charges\r\n                    </h4>\r\n                    <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(150px, 1fr))', gap: theme.spacing.md, marginBottom: theme.spacing.md }}>\r\n                      <div>\r\n                        <p style={{ margin: 0, fontSize: theme.typography.fontSize.sm, color: theme.colors.textSecondary }}>Total Charges</p>\r\n                        <p style={{ margin: 0, fontSize: theme.typography.fontSize.lg, fontWeight: theme.typography.fontWeight.semibold }}>\r\n                          {application.borrower_details.charges_summary.total_charges || 0}\r\n                        </p>\r\n                      </div>\r\n                      {application.borrower_details.charges_summary.active_charges > 0 && (\r\n                        <div>\r\n                          <p style={{ margin: 0, fontSize: theme.typography.fontSize.sm, color: theme.colors.textSecondary }}>Active Charges</p>\r\n                          <p style={{ margin: 0, fontSize: theme.typography.fontSize.lg, fontWeight: theme.typography.fontWeight.semibold, color: theme.colors.warning }}>\r\n                            {application.borrower_details.charges_summary.active_charges || 0}\r\n                          </p>\r\n                        </div>\r\n                      )}\r\n                      {application.borrower_details.charges_summary.satisfied_charges > 0 && (\r\n                        <div>\r\n                          <p style={{ margin: 0, fontSize: theme.typography.fontSize.sm, color: theme.colors.textSecondary }}>Satisfied Charges</p>\r\n                          <p style={{ margin: 0, fontSize: theme.typography.fontSize.lg, fontWeight: theme.typography.fontWeight.semibold, color: theme.colors.success }}>\r\n                            {application.borrower_details.charges_summary.satisfied_charges || 0}\r\n                          </p>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                    {application.borrower_details.charges_summary.charges_summary?.active && application.borrower_details.charges_summary.charges_summary.active.length > 0 && (\r\n                      <div style={{ marginTop: theme.spacing.md }}>\r\n                        <h5 style={{\r\n                          fontSize: theme.typography.fontSize.base,\r\n                          fontWeight: theme.typography.fontWeight.semibold,\r\n                          marginBottom: theme.spacing.sm,\r\n                          color: theme.colors.warning,\r\n                        }}>\r\n                          Active Charges Details\r\n                        </h5>\r\n                        <div style={{ display: 'grid', gap: theme.spacing.sm }}>\r\n                          {application.borrower_details.charges_summary.charges_summary.active.slice(0, 5).map((charge, idx) => (\r\n                            <div key={idx} style={{\r\n                              padding: theme.spacing.md,\r\n                              background: theme.colors.warningLight,\r\n                              borderRadius: theme.borderRadius.md,\r\n                              borderLeft: `4px solid ${theme.colors.warning}`,\r\n                            }}>\r\n                              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'start' }}>\r\n                                <div>\r\n                                  <p style={{ margin: 0, fontWeight: theme.typography.fontWeight.semibold }}>\r\n                                    {charge.charge_code || charge.charge_number || `Charge ${idx + 1}`}\r\n                                  </p>\r\n                                  {charge.created_on && (\r\n                                    <p style={{ margin: `${theme.spacing.xs} 0 0 0`, fontSize: theme.typography.fontSize.sm, color: theme.colors.textSecondary }}>\r\n                                      Created: {new Date(charge.created_on).toLocaleDateString('en-GB')}\r\n                                    </p>\r\n                                  )}\r\n                                  {charge.persons_entitled && charge.persons_entitled.length > 0 && (\r\n                                    <p style={{ margin: `${theme.spacing.xs} 0 0 0`, fontSize: theme.typography.fontSize.sm }}>\r\n                                      <strong>Charged to:</strong> {charge.persons_entitled.map(p => p.name).join(', ')}\r\n                                    </p>\r\n                                  )}\r\n                                </div>\r\n                                <Badge variant=\"warning\">Active</Badge>\r\n                              </div>\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                        {application.borrower_details.charges_summary.charges_summary.active.length > 5 && (\r\n                          <p style={{ \r\n                            margin: `${theme.spacing.sm} 0 0 0`, \r\n                            fontSize: theme.typography.fontSize.sm, \r\n                            color: theme.colors.textSecondary,\r\n                            fontStyle: 'italic',\r\n                          }}>\r\n                            ... and {application.borrower_details.charges_summary.charges_summary.active.length - 5} more active charge(s)\r\n                          </p>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {role === 'Borrower' && application.lender_details && (\r\n              <div style={commonStyles.card}>\r\n                <h3 style={{ margin: `0 0 ${theme.spacing.lg} 0` }}>Lender Details</h3>\r\n                <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: theme.spacing.md }}>\r\n                  <div>\r\n                    <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                      <strong>Organisation:</strong>\r\n                    </p>\r\n                    <p style={{ margin: 0 }}>{application.lender_details.organisation_name || 'N/A'}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                      <strong>Contact:</strong>\r\n                    </p>\r\n                    <p style={{ margin: 0 }}>{application.lender_details.contact_email || 'N/A'}</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Sidebar */}\r\n          <div>\r\n            {/* Application Review Action Panel (Lender, Pre-Accept) */}\r\n            {isLender && application?.status !== 'accepted' && (\r\n              <div style={{ ...commonStyles.card, marginBottom: theme.spacing.lg }}>\r\n                <h3 style={{ margin: `0 0 ${theme.spacing.lg} 0` }}>Validation Checklist</h3>\r\n                <div style={{ marginBottom: theme.spacing.lg }}>\r\n                  {[\r\n                    { id: 'company_verified', label: 'Company Information Verified', checked: !!application.borrower_details?.company_data },\r\n                    { id: 'applicants_provided', label: 'Applicants Information Provided', checked: application.borrower_details?.applicants_data?.length > 0 },\r\n                    { id: 'underwriter_report', label: 'Underwriter Report Generated', checked: underwriting?.status === 'ready' },\r\n                    { id: 'documents_reviewed', label: 'Key Documents Reviewed', checked: documents.length > 0 },\r\n                  ].map((item) => (\r\n                    <div key={item.id} style={{ marginBottom: theme.spacing.sm, display: 'flex', alignItems: 'center', gap: theme.spacing.sm }}>\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={item.checked}\r\n                        disabled\r\n                        style={{\r\n                          width: '18px',\r\n                          height: '18px',\r\n                          cursor: 'not-allowed',\r\n                          accentColor: item.checked ? theme.colors.success : theme.colors.gray300,\r\n                        }}\r\n                      />\r\n                      <label style={{\r\n                        fontSize: theme.typography.fontSize.sm,\r\n                        color: item.checked ? theme.colors.textPrimary : theme.colors.textSecondary,\r\n                        textDecoration: item.checked ? 'none' : 'none',\r\n                        cursor: 'default',\r\n                      }}>\r\n                        {item.label}\r\n                      </label>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n                <div style={{ borderTop: `1px solid ${theme.colors.gray200}`, paddingTop: theme.spacing.lg }}>\r\n                  <h4 style={{ margin: `0 0 ${theme.spacing.md} 0`, fontSize: theme.typography.fontSize.base, fontWeight: theme.typography.fontWeight.semibold }}>\r\n                    Actions\r\n                  </h4>\r\n                  <div style={{ display: 'flex', flexDirection: 'column', gap: theme.spacing.sm }}>\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      style={{ width: '100%' }}\r\n                      onClick={handleRequestInfo}\r\n                      disabled={!!processingAction}\r\n                    >\r\n                      Request Info\r\n                    </Button>\r\n                    <Button\r\n                      variant=\"success\"\r\n                      style={{ width: '100%' }}\r\n                      onClick={handleAccept}\r\n                      loading={processingAction === 'accept'}\r\n                      disabled={!!processingAction}\r\n                    >\r\n                      Accept Application\r\n                    </Button>\r\n                    <Button\r\n                      variant=\"danger\"\r\n                      style={{ width: '100%' }}\r\n                      onClick={handleDecline}\r\n                      loading={processingAction === 'decline'}\r\n                      disabled={!!processingAction}\r\n                    >\r\n                      Decline Application\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Status Update (Lender, Post-Accept or General) */}\r\n            {isLender && application?.status === 'accepted' && (\r\n              <div style={{ ...commonStyles.card, marginBottom: theme.spacing.lg }}>\r\n                <h3 style={{ margin: `0 0 ${theme.spacing.lg} 0` }}>Update Status</h3>\r\n                <div style={{ marginBottom: theme.spacing.md }}>\r\n                  <label style={{\r\n                    display: 'block',\r\n                    marginBottom: theme.spacing.xs,\r\n                    fontWeight: theme.typography.fontWeight.medium,\r\n                  }}>\r\n                    New Status\r\n                  </label>\r\n                  <Select\r\n                    value={statusUpdateForm.status}\r\n                    onChange={(e) => setStatusUpdateForm({ ...statusUpdateForm, status: e.target.value })}\r\n                    style={{ width: '100%' }}\r\n                  >\r\n                    <option value=\"\">Select status...</option>\r\n                    <option value=\"opened\">Opened</option>\r\n                    <option value=\"under_review\">Under Review</option>\r\n                    <option value=\"further_info_required\">Further Information Required</option>\r\n                    <option value=\"credit_check\">Credit Check/Underwriting</option>\r\n                    <option value=\"approved\">Approved</option>\r\n                    <option value=\"accepted\">Accepted</option>\r\n                    <option value=\"declined\">Declined</option>\r\n                    <option value=\"withdrawn\">Withdrawn</option>\r\n                    <option value=\"completed\">Completed</option>\r\n                  </Select>\r\n                </div>\r\n                <div style={{ marginBottom: theme.spacing.md }}>\r\n                  <label style={{\r\n                    display: 'block',\r\n                    marginBottom: theme.spacing.xs,\r\n                    fontWeight: theme.typography.fontWeight.medium,\r\n                  }}>\r\n                    Feedback/Notes (optional)\r\n                  </label>\r\n                  <Textarea\r\n                    value={statusUpdateForm.feedback}\r\n                    onChange={(e) => setStatusUpdateForm({ ...statusUpdateForm, feedback: e.target.value })}\r\n                    placeholder=\"Add feedback or notes about this status change...\"\r\n                    rows={3}\r\n                  />\r\n                </div>\r\n                <Button\r\n                  variant=\"primary\"\r\n                  style={{ width: '100%' }}\r\n                  onClick={async () => {\r\n                    if (!statusUpdateForm.status) {\r\n                      alert('Please select a status');\r\n                      return;\r\n                    }\r\n                    setUpdatingStatus(true);\r\n                    try {\r\n                      await api.post(`/api/applications/${id}/update_status/`, {\r\n                        status: statusUpdateForm.status,\r\n                        feedback: statusUpdateForm.feedback,\r\n                      });\r\n                      await loadApplication();\r\n                      setStatusUpdateForm({ status: '', feedback: '' });\r\n                    } catch (err) {\r\n                      console.error('Status update error:', err);\r\n                      alert('Failed to update status: ' + (err.response?.data?.error || err.message));\r\n                    } finally {\r\n                      setUpdatingStatus(false);\r\n                    }\r\n                  }}\r\n                  disabled={updatingStatus || !statusUpdateForm.status}\r\n                >\r\n                  {updatingStatus ? 'Updating...' : 'Update Status'}\r\n                </Button>\r\n              </div>\r\n            )}\r\n\r\n            <div style={commonStyles.card}>\r\n              <h3 style={{ margin: `0 0 ${theme.spacing.lg} 0` }}>Quick Actions</h3>\r\n              <div style={{ display: 'flex', flexDirection: 'column', gap: theme.spacing.md }}>\r\n                <Link \r\n                  to={`/${role.toLowerCase()}/messages?application_id=${application.id}`} \r\n                  style={{ textDecoration: 'none' }}\r\n                >\r\n                  <Button variant=\"primary\" style={{ width: '100%' }}>\r\n                    Message {role === 'Borrower' ? 'Lender' : 'Borrower'}\r\n                  </Button>\r\n                </Link>\r\n                \r\n                {/* Lender: View Borrower Information (if accepted and consent given) */}\r\n                {isLender && application.status === 'accepted' && application.borrower_consent_given && (\r\n                  <Link \r\n                    to={`/lender/applications/${application.id}/borrower-info`}\r\n                    style={{ textDecoration: 'none' }}\r\n                  >\r\n                    <Button variant=\"secondary\" style={{ width: '100%' }}>\r\n                       View Borrower Information\r\n                    </Button>\r\n                  </Link>\r\n                )}\r\n                \r\n                {/* Borrower: Give Consent (if application is accepted) */}\r\n                {isBorrower && application.status === 'accepted' && !application.borrower_consent_given && (\r\n                  <Button \r\n                    variant=\"primary\" \r\n                    style={{ width: '100%' }}\r\n                    onClick={async () => {\r\n                      setGivingConsent(true);\r\n                      try {\r\n                        await api.post(`/api/applications/${id}/give_consent/`);\r\n                        await loadApplication();\r\n                        alert('Consent given successfully. The lender can now view your information.');\r\n                      } catch (err) {\r\n                        console.error('Failed to give consent:', err);\r\n                        alert('Failed to give consent: ' + (err.response?.data?.error || err.message));\r\n                      } finally {\r\n                        setGivingConsent(false);\r\n                      }\r\n                    }}\r\n                    disabled={givingConsent}\r\n                  >\r\n                    {givingConsent ? 'Processing...' : ' Give Consent to Share Information'}\r\n                  </Button>\r\n                )}\r\n                \r\n                {/* Borrower: Consent Status */}\r\n                {isBorrower && application.status === 'accepted' && (\r\n                  <div style={{\r\n                    padding: theme.spacing.md,\r\n                    background: application.borrower_consent_given ? theme.colors.successLight : theme.colors.warningLight,\r\n                    borderRadius: theme.borderRadius.md,\r\n                    fontSize: theme.typography.fontSize.sm,\r\n                  }}>\r\n                    <p style={{ margin: 0, fontWeight: theme.typography.fontWeight.semibold }}>\r\n                      {application.borrower_consent_given ? ' Consent Given' : ' Consent Required'}\r\n                    </p>\r\n                    <p style={{ margin: `${theme.spacing.xs} 0 0`, fontSize: theme.typography.fontSize.xs }}>\r\n                      {application.borrower_consent_given \r\n                        ? 'Lender can view your information'\r\n                        : 'Give consent to allow lender to view your information'}\r\n                    </p>\r\n                    {application.borrower_consent_given && application.borrower_consent_given_at && (\r\n                      <p style={{ margin: `${theme.spacing.xs} 0 0`, fontSize: theme.typography.fontSize.xs, color: theme.colors.textMuted }}>\r\n                        Given on {new Date(application.borrower_consent_given_at).toLocaleDateString()}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {activeTab === 'messages' && (\r\n        <div style={commonStyles.card}>\r\n          <h2 style={{ margin: `0 0 ${theme.spacing.lg} 0` }}>Messages</h2>\r\n          {messages.length === 0 ? (\r\n            <p style={{ color: theme.colors.textSecondary }}>No messages yet.</p>\r\n          ) : (\r\n            <div style={{ display: 'flex', flexDirection: 'column', gap: theme.spacing.md }}>\r\n              {messages.map(msg => (\r\n                <div key={msg.id} style={{\r\n                  padding: theme.spacing.md,\r\n                  background: msg.sender === role ? theme.colors.primaryLight : theme.colors.gray50,\r\n                  borderRadius: theme.borderRadius.md,\r\n                }}>\r\n                  <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: theme.spacing.xs }}>\r\n                    <strong>{msg.sender_username || 'Unknown'}</strong>\r\n                    <span style={{ fontSize: theme.typography.fontSize.sm, color: theme.colors.textSecondary }}>\r\n                      {new Date(msg.created_at).toLocaleString()}\r\n                    </span>\r\n                  </div>\r\n                  <p style={{ margin: 0 }}>{msg.body}</p>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n          <div style={{ marginTop: theme.spacing.lg }}>\r\n            <Link to={`/${role.toLowerCase()}/messages?application_id=${application.id}`}>\r\n              <Button variant=\"primary\">Go to Messages</Button>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {activeTab === 'documents' && (\r\n        <div>\r\n          {/* AI Underwriting Report (for lenders) */}\r\n          {isLender && (\r\n            <div style={{ ...commonStyles.card, marginBottom: theme.spacing.lg }}>\r\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: theme.spacing.md }}>\r\n                <h2 style={{ margin: 0 }}>AI Underwriting Report</h2>\r\n                <Button\r\n                  variant=\"primary\"\r\n                  size=\"sm\"\r\n                  onClick={async () => {\r\n                    try {\r\n                      setLoading(true);\r\n                      const res = await api.post('/api/underwriting/reports/generate/', {\r\n                        project_id: application.project,\r\n                        report_type: 'lender',\r\n                      });\r\n                      await loadUnderwriting();\r\n                      alert('Underwriting report generated successfully!');\r\n                    } catch (err) {\r\n                      console.error('Failed to generate report:', err);\r\n                      alert('Failed to generate report: ' + (err.response?.data?.detail || err.message));\r\n                    } finally {\r\n                      setLoading(false);\r\n                    }\r\n                  }}\r\n                  disabled={loading}\r\n                >\r\n                  Generate Report\r\n                </Button>\r\n              </div>\r\n              {underwriting ? (\r\n                <div>\r\n                  <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr 1fr', gap: theme.spacing.md, marginBottom: theme.spacing.md }}>\r\n                    <div>\r\n                      <p style={{ margin: 0, fontSize: theme.typography.fontSize.sm, color: theme.colors.textSecondary }}>Risk Score</p>\r\n                      <p style={{ margin: 0, fontSize: theme.typography.fontSize['2xl'], fontWeight: theme.typography.fontWeight.bold }}>\r\n                        {underwriting.risk_score || 'N/A'}\r\n                      </p>\r\n                    </div>\r\n                    <div>\r\n                      <p style={{ margin: 0, fontSize: theme.typography.fontSize.sm, color: theme.colors.textSecondary }}>Recommendation</p>\r\n                      <Badge variant={underwriting.recommendation === 'approve' ? 'success' : underwriting.recommendation === 'decline' ? 'error' : 'warning'}>\r\n                        {underwriting.recommendation || 'Pending'}\r\n                      </Badge>\r\n                    </div>\r\n                    <div>\r\n                      <p style={{ margin: 0, fontSize: theme.typography.fontSize.sm, color: theme.colors.textSecondary }}>Documents Valid</p>\r\n                      <p style={{ margin: 0, fontSize: theme.typography.fontSize.lg }}>\r\n                        {underwriting.documents_valid || 0} / {underwriting.documents_analyzed || 0}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                  {underwriting.summary && (\r\n                    <div style={{\r\n                      padding: theme.spacing.md,\r\n                      background: theme.colors.gray50,\r\n                      borderRadius: theme.borderRadius.md,\r\n                      marginTop: theme.spacing.md,\r\n                    }}>\r\n                      <h3 style={{ margin: `0 0 ${theme.spacing.sm} 0`, fontSize: theme.typography.fontSize.lg }}>Report Summary</h3>\r\n                      <p style={{ margin: 0, fontSize: theme.typography.fontSize.sm, whiteSpace: 'pre-wrap' }}>\r\n                        {underwriting.summary}\r\n                      </p>\r\n                    </div>\r\n                  )}\r\n                  {underwriting.content && (\r\n                    <div style={{\r\n                      padding: theme.spacing.md,\r\n                      background: theme.colors.gray50,\r\n                      borderRadius: theme.borderRadius.md,\r\n                      marginTop: theme.spacing.md,\r\n                      maxHeight: '400px',\r\n                      overflowY: 'auto',\r\n                    }}>\r\n                      <h3 style={{ margin: `0 0 ${theme.spacing.sm} 0`, fontSize: theme.typography.fontSize.lg }}>Full Report</h3>\r\n                      <div style={{ fontSize: theme.typography.fontSize.sm, whiteSpace: 'pre-wrap' }}>\r\n                        {underwriting.content}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              ) : (\r\n                <p style={{ color: theme.colors.textSecondary, textAlign: 'center', padding: theme.spacing.lg }}>\r\n                  No underwriting report available. Click \"Generate Report\" to create one.\r\n                </p>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          <div style={{ ...commonStyles.card, marginBottom: theme.spacing.lg }}>\r\n            <h2 style={{ margin: `0 0 ${theme.spacing.lg} 0` }}>Upload Documents</h2>\r\n            <p style={{ color: theme.colors.textSecondary, marginBottom: theme.spacing.lg }}>\r\n              Upload required documents for your loan application. Documents will be automatically validated and assessed.\r\n            </p>\r\n            \r\n            {/* Upload Area */}\r\n            <div\r\n              onDragEnter={handleDrag}\r\n              onDragLeave={handleDrag}\r\n              onDragOver={handleDrag}\r\n              onDrop={handleDrop}\r\n              style={{\r\n                marginBottom: theme.spacing.lg,\r\n                padding: theme.spacing.xl,\r\n                border: `2px dashed ${dragActive ? theme.colors.primary : theme.colors.gray300}`,\r\n                borderRadius: theme.borderRadius.md,\r\n                textAlign: 'center',\r\n                background: dragActive ? theme.colors.primaryLight : theme.colors.gray50,\r\n                cursor: 'pointer',\r\n                transition: 'all 0.2s',\r\n              }}\r\n              onClick={() => document.getElementById('file-upload').click()}\r\n            >\r\n              <input\r\n                id=\"file-upload\"\r\n                type=\"file\"\r\n                multiple\r\n                style={{ display: 'none' }}\r\n                onChange={(e) => handleDocumentUpload(e.target.files)}\r\n              />\r\n              <div style={{ fontSize: '48px', marginBottom: theme.spacing.sm }}></div>\r\n              <p style={{ margin: 0, fontSize: theme.typography.fontSize.lg, fontWeight: theme.typography.fontWeight.semibold, marginBottom: theme.spacing.xs }}>\r\n                Drag and drop files here\r\n              </p>\r\n              <p style={{ margin: 0, color: theme.colors.textSecondary }}>\r\n                or click to browse  PDF, Images, Word, Excel\r\n              </p>\r\n            </div>\r\n\r\n            <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: theme.spacing.md, marginBottom: theme.spacing.md }}>\r\n              <div>\r\n                <label style={{ display: 'block', marginBottom: theme.spacing.xs, fontWeight: theme.typography.fontWeight.medium }}>\r\n                  Document Type\r\n                </label>\r\n                <select\r\n                  value={docUploadForm.document_type_id}\r\n                  onChange={(e) => setDocUploadForm({ ...docUploadForm, document_type_id: e.target.value })}\r\n                  style={{\r\n                    width: '100%',\r\n                    padding: theme.spacing.sm,\r\n                    border: `1px solid ${theme.colors.gray300}`,\r\n                    borderRadius: theme.borderRadius.md,\r\n                    fontSize: theme.typography.fontSize.base,\r\n                    fontFamily: theme.typography.fontFamily,\r\n                    backgroundColor: theme.colors.white,\r\n                  }}\r\n                >\r\n                  <option value=\"\">Select document type...</option>\r\n                  {documentTypes.map(dt => (\r\n                    <option key={dt.id} value={dt.id}>\r\n                      {dt.name} {dt.is_required && '(Required)'}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n              <div>\r\n                <label style={{ display: 'block', marginBottom: theme.spacing.xs, fontWeight: theme.typography.fontWeight.medium }}>\r\n                  Description (Optional)\r\n                </label>\r\n                <Input\r\n                  name=\"description\"\r\n                  value={docUploadForm.description}\r\n                  onChange={(e) => setDocUploadForm({ ...docUploadForm, description: e.target.value })}\r\n                  placeholder=\"e.g., Q1 2024 Bank Statement\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {uploadingDoc && (\r\n              <div style={{ padding: theme.spacing.md, background: theme.colors.infoLight, borderRadius: theme.borderRadius.md, marginBottom: theme.spacing.md }}>\r\n                <p style={{ margin: 0, color: theme.colors.info }}>\r\n                   Uploading and validating documents...\r\n                </p>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Documents List */}\r\n          <div style={commonStyles.card}>\r\n            <h3 style={{ margin: `0 0 ${theme.spacing.lg} 0` }}>Uploaded Documents ({documents.length})</h3>\r\n            {documents.length === 0 ? (\r\n              <div style={{ textAlign: 'center', padding: theme.spacing.xl }}>\r\n                <p style={{ color: theme.colors.textSecondary, marginBottom: theme.spacing.md }}>\r\n                  No documents uploaded yet.\r\n                </p>\r\n                <p style={{ color: theme.colors.textMuted, fontSize: theme.typography.fontSize.sm }}>\r\n                  Required documents: Passport/ID, Utility Bill, Bank Statements, Company Accounts\r\n                </p>\r\n              </div>\r\n            ) : (\r\n              <div style={{ display: 'flex', flexDirection: 'column', gap: theme.spacing.md }}>\r\n                {documents.map(doc => (\r\n                  <div key={doc.id} style={{\r\n                    padding: theme.spacing.md,\r\n                    border: `1px solid ${theme.colors.gray200}`,\r\n                    borderRadius: theme.borderRadius.md,\r\n                    background: doc.validation_status === 'valid' ? theme.colors.successLight : \r\n                               doc.validation_status === 'invalid' ? theme.colors.errorLight : \r\n                               theme.colors.gray50,\r\n                  }}>\r\n                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: theme.spacing.sm }}>\r\n                      <div style={{ flex: 1 }}>\r\n                        <div style={{ display: 'flex', alignItems: 'center', gap: theme.spacing.sm, marginBottom: theme.spacing.xs }}>\r\n                          <p style={{ margin: 0, fontWeight: theme.typography.fontWeight.semibold }}>\r\n                            {doc.file_name}\r\n                          </p>\r\n                          {doc.document_type && (\r\n                            <Badge variant=\"info\" style={{ fontSize: theme.typography.fontSize.xs }}>\r\n                              {doc.document_type}\r\n                            </Badge>\r\n                          )}\r\n                          {doc.is_required && (\r\n                            <Badge variant=\"warning\" style={{ fontSize: theme.typography.fontSize.xs }}>\r\n                              Required\r\n                            </Badge>\r\n                          )}\r\n                        </div>\r\n                        {doc.description && (\r\n                          <p style={{ margin: `${theme.spacing.xs} 0`, fontSize: theme.typography.fontSize.sm, color: theme.colors.textSecondary }}>\r\n                            {doc.description}\r\n                          </p>\r\n                        )}\r\n                        <div style={{ display: 'flex', gap: theme.spacing.md, marginTop: theme.spacing.xs }}>\r\n                          <span style={{ fontSize: theme.typography.fontSize.xs, color: theme.colors.textMuted }}>\r\n                            {(doc.file_size / 1024).toFixed(2)} KB\r\n                          </span>\r\n                          <span style={{ fontSize: theme.typography.fontSize.xs, color: theme.colors.textMuted }}>\r\n                            Uploaded by {doc.uploaded_by}  {new Date(doc.uploaded_at).toLocaleDateString()}\r\n                          </span>\r\n                        </div>\r\n                        <div style={{ display: 'flex', gap: theme.spacing.sm, marginTop: theme.spacing.sm }}>\r\n                          <Button\r\n                            variant=\"outline\"\r\n                            size=\"sm\"\r\n                            onClick={() => handleViewDocument(doc.id)}\r\n                          >\r\n                             View\r\n                          </Button>\r\n                          <Button\r\n                            variant=\"outline\"\r\n                            size=\"sm\"\r\n                            onClick={() => handleDownloadDocument(doc.id, doc.file_name)}\r\n                          >\r\n                             Download\r\n                          </Button>\r\n                        </div>\r\n                      </div>\r\n                      <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'flex-end', gap: theme.spacing.xs }}>\r\n                        {doc.validation_status && (\r\n                          <Badge \r\n                            variant={doc.validation_status === 'valid' ? 'success' : doc.validation_status === 'invalid' ? 'error' : 'warning'}\r\n                          >\r\n                            {doc.validation_status === 'valid' ? ' Valid' : \r\n                             doc.validation_status === 'invalid' ? ' Invalid' : \r\n                             ' Validating'}\r\n                          </Badge>\r\n                        )}\r\n                        {doc.validation_score !== null && doc.validation_score !== undefined && (\r\n                          <span style={{ fontSize: theme.typography.fontSize.xs, color: theme.colors.textSecondary }}>\r\n                            Score: {doc.validation_score}/100\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    {doc.validation_notes && (\r\n                      <div style={{ \r\n                        marginTop: theme.spacing.sm, \r\n                        padding: theme.spacing.xs, \r\n                        background: theme.colors.white,\r\n                        borderRadius: theme.borderRadius.sm,\r\n                        fontSize: theme.typography.fontSize.xs,\r\n                        color: theme.colors.textSecondary \r\n                      }}>\r\n                        {doc.validation_notes}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Company Tab - Lender Application Review */}\r\n      {activeTab === 'company' && isLender && application?.borrower_details && (\r\n        <div style={commonStyles.card}>\r\n          <h2 style={{ margin: `0 0 ${theme.spacing.lg} 0` }}>Company Information</h2>\r\n          {application.borrower_details.company_data ? (\r\n            <div>\r\n              <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: theme.spacing.lg, marginBottom: theme.spacing.lg }}>\r\n                <div>\r\n                  <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                    <strong>Company Name:</strong>\r\n                  </p>\r\n                  <p style={{ margin: 0 }}>{application.borrower_details.company_data.company_name || application.borrower_details.company_name || 'Not provided'}</p>\r\n                </div>\r\n                <div>\r\n                  <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                    <strong>Company Number:</strong>\r\n                  </p>\r\n                  <p style={{ margin: 0 }}>{application.borrower_details.company_data.company_number || application.borrower_details.registration_number || 'Not provided'}</p>\r\n                </div>\r\n                <div>\r\n                  <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                    <strong>Company Status:</strong>\r\n                  </p>\r\n                  <p style={{ margin: 0 }}>\r\n                    <Badge variant={application.borrower_details.company_data.company_status === 'active' ? 'success' : 'warning'}>\r\n                      {application.borrower_details.company_data.company_status || 'Not provided'}\r\n                    </Badge>\r\n                  </p>\r\n                </div>\r\n                <div>\r\n                  <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                    <strong>Incorporation Date:</strong>\r\n                  </p>\r\n                  <p style={{ margin: 0 }}>{application.borrower_details.company_data.date_of_creation ? new Date(application.borrower_details.company_data.date_of_creation).toLocaleDateString() : 'Not provided'}</p>\r\n                </div>\r\n                <div>\r\n                  <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                    <strong>Trading Address:</strong>\r\n                  </p>\r\n                  <p style={{ margin: 0 }}>{application.borrower_details.trading_address || 'Not provided'}</p>\r\n                </div>\r\n                <div>\r\n                  <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                    <strong>Primary Contact:</strong>\r\n                  </p>\r\n                  <p style={{ margin: 0 }}>{application.borrower_details.primary_contact_email || application.borrower_details.user_email || 'Not provided'}</p>\r\n                </div>\r\n              </div>\r\n              {application.borrower_details.company_data.sic_codes && application.borrower_details.company_data.sic_codes.length > 0 && (\r\n                <div style={{ marginTop: theme.spacing.lg }}>\r\n                  <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                    <strong>SIC Codes:</strong>\r\n                  </p>\r\n                  <div style={{ display: 'flex', flexWrap: 'wrap', gap: theme.spacing.sm }}>\r\n                    {application.borrower_details.company_data.sic_codes.map((code, idx) => (\r\n                      <Badge key={idx} variant=\"info\">{code}</Badge>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <p style={{ color: theme.colors.textSecondary }}>Company information not available.</p>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Applicants Tab - Lender Application Review */}\r\n      {activeTab === 'applicants' && isLender && application?.borrower_details && (\r\n        <div style={commonStyles.card}>\r\n          <h2 style={{ margin: `0 0 ${theme.spacing.lg} 0` }}>Applicants & Guarantors</h2>\r\n          {application.borrower_details.applicants_data && application.borrower_details.applicants_data.length > 0 ? (\r\n            <div style={{ display: 'flex', flexDirection: 'column', gap: theme.spacing.lg }}>\r\n              {application.borrower_details.applicants_data.map((applicant, idx) => (\r\n                <div key={idx} style={{\r\n                  padding: theme.spacing.lg,\r\n                  border: `1px solid ${theme.colors.gray200}`,\r\n                  borderRadius: theme.borderRadius.md,\r\n                }}>\r\n                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'start', marginBottom: theme.spacing.md }}>\r\n                    <h3 style={{ margin: 0 }}>{applicant.first_name} {applicant.last_name}</h3>\r\n                    <Badge variant=\"info\">{applicant.role || 'Applicant'}</Badge>\r\n                  </div>\r\n                  <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: theme.spacing.md }}>\r\n                    <div>\r\n                      <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                        <strong>Nationality:</strong>\r\n                      </p>\r\n                      <p style={{ margin: 0 }}>{applicant.nationality || 'Not provided'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                        <strong>Employment Status:</strong>\r\n                      </p>\r\n                      <p style={{ margin: 0 }}>{applicant.employment_status || 'Not provided'}</p>\r\n                    </div>\r\n                    {applicant.net_monthly_income && (\r\n                      <div>\r\n                        <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                          <strong>Net Monthly Income:</strong>\r\n                        </p>\r\n                        <p style={{ margin: 0 }}>{parseFloat(applicant.net_monthly_income).toLocaleString()}</p>\r\n                      </div>\r\n                    )}\r\n                    {applicant.occupation && (\r\n                      <div>\r\n                        <p style={{ margin: `${theme.spacing.xs} 0`, color: theme.colors.textSecondary }}>\r\n                          <strong>Occupation:</strong>\r\n                        </p>\r\n                        <p style={{ margin: 0 }}>{applicant.occupation}</p>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <p style={{ color: theme.colors.textSecondary }}>Applicant information not available.</p>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Playbook Tab - Lender Application Review (Placeholder for Chunk 12) */}\r\n      {activeTab === 'playbook' && isLender && (\r\n        <div style={commonStyles.card}>\r\n          <h2 style={{ margin: `0 0 ${theme.spacing.lg} 0` }}>Product Playbook</h2>\r\n          <p style={{ color: theme.colors.textSecondary, marginBottom: theme.spacing.lg }}>\r\n            Playbook functionality will be available in a future update. This will show applied validation rules, document requirements, and checklist status.\r\n          </p>\r\n          <div style={{\r\n            padding: theme.spacing.lg,\r\n            background: theme.colors.gray50,\r\n            borderRadius: theme.borderRadius.md,\r\n            border: `1px dashed ${theme.colors.gray300}`,\r\n          }}>\r\n            <p style={{ margin: 0, color: theme.colors.textSecondary, fontStyle: 'italic' }}>\r\n              Playbook system coming soon. This will integrate product-specific validation checklists, document requirements, CP templates, and default task timelines.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {activeTab === 'underwriter-report' && (\r\n        <UnderwriterReport\r\n          applicationId={id}\r\n          role={role}\r\n          isAdmin={role === 'Admin'}\r\n        />\r\n      )}\r\n\r\n      {activeTab === 'progress' && (\r\n        <div style={commonStyles.card}>\r\n          <h2 style={{ margin: `0 0 ${theme.spacing.lg} 0` }}>Application Progress</h2>\r\n          <ApplicationProgress application={application} statusHistory={statusHistory} />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ApplicationDetail;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}