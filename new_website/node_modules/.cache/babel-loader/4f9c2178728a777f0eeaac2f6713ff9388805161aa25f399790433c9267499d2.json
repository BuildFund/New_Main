{"ast":null,"code":"import _objectSpread from\"C:/Users/paul-/OneDrive - BARE Capital Ltd/BARE Drive/10.0 BUILDFUND/1.0 Website Dev/GitHub/new_website/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import api from'../api';import{theme,commonStyles}from'../styles/theme';import Badge from'../components/Badge';import Button from'../components/Button';import Select from'../components/Select';import Textarea from'../components/Textarea';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function LenderApplications(){const[applications,setApplications]=useState([]);const[error,setError]=useState(null);const[loading,setLoading]=useState(true);const[expandedApp,setExpandedApp]=useState(null);const[updatingStatus,setUpdatingStatus]=useState(null);const[statusUpdateForm,setStatusUpdateForm]=useState({status:'',feedback:''});useEffect(()=>{async function fetchApplications(){setLoading(true);setError(null);try{const res=await api.get('/api/applications/');setApplications(res.data||[]);}catch(err){console.error('LenderApplications fetchApplications error:',err);setError('Failed to load applications');}finally{setLoading(false);}}fetchApplications();},[]);const getStatusBadge=status=>{const statusMap={submitted:{variant:'info',label:'Submitted'},opened:{variant:'info',label:'Opened'},under_review:{variant:'warning',label:'Under Review'},further_info_required:{variant:'warning',label:'Further Info Required'},credit_check:{variant:'info',label:'Credit Check'},approved:{variant:'success',label:'Approved'},accepted:{variant:'success',label:'Accepted'},declined:{variant:'error',label:'Declined'},withdrawn:{variant:'info',label:'Withdrawn'},completed:{variant:'success',label:'Completed'}};const statusInfo=statusMap[status]||{variant:'info',label:status};return/*#__PURE__*/_jsx(Badge,{variant:statusInfo.variant,children:statusInfo.label});};if(loading){return/*#__PURE__*/_jsx(\"div\",{style:commonStyles.container,children:/*#__PURE__*/_jsx(\"p\",{style:{textAlign:'center',color:theme.colors.textSecondary},children:\"Loading applications...\"})});}return/*#__PURE__*/_jsxs(\"div\",{style:commonStyles.container,children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:theme.spacing.xl},children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:theme.typography.fontSize['4xl'],fontWeight:theme.typography.fontWeight.bold,margin:\"0 0 \".concat(theme.spacing.sm,\" 0\"),color:theme.colors.textPrimary},children:\"Applications & Enquiries\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:theme.colors.textSecondary,fontSize:theme.typography.fontSize.base,margin:0},children:\"View applications you've submitted and enquiries from borrowers\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{style:{background:theme.colors.errorLight,color:theme.colors.errorDark,padding:theme.spacing.md,borderRadius:theme.borderRadius.md,marginBottom:theme.spacing.lg,border:\"1px solid \".concat(theme.colors.error)},children:error}),applications.length===0?/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},commonStyles.card),{},{textAlign:'center',padding:theme.spacing['3xl']}),children:/*#__PURE__*/_jsx(\"p\",{style:{color:theme.colors.textSecondary,fontSize:theme.typography.fontSize.lg,margin:0},children:\"No applications found.\"})}):/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},commonStyles.card),{},{padding:0,overflow:'hidden'}),children:/*#__PURE__*/_jsx(\"div\",{style:{overflowX:'auto'},children:/*#__PURE__*/_jsxs(\"table\",{style:commonStyles.table,children:[/*#__PURE__*/_jsx(\"thead\",{style:commonStyles.tableHeader,children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:commonStyles.tableCell,children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{style:commonStyles.tableCell,children:\"Project\"}),/*#__PURE__*/_jsx(\"th\",{style:commonStyles.tableCell,children:\"Product\"}),/*#__PURE__*/_jsx(\"th\",{style:commonStyles.tableCell,children:\"Loan Amount (\\xA3)\"}),/*#__PURE__*/_jsx(\"th\",{style:commonStyles.tableCell,children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{style:commonStyles.tableCell,children:\"Submitted\"}),/*#__PURE__*/_jsx(\"th\",{style:commonStyles.tableCell,children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:applications.map(app=>{var _app$project_details,_app$product_details,_app$borrower_details;return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(\"tr\",{style:{borderBottom:\"1px solid \".concat(theme.colors.gray200),cursor:'pointer'},onClick:()=>setExpandedApp(expandedApp===app.id?null:app.id),children:[/*#__PURE__*/_jsx(\"td\",{style:commonStyles.tableCell,children:/*#__PURE__*/_jsx(Badge,{variant:app.initiated_by==='borrower'?'info':'secondary',children:app.initiated_by==='borrower'?'Enquiry':'Application'})}),/*#__PURE__*/_jsx(\"td\",{style:commonStyles.tableCell,children:((_app$project_details=app.project_details)===null||_app$project_details===void 0?void 0:_app$project_details.address)||\"Project #\".concat(app.project)}),/*#__PURE__*/_jsx(\"td\",{style:commonStyles.tableCell,children:((_app$product_details=app.product_details)===null||_app$product_details===void 0?void 0:_app$product_details.name)||app.product||'N/A'}),/*#__PURE__*/_jsxs(\"td\",{style:commonStyles.tableCell,children:[\"\\xA3\",parseFloat(app.proposed_loan_amount||0).toLocaleString()]}),/*#__PURE__*/_jsx(\"td\",{style:commonStyles.tableCell,children:getStatusBadge(app.status)}),/*#__PURE__*/_jsx(\"td\",{style:_objectSpread(_objectSpread({},commonStyles.tableCell),{},{fontSize:theme.typography.fontSize.sm,color:theme.colors.textSecondary}),children:app.created_at?new Date(app.created_at).toLocaleDateString():'N/A'}),/*#__PURE__*/_jsx(\"td\",{style:commonStyles.tableCell,children:/*#__PURE__*/_jsx(Button,{size:\"sm\",onClick:e=>{e.stopPropagation();setExpandedApp(expandedApp===app.id?null:app.id);},children:expandedApp===app.id?'Hide':'View Details'})})]}),expandedApp===app.id&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"7\",style:{padding:theme.spacing.lg,background:theme.colors.gray50},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:theme.spacing.lg},children:[app.borrower_details&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:0,marginBottom:theme.spacing.md},children:\"Borrower Details\"}),/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},commonStyles.card),{},{padding:theme.spacing.md}),children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",app.borrower_details.first_name,\" \",app.borrower_details.last_name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Company:\"}),\" \",app.borrower_details.company_name||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",((_app$borrower_details=app.borrower_details.user)===null||_app$borrower_details===void 0?void 0:_app$borrower_details.email)||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Phone:\"}),\" \",app.borrower_details.phone_number||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Experience:\"}),\" \",app.borrower_details.experience_description||'N/A']})]})]}),app.project_details&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:0,marginBottom:theme.spacing.md},children:\"Project Details\"}),/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},commonStyles.card),{},{padding:theme.spacing.md}),children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Address:\"}),\" \",app.project_details.address,\", \",app.project_details.town]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Postcode:\"}),\" \",app.project_details.postcode]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Funding Type:\"}),\" \",app.project_details.funding_type]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Property Type:\"}),\" \",app.project_details.property_type]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Loan Required:\"}),\" \\xA3\",parseFloat(app.project_details.loan_amount_required||0).toLocaleString()]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Term:\"}),\" \",app.project_details.term_required_months,\" months\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Description:\"}),\" \",app.project_details.description||'N/A']})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{gridColumn:'1 / -1'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:0,marginBottom:theme.spacing.md},children:\"Application Details\"}),/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},commonStyles.card),{},{padding:theme.spacing.md}),children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Proposed Loan:\"}),\" \\xA3\",parseFloat(app.proposed_loan_amount||0).toLocaleString()]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Interest Rate:\"}),\" \",app.proposed_interest_rate?\"\".concat(app.proposed_interest_rate,\"%\"):'To be determined']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Term:\"}),\" \",app.proposed_term_months,\" months\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"LTV Ratio:\"}),\" \",app.proposed_ltv_ratio?\"\".concat(app.proposed_ltv_ratio,\"%\"):'N/A']}),app.notes&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Notes:\"}),\" \",app.notes]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{gridColumn:'1 / -1',marginTop:theme.spacing.md},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:\"0 0 \".concat(theme.spacing.md,\" 0\")},children:\"Update Application Status\"}),/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},commonStyles.card),{},{padding:theme.spacing.md,background:theme.colors.gray50}),children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:theme.spacing.md},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:theme.spacing.xs,fontWeight:theme.typography.fontWeight.medium},children:\"New Status\"}),/*#__PURE__*/_jsxs(Select,{value:statusUpdateForm.status,onChange:e=>setStatusUpdateForm(_objectSpread(_objectSpread({},statusUpdateForm),{},{status:e.target.value})),style:{width:'100%'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select status...\"}),/*#__PURE__*/_jsx(\"option\",{value:\"opened\",children:\"Opened\"}),/*#__PURE__*/_jsx(\"option\",{value:\"under_review\",children:\"Under Review\"}),/*#__PURE__*/_jsx(\"option\",{value:\"further_info_required\",children:\"Further Information Required\"}),/*#__PURE__*/_jsx(\"option\",{value:\"credit_check\",children:\"Credit Check/Underwriting\"}),/*#__PURE__*/_jsx(\"option\",{value:\"approved\",children:\"Approved\"}),/*#__PURE__*/_jsx(\"option\",{value:\"accepted\",children:\"Accepted\"}),/*#__PURE__*/_jsx(\"option\",{value:\"declined\",children:\"Declined\"}),/*#__PURE__*/_jsx(\"option\",{value:\"withdrawn\",children:\"Withdrawn\"}),/*#__PURE__*/_jsx(\"option\",{value:\"completed\",children:\"Completed\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:theme.spacing.md},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:theme.spacing.xs,fontWeight:theme.typography.fontWeight.medium},children:\"Feedback/Notes (optional)\"}),/*#__PURE__*/_jsx(Textarea,{value:statusUpdateForm.feedback,onChange:e=>setStatusUpdateForm(_objectSpread(_objectSpread({},statusUpdateForm),{},{feedback:e.target.value})),placeholder:\"Add feedback or notes about this status change...\",rows:3})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:async()=>{if(!statusUpdateForm.status){alert('Please select a status');return;}setUpdatingStatus(app.id);try{await api.post(\"/api/applications/\".concat(app.id,\"/update_status/\"),{status:statusUpdateForm.status,status_feedback:statusUpdateForm.feedback});// Reload applications\nconst res=await api.get('/api/applications/');setApplications(res.data||[]);setStatusUpdateForm({status:'',feedback:''});setExpandedApp(null);}catch(err){var _err$response,_err$response$data;console.error('Status update error:',err);alert('Failed to update status: '+(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||err.message));}finally{setUpdatingStatus(null);}},disabled:updatingStatus===app.id||!statusUpdateForm.status,children:updatingStatus===app.id?'Updating...':'Update Status'})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{gridColumn:'1 / -1',marginTop:theme.spacing.md},children:/*#__PURE__*/_jsx(Link,{to:\"/lender/messages?application_id=\".concat(app.id),children:/*#__PURE__*/_jsx(Button,{variant:\"outline\",children:\"Message Borrower\"})})})]})})})]},app.id);})})]})})})]});}export default LenderApplications;","map":{"version":3,"names":["React","useEffect","useState","Link","api","theme","commonStyles","Badge","Button","Select","Textarea","jsx","_jsx","jsxs","_jsxs","LenderApplications","applications","setApplications","error","setError","loading","setLoading","expandedApp","setExpandedApp","updatingStatus","setUpdatingStatus","statusUpdateForm","setStatusUpdateForm","status","feedback","fetchApplications","res","get","data","err","console","getStatusBadge","statusMap","submitted","variant","label","opened","under_review","further_info_required","credit_check","approved","accepted","declined","withdrawn","completed","statusInfo","children","style","container","textAlign","color","colors","textSecondary","marginBottom","spacing","xl","fontSize","typography","fontWeight","bold","margin","concat","sm","textPrimary","base","background","errorLight","errorDark","padding","md","borderRadius","lg","border","length","_objectSpread","card","overflow","overflowX","table","tableHeader","tableCell","map","app","_app$project_details","_app$product_details","_app$borrower_details","Fragment","borderBottom","gray200","cursor","onClick","id","initiated_by","project_details","address","project","product_details","name","product","parseFloat","proposed_loan_amount","toLocaleString","created_at","Date","toLocaleDateString","size","e","stopPropagation","colSpan","gray50","display","gridTemplateColumns","gap","borrower_details","marginTop","first_name","last_name","company_name","user","email","phone_number","experience_description","town","postcode","funding_type","property_type","loan_amount_required","term_required_months","description","gridColumn","proposed_interest_rate","proposed_term_months","proposed_ltv_ratio","notes","xs","medium","value","onChange","target","width","placeholder","rows","alert","post","status_feedback","_err$response","_err$response$data","response","message","disabled","to"],"sources":["C:/Users/paul-/OneDrive - BARE Capital Ltd/BARE Drive/10.0 BUILDFUND/1.0 Website Dev/GitHub/new_website/src/pages/LenderApplications.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport api from '../api';\r\nimport { theme, commonStyles } from '../styles/theme';\r\nimport Badge from '../components/Badge';\r\nimport Button from '../components/Button';\r\nimport Select from '../components/Select';\r\nimport Textarea from '../components/Textarea';\r\n\r\nfunction LenderApplications() {\r\n  const [applications, setApplications] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [expandedApp, setExpandedApp] = useState(null);\r\n  const [updatingStatus, setUpdatingStatus] = useState(null);\r\n  const [statusUpdateForm, setStatusUpdateForm] = useState({ status: '', feedback: '' });\r\n\r\n  useEffect(() => {\r\n    async function fetchApplications() {\r\n      setLoading(true);\r\n      setError(null);\r\n      try {\r\n        const res = await api.get('/api/applications/');\r\n        setApplications(res.data || []);\r\n      } catch (err) {\r\n        console.error('LenderApplications fetchApplications error:', err);\r\n        setError('Failed to load applications');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n    fetchApplications();\r\n  }, []);\r\n\r\n  const getStatusBadge = (status) => {\r\n    const statusMap = {\r\n      submitted: { variant: 'info', label: 'Submitted' },\r\n      opened: { variant: 'info', label: 'Opened' },\r\n      under_review: { variant: 'warning', label: 'Under Review' },\r\n      further_info_required: { variant: 'warning', label: 'Further Info Required' },\r\n      credit_check: { variant: 'info', label: 'Credit Check' },\r\n      approved: { variant: 'success', label: 'Approved' },\r\n      accepted: { variant: 'success', label: 'Accepted' },\r\n      declined: { variant: 'error', label: 'Declined' },\r\n      withdrawn: { variant: 'info', label: 'Withdrawn' },\r\n      completed: { variant: 'success', label: 'Completed' },\r\n    };\r\n    const statusInfo = statusMap[status] || { variant: 'info', label: status };\r\n    return <Badge variant={statusInfo.variant}>{statusInfo.label}</Badge>;\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div style={commonStyles.container}>\r\n        <p style={{ textAlign: 'center', color: theme.colors.textSecondary }}>Loading applications...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={commonStyles.container}>\r\n      <div style={{ marginBottom: theme.spacing.xl }}>\r\n        <h1 style={{\r\n          fontSize: theme.typography.fontSize['4xl'],\r\n          fontWeight: theme.typography.fontWeight.bold,\r\n          margin: `0 0 ${theme.spacing.sm} 0`,\r\n          color: theme.colors.textPrimary,\r\n        }}>\r\n          Applications & Enquiries\r\n        </h1>\r\n        <p style={{\r\n          color: theme.colors.textSecondary,\r\n          fontSize: theme.typography.fontSize.base,\r\n          margin: 0,\r\n        }}>\r\n          View applications you've submitted and enquiries from borrowers\r\n        </p>\r\n      </div>\r\n\r\n      {error && (\r\n        <div style={{\r\n          background: theme.colors.errorLight,\r\n          color: theme.colors.errorDark,\r\n          padding: theme.spacing.md,\r\n          borderRadius: theme.borderRadius.md,\r\n          marginBottom: theme.spacing.lg,\r\n          border: `1px solid ${theme.colors.error}`,\r\n        }}>\r\n          {error}\r\n        </div>\r\n      )}\r\n\r\n      {applications.length === 0 ? (\r\n        <div style={{\r\n          ...commonStyles.card,\r\n          textAlign: 'center',\r\n          padding: theme.spacing['3xl'],\r\n        }}>\r\n          <p style={{ \r\n            color: theme.colors.textSecondary, \r\n            fontSize: theme.typography.fontSize.lg,\r\n            margin: 0,\r\n          }}>\r\n            No applications found.\r\n          </p>\r\n        </div>\r\n      ) : (\r\n        <div style={{ ...commonStyles.card, padding: 0, overflow: 'hidden' }}>\r\n          <div style={{ overflowX: 'auto' }}>\r\n            <table style={commonStyles.table}>\r\n              <thead style={commonStyles.tableHeader}>\r\n                <tr>\r\n                  <th style={commonStyles.tableCell}>Type</th>\r\n                  <th style={commonStyles.tableCell}>Project</th>\r\n                  <th style={commonStyles.tableCell}>Product</th>\r\n                  <th style={commonStyles.tableCell}>Loan Amount (£)</th>\r\n                  <th style={commonStyles.tableCell}>Status</th>\r\n                  <th style={commonStyles.tableCell}>Submitted</th>\r\n                  <th style={commonStyles.tableCell}>Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {applications.map((app) => (\r\n                  <React.Fragment key={app.id}>\r\n                    <tr style={{ borderBottom: `1px solid ${theme.colors.gray200}`, cursor: 'pointer' }}\r\n                        onClick={() => setExpandedApp(expandedApp === app.id ? null : app.id)}>\r\n                      <td style={commonStyles.tableCell}>\r\n                        <Badge variant={app.initiated_by === 'borrower' ? 'info' : 'secondary'}>\r\n                          {app.initiated_by === 'borrower' ? 'Enquiry' : 'Application'}\r\n                        </Badge>\r\n                      </td>\r\n                      <td style={commonStyles.tableCell}>\r\n                        {app.project_details?.address || `Project #${app.project}`}\r\n                      </td>\r\n                      <td style={commonStyles.tableCell}>\r\n                        {app.product_details?.name || app.product || 'N/A'}\r\n                      </td>\r\n                      <td style={commonStyles.tableCell}>\r\n                        £{parseFloat(app.proposed_loan_amount || 0).toLocaleString()}\r\n                      </td>\r\n                      <td style={commonStyles.tableCell}>{getStatusBadge(app.status)}</td>\r\n                      <td style={{ ...commonStyles.tableCell, fontSize: theme.typography.fontSize.sm, color: theme.colors.textSecondary }}>\r\n                        {app.created_at ? new Date(app.created_at).toLocaleDateString() : 'N/A'}\r\n                      </td>\r\n                      <td style={commonStyles.tableCell}>\r\n                        <Button size=\"sm\" onClick={(e) => { e.stopPropagation(); setExpandedApp(expandedApp === app.id ? null : app.id); }}>\r\n                          {expandedApp === app.id ? 'Hide' : 'View Details'}\r\n                        </Button>\r\n                      </td>\r\n                    </tr>\r\n                    {expandedApp === app.id && (\r\n                      <tr>\r\n                        <td colSpan=\"7\" style={{ padding: theme.spacing.lg, background: theme.colors.gray50 }}>\r\n                          <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: theme.spacing.lg }}>\r\n                            {/* Borrower Details */}\r\n                            {app.borrower_details && (\r\n                              <div>\r\n                                <h3 style={{ marginTop: 0, marginBottom: theme.spacing.md }}>Borrower Details</h3>\r\n                                <div style={{ ...commonStyles.card, padding: theme.spacing.md }}>\r\n                                  <p><strong>Name:</strong> {app.borrower_details.first_name} {app.borrower_details.last_name}</p>\r\n                                  <p><strong>Company:</strong> {app.borrower_details.company_name || 'N/A'}</p>\r\n                                  <p><strong>Email:</strong> {app.borrower_details.user?.email || 'N/A'}</p>\r\n                                  <p><strong>Phone:</strong> {app.borrower_details.phone_number || 'N/A'}</p>\r\n                                  <p><strong>Experience:</strong> {app.borrower_details.experience_description || 'N/A'}</p>\r\n                                </div>\r\n                              </div>\r\n                            )}\r\n                            \r\n                            {/* Project Details */}\r\n                            {app.project_details && (\r\n                              <div>\r\n                                <h3 style={{ marginTop: 0, marginBottom: theme.spacing.md }}>Project Details</h3>\r\n                                <div style={{ ...commonStyles.card, padding: theme.spacing.md }}>\r\n                                  <p><strong>Address:</strong> {app.project_details.address}, {app.project_details.town}</p>\r\n                                  <p><strong>Postcode:</strong> {app.project_details.postcode}</p>\r\n                                  <p><strong>Funding Type:</strong> {app.project_details.funding_type}</p>\r\n                                  <p><strong>Property Type:</strong> {app.project_details.property_type}</p>\r\n                                  <p><strong>Loan Required:</strong> £{parseFloat(app.project_details.loan_amount_required || 0).toLocaleString()}</p>\r\n                                  <p><strong>Term:</strong> {app.project_details.term_required_months} months</p>\r\n                                  <p><strong>Description:</strong> {app.project_details.description || 'N/A'}</p>\r\n                                </div>\r\n                              </div>\r\n                            )}\r\n                            \r\n                            {/* Application Details */}\r\n                            <div style={{ gridColumn: '1 / -1' }}>\r\n                              <h3 style={{ marginTop: 0, marginBottom: theme.spacing.md }}>Application Details</h3>\r\n                              <div style={{ ...commonStyles.card, padding: theme.spacing.md }}>\r\n                                <p><strong>Proposed Loan:</strong> £{parseFloat(app.proposed_loan_amount || 0).toLocaleString()}</p>\r\n                                <p><strong>Interest Rate:</strong> {app.proposed_interest_rate ? `${app.proposed_interest_rate}%` : 'To be determined'}</p>\r\n                                <p><strong>Term:</strong> {app.proposed_term_months} months</p>\r\n                                <p><strong>LTV Ratio:</strong> {app.proposed_ltv_ratio ? `${app.proposed_ltv_ratio}%` : 'N/A'}</p>\r\n                                {app.notes && <p><strong>Notes:</strong> {app.notes}</p>}\r\n                              </div>\r\n                            </div>\r\n                            \r\n                            {/* Status Update Section (for lenders) */}\r\n                            <div style={{ gridColumn: '1 / -1', marginTop: theme.spacing.md }}>\r\n                              <h4 style={{ margin: `0 0 ${theme.spacing.md} 0` }}>Update Application Status</h4>\r\n                              <div style={{\r\n                                ...commonStyles.card,\r\n                                padding: theme.spacing.md,\r\n                                background: theme.colors.gray50,\r\n                              }}>\r\n                                <div style={{ marginBottom: theme.spacing.md }}>\r\n                                  <label style={{\r\n                                    display: 'block',\r\n                                    marginBottom: theme.spacing.xs,\r\n                                    fontWeight: theme.typography.fontWeight.medium,\r\n                                  }}>\r\n                                    New Status\r\n                                  </label>\r\n                                  <Select\r\n                                    value={statusUpdateForm.status}\r\n                                    onChange={(e) => setStatusUpdateForm({ ...statusUpdateForm, status: e.target.value })}\r\n                                    style={{ width: '100%' }}\r\n                                  >\r\n                                    <option value=\"\">Select status...</option>\r\n                                    <option value=\"opened\">Opened</option>\r\n                                    <option value=\"under_review\">Under Review</option>\r\n                                    <option value=\"further_info_required\">Further Information Required</option>\r\n                                    <option value=\"credit_check\">Credit Check/Underwriting</option>\r\n                                    <option value=\"approved\">Approved</option>\r\n                                    <option value=\"accepted\">Accepted</option>\r\n                                    <option value=\"declined\">Declined</option>\r\n                                    <option value=\"withdrawn\">Withdrawn</option>\r\n                                    <option value=\"completed\">Completed</option>\r\n                                  </Select>\r\n                                </div>\r\n                                <div style={{ marginBottom: theme.spacing.md }}>\r\n                                  <label style={{\r\n                                    display: 'block',\r\n                                    marginBottom: theme.spacing.xs,\r\n                                    fontWeight: theme.typography.fontWeight.medium,\r\n                                  }}>\r\n                                    Feedback/Notes (optional)\r\n                                  </label>\r\n                                  <Textarea\r\n                                    value={statusUpdateForm.feedback}\r\n                                    onChange={(e) => setStatusUpdateForm({ ...statusUpdateForm, feedback: e.target.value })}\r\n                                    placeholder=\"Add feedback or notes about this status change...\"\r\n                                    rows={3}\r\n                                  />\r\n                                </div>\r\n                                <Button\r\n                                  variant=\"primary\"\r\n                                  onClick={async () => {\r\n                                    if (!statusUpdateForm.status) {\r\n                                      alert('Please select a status');\r\n                                      return;\r\n                                    }\r\n                                    setUpdatingStatus(app.id);\r\n                                    try {\r\n                                      await api.post(`/api/applications/${app.id}/update_status/`, {\r\n                                        status: statusUpdateForm.status,\r\n                                        status_feedback: statusUpdateForm.feedback,\r\n                                      });\r\n                                      // Reload applications\r\n                                      const res = await api.get('/api/applications/');\r\n                                      setApplications(res.data || []);\r\n                                      setStatusUpdateForm({ status: '', feedback: '' });\r\n                                      setExpandedApp(null);\r\n                                    } catch (err) {\r\n                                      console.error('Status update error:', err);\r\n                                      alert('Failed to update status: ' + (err.response?.data?.error || err.message));\r\n                                    } finally {\r\n                                      setUpdatingStatus(null);\r\n                                    }\r\n                                  }}\r\n                                  disabled={updatingStatus === app.id || !statusUpdateForm.status}\r\n                                >\r\n                                  {updatingStatus === app.id ? 'Updating...' : 'Update Status'}\r\n                                </Button>\r\n                              </div>\r\n                            </div>\r\n                            \r\n                            {/* Messaging Link */}\r\n                            <div style={{ gridColumn: '1 / -1', marginTop: theme.spacing.md }}>\r\n                              <Link to={`/lender/messages?application_id=${app.id}`}>\r\n                                <Button variant=\"outline\">Message Borrower</Button>\r\n                              </Link>\r\n                            </div>\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                    )}\r\n                  </React.Fragment>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LenderApplications;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}