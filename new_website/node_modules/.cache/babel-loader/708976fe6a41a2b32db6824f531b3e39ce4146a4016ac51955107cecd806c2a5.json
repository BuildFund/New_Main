{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\paul-\\\\OneDrive - BARE Capital Ltd\\\\BARE Drive\\\\10.0 BUILDFUND\\\\1.0 Website Dev\\\\GitHub\\\\new_website\\\\src\\\\pages\\\\ConsultantProfileWizard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport api from '../api';\nimport { theme, commonStyles } from '../styles/theme';\nimport Wizard from '../components/Wizard';\nimport Input from '../components/Input';\nimport Select from '../components/Select';\nimport Textarea from '../components/Textarea';\nimport Checkbox from '../components/Checkbox';\nimport Button from '../components/Button';\nimport CompanyDetails from '../components/CompanyDetails';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ConsultantProfileWizard() {\n  _s();\n  const navigate = useNavigate();\n  const [step, setStep] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [message, setMessage] = useState(null);\n  const [profile, setProfile] = useState(null);\n\n  // Step 1: Account setup and consent\n  const [step1Data, setStep1Data] = useState({\n    email: '',\n    mobile_number: '',\n    mfa_enabled: false,\n    consent_privacy: false,\n    consent_terms: false,\n    consent_credit_search: false\n  });\n\n  // Step 2: Company verification\n  const [step2Data, setStep2Data] = useState({\n    company_number: '',\n    company_name: '',\n    company_search_type: 'number',\n    company_data: null,\n    company_search_results: [],\n    show_search_results: false,\n    trading_address: '',\n    primary_contact_email: '',\n    primary_contact_phone: '',\n    confirmed: false\n  });\n\n  // Step 3: Directors and shareholders (for reference, user assignment)\n  const [step3Data, setStep3Data] = useState({\n    directors: [],\n    shareholders: [],\n    key_personnel_confirmed: [],\n    account_holder_is_director: false,\n    account_holder_name: '',\n    account_holder_role: ''\n  });\n\n  // Step 4: Key contact details\n  const [step4Data, setStep4Data] = useState({\n    primary_contact_email: '',\n    primary_contact_phone: '',\n    website: '',\n    address_line_1: '',\n    address_line_2: '',\n    city: '',\n    county: '',\n    postcode: '',\n    country: 'United Kingdom'\n  });\n\n  // Step 5: Services & Qualifications (renumbered from step 2)\n  const [step5Data, setStep5Data] = useState({\n    primary_service: '',\n    services_offered: [],\n    qualifications: [],\n    professional_registration_numbers: {\n      rics: '',\n      sra: '',\n      cilex: ''\n    }\n  });\n\n  // Step 6: Service Details (renumbered from step 4)\n  const [step6Data, setStep6Data] = useState({\n    service_description: '',\n    years_of_experience: '',\n    team_size: '',\n    key_personnel: [],\n    geographic_coverage: []\n  });\n\n  // Step 7: Capacity & Availability (renumbered from step 5)\n  const [step7Data, setStep7Data] = useState({\n    current_capacity: '10',\n    max_capacity: '20',\n    average_response_time_days: '3'\n  });\n\n  // Step 8: Insurance & Compliance (renumbered from step 6)\n  const [step8Data, setStep8Data] = useState({\n    insurance_details: {\n      provider: '',\n      policy_number: '',\n      expiry_date: '',\n      coverage_amount: ''\n    },\n    compliance_certifications: []\n  });\n  const steps = ['Account & Consent', 'Company Verification', 'Company Personnel', 'Key Contact Details', 'Services & Qualifications', 'Service Details', 'Capacity & Availability', 'Insurance & Compliance'];\n  useEffect(() => {\n    fetchProfile();\n  }, []);\n  const fetchProfile = async () => {\n    try {\n      const response = await api.get('/api/consultants/profiles/');\n      const data = Array.isArray(response.data) ? response.data[0] : response.data;\n      if (data) {\n        var _data$years_of_experi, _data$team_size, _data$current_capacit, _data$max_capacity, _data$average_respons;\n        setProfile(data);\n        // Pre-fill form data\n        setStep1Data({\n          email: data.contact_email || '',\n          mobile_number: data.contact_phone || '',\n          mfa_enabled: data.mfa_enabled || false,\n          consent_privacy: data.consent_privacy || false,\n          consent_terms: data.consent_terms || false,\n          consent_credit_search: data.consent_credit_search || false\n        });\n        setStep2Data({\n          company_number: data.company_registration_number || '',\n          company_name: data.organisation_name || '',\n          company_search_type: 'number',\n          company_data: data.company_data || null,\n          company_search_results: [],\n          show_search_results: false,\n          trading_address: data.trading_address || '',\n          primary_contact_email: data.contact_email || '',\n          primary_contact_phone: data.contact_phone || '',\n          confirmed: !!data.company_registration_number\n        });\n        setStep3Data({\n          directors: data.directors_data || [],\n          shareholders: data.shareholders_data || [],\n          key_personnel_confirmed: data.key_personnel || [],\n          account_holder_is_director: data.account_holder_is_director || false,\n          account_holder_name: data.account_holder_name || '',\n          account_holder_role: data.account_holder_role || ''\n        });\n        setStep4Data({\n          primary_contact_email: data.contact_email || '',\n          primary_contact_phone: data.contact_phone || '',\n          website: data.website || '',\n          address_line_1: data.address_line_1 || '',\n          address_line_2: data.address_line_2 || '',\n          city: data.city || '',\n          county: data.county || '',\n          postcode: data.postcode || '',\n          country: data.country || 'United Kingdom'\n        });\n        setStep5Data({\n          primary_service: data.primary_service || '',\n          services_offered: data.services_offered || [],\n          qualifications: data.qualifications || [],\n          professional_registration_numbers: data.professional_registration_numbers || {\n            rics: '',\n            sra: '',\n            cilex: ''\n          }\n        });\n        setStep6Data({\n          service_description: data.service_description || '',\n          years_of_experience: ((_data$years_of_experi = data.years_of_experience) === null || _data$years_of_experi === void 0 ? void 0 : _data$years_of_experi.toString()) || '',\n          team_size: ((_data$team_size = data.team_size) === null || _data$team_size === void 0 ? void 0 : _data$team_size.toString()) || '',\n          key_personnel: data.key_personnel || [],\n          geographic_coverage: data.geographic_coverage || []\n        });\n        setStep7Data({\n          current_capacity: ((_data$current_capacit = data.current_capacity) === null || _data$current_capacit === void 0 ? void 0 : _data$current_capacit.toString()) || '10',\n          max_capacity: ((_data$max_capacity = data.max_capacity) === null || _data$max_capacity === void 0 ? void 0 : _data$max_capacity.toString()) || '20',\n          average_response_time_days: ((_data$average_respons = data.average_response_time_days) === null || _data$average_respons === void 0 ? void 0 : _data$average_respons.toString()) || '3'\n        });\n        setStep8Data({\n          insurance_details: data.insurance_details || {\n            provider: '',\n            policy_number: '',\n            expiry_date: '',\n            coverage_amount: ''\n          },\n          compliance_certifications: data.compliance_certifications || []\n        });\n      }\n    } catch (err) {\n      var _err$response;\n      console.error('Failed to fetch profile:', err);\n      if (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) !== 404) {\n        setError('Failed to load profile');\n      }\n    }\n  };\n  const handleCompanySearch = async () => {\n    if (step2Data.company_search_type === 'number') {\n      if (!step2Data.company_number) {\n        setError('Please enter a company number');\n        return;\n      }\n      setLoading(true);\n      setError(null);\n      try {\n        const res = await api.get('/api/verification/company/get_full_company_details/', {\n          params: {\n            company_number: step2Data.company_number\n          }\n        });\n        if (res.data.error) {\n          setError(res.data.error);\n        } else {\n          setStep2Data({\n            ...step2Data,\n            company_data: res.data,\n            company_number: res.data.company_number || step2Data.company_number,\n            company_name: res.data.company_name || step2Data.company_name,\n            show_search_results: false\n          });\n          setMessage('Company found! Please review and confirm the details.');\n          // Auto-populate step 3 with directors\n          if (res.data.directors) {\n            setStep3Data(prev => ({\n              ...prev,\n              directors: res.data.directors.map(d => ({\n                ...d,\n                confirmed: false\n              }))\n            }));\n          }\n          if (res.data.pscs) {\n            setStep3Data(prev => ({\n              ...prev,\n              shareholders: res.data.pscs.map(p => ({\n                ...p,\n                confirmed: false\n              }))\n            }));\n          }\n        }\n      } catch (err) {\n        var _err$response2, _err$response2$data;\n        console.error('Company search error:', err);\n        setError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.error) || 'Failed to search company. Please try again.');\n      } finally {\n        setLoading(false);\n      }\n    } else {\n      if (!step2Data.company_name) {\n        setError('Please enter a company name');\n        return;\n      }\n      setLoading(true);\n      setError(null);\n      try {\n        const res = await api.get('/api/verification/company/search_companies/', {\n          params: {\n            company_name: step2Data.company_name\n          }\n        });\n        if (res.data.error) {\n          setError(res.data.error);\n        } else if (res.data.companies && res.data.companies.length > 0) {\n          if (res.data.companies.length === 1) {\n            await handleSelectCompany(res.data.companies[0].company_number);\n          } else {\n            setStep2Data({\n              ...step2Data,\n              company_search_results: res.data.companies,\n              show_search_results: true\n            });\n            setMessage(`Found ${res.data.companies.length} matching companies. Please select one:`);\n          }\n        } else {\n          setError('No companies found matching that name. Please try a different search term.');\n        }\n      } catch (err) {\n        var _err$response3, _err$response3$data;\n        console.error('Company search error:', err);\n        setError(((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.error) || 'Failed to search company. Please try again.');\n      } finally {\n        setLoading(false);\n      }\n    }\n  };\n  const handleSelectCompany = async companyNumber => {\n    setLoading(true);\n    setError(null);\n    try {\n      const res = await api.get('/api/verification/company/get_full_company_details/', {\n        params: {\n          company_number: companyNumber\n        }\n      });\n      if (res.data.error) {\n        setError(res.data.error);\n      } else {\n        setStep2Data({\n          ...step2Data,\n          company_data: res.data,\n          company_number: res.data.company_number,\n          company_name: res.data.company_name,\n          company_search_results: [],\n          show_search_results: false\n        });\n        setMessage('Company found! Please review and confirm the details.');\n        // Auto-populate step 3 with directors\n        if (res.data.directors) {\n          setStep3Data(prev => ({\n            ...prev,\n            directors: res.data.directors.map(d => ({\n              ...d,\n              confirmed: false\n            }))\n          }));\n        }\n        if (res.data.pscs) {\n          setStep3Data(prev => ({\n            ...prev,\n            shareholders: res.data.pscs.map(p => ({\n              ...p,\n              confirmed: false\n            }))\n          }));\n        }\n      }\n    } catch (err) {\n      var _err$response4, _err$response4$data;\n      console.error('Failed to load company details:', err);\n      setError(((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.error) || 'Failed to load company details. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleSaveAndContinue = async () => {\n    setError(null);\n    setMessage(null);\n    if (step < steps.length) {\n      // Auto-save current step\n      try {\n        const payload = buildPayload();\n        if (profile) {\n          await api.put(`/api/consultants/profiles/${profile.id}/`, payload);\n        } else {\n          const response = await api.post('/api/consultants/profiles/', payload);\n          setProfile(response.data);\n        }\n        setStep(step + 1);\n      } catch (err) {\n        var _err$response5, _err$response5$data;\n        console.error('Save failed:', err);\n        setError(((_err$response5 = err.response) === null || _err$response5 === void 0 ? void 0 : (_err$response5$data = _err$response5.data) === null || _err$response5$data === void 0 ? void 0 : _err$response5$data.detail) || 'Failed to save profile');\n      }\n    } else {\n      // Final step - complete profile\n      await handleSubmit();\n    }\n  };\n  const handleSubmit = async () => {\n    setLoading(true);\n    setError(null);\n    setMessage(null);\n    try {\n      const payload = buildPayload();\n      if (profile) {\n        await api.put(`/api/consultants/profiles/${profile.id}/`, payload);\n        setMessage('Profile updated successfully');\n      } else {\n        await api.post('/api/consultants/profiles/', payload);\n        setMessage('Profile created successfully');\n      }\n      setTimeout(() => {\n        navigate('/consultant/profile');\n      }, 1500);\n    } catch (err) {\n      var _err$response6, _err$response6$data;\n      console.error('Submit failed:', err);\n      setError(((_err$response6 = err.response) === null || _err$response6 === void 0 ? void 0 : (_err$response6$data = _err$response6.data) === null || _err$response6$data === void 0 ? void 0 : _err$response6$data.detail) || 'Failed to save profile');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const buildPayload = () => {\n    // Clean up professional registration numbers - only include non-empty values\n    const regNumbers = {};\n    if (step5Data.professional_registration_numbers.rics) {\n      regNumbers.rics = step5Data.professional_registration_numbers.rics;\n    }\n    if (step5Data.professional_registration_numbers.sra) {\n      regNumbers.sra = step5Data.professional_registration_numbers.sra;\n    }\n    if (step5Data.professional_registration_numbers.cilex) {\n      regNumbers.cilex = step5Data.professional_registration_numbers.cilex;\n    }\n    return {\n      organisation_name: step2Data.company_name,\n      company_registration_number: step2Data.company_number,\n      company_data: step2Data.company_data,\n      trading_address: step2Data.trading_address,\n      directors_data: step3Data.directors,\n      shareholders_data: step3Data.shareholders,\n      account_holder_is_director: step3Data.account_holder_is_director,\n      account_holder_name: step3Data.account_holder_name,\n      account_holder_role: step3Data.account_holder_role,\n      primary_service: step5Data.primary_service,\n      services_offered: step5Data.services_offered,\n      qualifications: step5Data.qualifications,\n      professional_registration_numbers: regNumbers,\n      contact_email: step4Data.primary_contact_email || step1Data.email,\n      contact_phone: step4Data.primary_contact_phone || step1Data.mobile_number,\n      website: step4Data.website,\n      address_line_1: step4Data.address_line_1,\n      address_line_2: step4Data.address_line_2,\n      city: step4Data.city,\n      county: step4Data.county,\n      postcode: step4Data.postcode,\n      country: step4Data.country,\n      geographic_coverage: step6Data.geographic_coverage,\n      service_description: step6Data.service_description,\n      years_of_experience: step6Data.years_of_experience ? parseInt(step6Data.years_of_experience) : null,\n      team_size: step6Data.team_size ? parseInt(step6Data.team_size) : null,\n      key_personnel: step3Data.key_personnel_confirmed.length > 0 ? step3Data.key_personnel_confirmed : step6Data.key_personnel,\n      current_capacity: parseInt(step7Data.current_capacity),\n      max_capacity: parseInt(step7Data.max_capacity),\n      average_response_time_days: parseInt(step7Data.average_response_time_days),\n      insurance_details: step8Data.insurance_details,\n      compliance_certifications: step8Data.compliance_certifications,\n      mobile_number: step1Data.mobile_number,\n      mfa_enabled: step1Data.mfa_enabled,\n      consent_privacy: step1Data.consent_privacy,\n      consent_terms: step1Data.consent_terms,\n      consent_credit_search: step1Data.consent_credit_search\n    };\n  };\n  const nextStep = () => {\n    if (step < steps.length) {\n      setStep(step + 1);\n    }\n  };\n  const prevStep = () => {\n    if (step > 1) {\n      setStep(step - 1);\n    }\n  };\n  const canNavigateToStep = stepNumber => {\n    if (stepNumber <= step) return true;\n    if (stepNumber === 2 && step1Data.consent_privacy && step1Data.consent_terms && step1Data.consent_credit_search) return true;\n    if (stepNumber === 3 && step2Data.company_data) return true;\n    if (stepNumber === 4 && step3Data.key_personnel_confirmed.length > 0) return true;\n    return false;\n  };\n  const handleStepClick = stepNumber => {\n    if (canNavigateToStep(stepNumber)) {\n      setStep(stepNumber);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      ...commonStyles.container,\n      padding: theme.spacing.xl\n    },\n    children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: theme.colors.errorLight,\n        color: theme.colors.errorDark,\n        padding: theme.spacing.md,\n        borderRadius: theme.borderRadius.md,\n        marginBottom: theme.spacing.lg\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 463,\n      columnNumber: 9\n    }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: theme.colors.successLight,\n        color: theme.colors.successDark,\n        padding: theme.spacing.md,\n        borderRadius: theme.borderRadius.md,\n        marginBottom: theme.spacing.lg\n      },\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 474,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Wizard, {\n      steps: steps,\n      currentStep: step,\n      onStepClick: handleStepClick,\n      canNavigateToStep: canNavigateToStep,\n      children: [step === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            fontSize: theme.typography.fontSize['2xl'],\n            fontWeight: theme.typography.fontWeight.semibold,\n            margin: `0 0 ${theme.spacing.lg} 0`\n          },\n          children: \"Account Setup & Consent\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 494,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: theme.colors.textSecondary,\n            marginBottom: theme.spacing.lg\n          },\n          children: \"Please provide your contact details and confirm your consents.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gap: theme.spacing.lg,\n            marginBottom: theme.spacing.xl\n          },\n          children: [/*#__PURE__*/_jsxDEV(Input, {\n            label: \"Email Address\",\n            type: \"email\",\n            value: step1Data.email,\n            onChange: e => setStep1Data({\n              ...step1Data,\n              email: e.target.value\n            }),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 506,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: \"Mobile Number\",\n            type: \"tel\",\n            value: step1Data.mobile_number,\n            onChange: e => setStep1Data({\n              ...step1Data,\n              mobile_number: e.target.value\n            }),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 513,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Checkbox, {\n            label: \"Enable Multi-Factor Authentication (MFA)\",\n            checked: step1Data.mfa_enabled,\n            onChange: e => setStep1Data({\n              ...step1Data,\n              mfa_enabled: e.target.checked\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 520,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 505,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            ...commonStyles.card,\n            padding: theme.spacing.lg,\n            marginBottom: theme.spacing.xl,\n            background: theme.colors.gray50,\n            border: `2px solid ${!step1Data.consent_privacy || !step1Data.consent_terms || !step1Data.consent_credit_search ? theme.colors.warning : theme.colors.gray200}`\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: `0 0 ${theme.spacing.md} 0`\n            },\n            children: \"Required Consents\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 534,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: theme.typography.fontSize.sm,\n              color: theme.colors.textSecondary,\n              marginBottom: theme.spacing.md\n            },\n            children: \"You must agree to all of the following to proceed with your profile setup.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 535,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: theme.spacing.md\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                alignItems: 'start',\n                gap: theme.spacing.sm\n              },\n              children: [/*#__PURE__*/_jsxDEV(Checkbox, {\n                label: \"\",\n                checked: step1Data.consent_privacy,\n                onChange: e => setStep1Data({\n                  ...step1Data,\n                  consent_privacy: e.target.checked\n                }),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 544,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  flex: 1\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  style: {\n                    cursor: 'pointer'\n                  },\n                  children: [\"I consent to the\", ' ', /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: \"/privacy-policy\",\n                    target: \"_blank\",\n                    rel: \"noopener noreferrer\",\n                    style: {\n                      color: theme.colors.primary,\n                      textDecoration: 'underline'\n                    },\n                    children: \"Privacy Policy\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 553,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 551,\n                  columnNumber: 21\n                }, this), !step1Data.consent_privacy && /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    margin: `${theme.spacing.xs} 0 0 0`,\n                    fontSize: theme.typography.fontSize.xs,\n                    color: theme.colors.error\n                  },\n                  children: \"This consent is required\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 558,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 550,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 543,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                alignItems: 'start',\n                gap: theme.spacing.sm\n              },\n              children: [/*#__PURE__*/_jsxDEV(Checkbox, {\n                label: \"\",\n                checked: step1Data.consent_terms,\n                onChange: e => setStep1Data({\n                  ...step1Data,\n                  consent_terms: e.target.checked\n                }),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 566,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  flex: 1\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  style: {\n                    cursor: 'pointer'\n                  },\n                  children: [\"I accept the\", ' ', /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: \"/terms-and-conditions\",\n                    target: \"_blank\",\n                    rel: \"noopener noreferrer\",\n                    style: {\n                      color: theme.colors.primary,\n                      textDecoration: 'underline'\n                    },\n                    children: \"Terms and Conditions\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 575,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 573,\n                  columnNumber: 21\n                }, this), !step1Data.consent_terms && /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    margin: `${theme.spacing.xs} 0 0 0`,\n                    fontSize: theme.typography.fontSize.xs,\n                    color: theme.colors.error\n                  },\n                  children: \"This consent is required\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 580,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 572,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 565,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                alignItems: 'start',\n                gap: theme.spacing.sm\n              },\n              children: [/*#__PURE__*/_jsxDEV(Checkbox, {\n                label: \"\",\n                checked: step1Data.consent_credit_search,\n                onChange: e => setStep1Data({\n                  ...step1Data,\n                  consent_credit_search: e.target.checked\n                }),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 588,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  flex: 1\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  style: {\n                    cursor: 'pointer'\n                  },\n                  children: \"I consent to credit search permission\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 595,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    margin: `${theme.spacing.xs} 0 0 0`,\n                    fontSize: theme.typography.fontSize.xs,\n                    color: theme.colors.textSecondary\n                  },\n                  children: \"We may perform credit checks as part of the verification process\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 598,\n                  columnNumber: 21\n                }, this), !step1Data.consent_credit_search && /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    margin: `${theme.spacing.xs} 0 0 0`,\n                    fontSize: theme.typography.fontSize.xs,\n                    color: theme.colors.error\n                  },\n                  children: \"This consent is required\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 602,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 594,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 587,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 542,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 527,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'flex-end',\n            marginTop: theme.spacing.xl\n          },\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: nextStep,\n            disabled: !step1Data.consent_privacy || !step1Data.consent_terms || !step1Data.consent_credit_search,\n            children: \"Next: Company Verification\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 612,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 611,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 493,\n        columnNumber: 11\n      }, this), step === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            fontSize: theme.typography.fontSize['2xl'],\n            fontWeight: theme.typography.fontWeight.semibold,\n            margin: `0 0 ${theme.spacing.lg} 0`\n          },\n          children: \"Company Verification (UK Only)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 626,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: theme.colors.textSecondary,\n            marginBottom: theme.spacing.lg\n          },\n          children: \"Search for your company using Companies House.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 633,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: theme.spacing.lg\n          },\n          children: [/*#__PURE__*/_jsxDEV(Select, {\n            label: \"Search By\",\n            value: step2Data.company_search_type,\n            onChange: e => setStep2Data({\n              ...step2Data,\n              company_search_type: e.target.value\n            }),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"number\",\n              children: \"Company Number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 643,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"name\",\n              children: \"Company Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 644,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 638,\n            columnNumber: 15\n          }, this), step2Data.company_search_type === 'number' ? /*#__PURE__*/_jsxDEV(Input, {\n            label: \"Company Number\",\n            value: step2Data.company_number,\n            onChange: e => setStep2Data({\n              ...step2Data,\n              company_number: e.target.value\n            }),\n            placeholder: \"e.g., 12345678\",\n            style: {\n              marginTop: theme.spacing.md\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 648,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(Input, {\n            label: \"Company Name\",\n            value: step2Data.company_name,\n            onChange: e => setStep2Data({\n              ...step2Data,\n              company_name: e.target.value\n            }),\n            placeholder: \"e.g., Example Company Ltd\",\n            style: {\n              marginTop: theme.spacing.md\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 656,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: handleCompanySearch,\n            loading: loading,\n            style: {\n              marginTop: theme.spacing.md\n            },\n            children: \"Search Company\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 665,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 637,\n          columnNumber: 13\n        }, this), step2Data.show_search_results && step2Data.company_search_results.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: theme.spacing.xl\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              fontSize: theme.typography.fontSize.lg,\n              fontWeight: theme.typography.fontWeight.semibold,\n              margin: `0 0 ${theme.spacing.md} 0`\n            },\n            children: [\"Select Company (\", step2Data.company_search_results.length, \" found)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 678,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: theme.spacing.sm,\n              maxHeight: '400px',\n              overflowY: 'auto',\n              border: `1px solid ${theme.colors.gray200}`,\n              borderRadius: theme.borderRadius.md,\n              padding: theme.spacing.md,\n              background: theme.colors.gray50\n            },\n            children: step2Data.company_search_results.map(company => /*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: () => handleSelectCompany(company.company_number),\n              style: {\n                padding: theme.spacing.md,\n                border: `1px solid ${theme.colors.gray200}`,\n                borderRadius: theme.borderRadius.md,\n                cursor: 'pointer',\n                transition: 'all 0.2s',\n                background: theme.colors.white\n              },\n              onMouseEnter: e => {\n                e.currentTarget.style.background = theme.colors.primaryLight;\n                e.currentTarget.style.borderColor = theme.colors.primary;\n              },\n              onMouseLeave: e => {\n                e.currentTarget.style.background = theme.colors.white;\n                e.currentTarget.style.borderColor = theme.colors.gray200;\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'flex-start'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    flex: 1\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      margin: 0,\n                      fontWeight: theme.typography.fontWeight.semibold,\n                      fontSize: theme.typography.fontSize.base,\n                      color: theme.colors.textPrimary\n                    },\n                    children: company.company_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 719,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      margin: `${theme.spacing.xs} 0 0 0`,\n                      fontSize: theme.typography.fontSize.sm,\n                      color: theme.colors.textSecondary\n                    },\n                    children: [\"Company Number: \", company.company_number]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 727,\n                    columnNumber: 27\n                  }, this), company.address_snippet && /*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      margin: `${theme.spacing.xs} 0 0 0`,\n                      fontSize: theme.typography.fontSize.sm,\n                      color: theme.colors.textSecondary\n                    },\n                    children: company.address_snippet\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 735,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: 'flex',\n                      gap: theme.spacing.sm,\n                      marginTop: theme.spacing.xs,\n                      flexWrap: 'wrap',\n                      alignItems: 'center'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Badge, {\n                      variant: company.company_status === 'active' ? 'success' : company.company_status === 'dissolved' ? 'warning' : 'error',\n                      children: company.company_status || 'Unknown'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 744,\n                      columnNumber: 29\n                    }, this), company.company_type && /*#__PURE__*/_jsxDEV(Badge, {\n                      variant: \"info\",\n                      children: company.company_type\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 748,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 743,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 718,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outline\",\n                  size: \"sm\",\n                  onClick: e => {\n                    e.stopPropagation();\n                    handleSelectCompany(company.company_number);\n                  },\n                  style: {\n                    marginLeft: theme.spacing.md\n                  },\n                  children: \"Select\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 754,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 717,\n                columnNumber: 23\n              }, this)\n            }, company.company_number, false, {\n              fileName: _jsxFileName,\n              lineNumber: 697,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 685,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 677,\n          columnNumber: 15\n        }, this), step2Data.company_data && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: theme.spacing.xl\n          },\n          children: [/*#__PURE__*/_jsxDEV(CompanyDetails, {\n            companyNumber: step2Data.company_data.company_number,\n            onAutoImport: async result => {\n              setMessage('Company data imported successfully!');\n              if (result && result.results) {\n                setStep3Data(prev => ({\n                  ...prev,\n                  directors: result.results.directors || prev.directors,\n                  shareholders: result.results.shareholders || prev.shareholders\n                }));\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 774,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: theme.spacing.lg\n            },\n            children: /*#__PURE__*/_jsxDEV(Input, {\n              label: \"Trading Address (if different from registered address)\",\n              value: step2Data.trading_address,\n              onChange: e => setStep2Data({\n                ...step2Data,\n                trading_address: e.target.value\n              }),\n              placeholder: \"Enter trading address if different\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 788,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 787,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 773,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            marginTop: theme.spacing.xl\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            onClick: prevStep,\n            children: \"Previous\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 799,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: nextStep,\n            disabled: !step2Data.company_data,\n            children: \"Next: Company Personnel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 802,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 798,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 625,\n        columnNumber: 11\n      }, this), step === 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            fontSize: theme.typography.fontSize['2xl'],\n            fontWeight: theme.typography.fontWeight.semibold,\n            margin: `0 0 ${theme.spacing.lg} 0`\n          },\n          children: \"Company Personnel & Account Assignment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 816,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: theme.colors.textSecondary,\n            marginBottom: theme.spacing.lg\n          },\n          children: \"Review the company directors and shareholders. Confirm key personnel and assign this account to the appropriate user.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 823,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            ...commonStyles.card,\n            padding: theme.spacing.md,\n            marginBottom: theme.spacing.lg,\n            background: theme.colors.primaryLight,\n            border: `1px solid ${theme.colors.primary}`\n          },\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: 0,\n              fontSize: theme.typography.fontSize.sm\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Note:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 835,\n              columnNumber: 17\n            }, this), \" The person using this account may be different from the company directors. You can confirm company personnel for reference, but this account will be assigned to you (the current user).\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 834,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 827,\n          columnNumber: 13\n        }, this), step2Data.company_data && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [step3Data.directors.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: theme.spacing.xl\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                margin: `0 0 ${theme.spacing.md} 0`\n              },\n              children: \"Directors\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 845,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'grid',\n                gap: theme.spacing.md\n              },\n              children: step3Data.directors.map((director, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  ...commonStyles.card,\n                  padding: theme.spacing.md,\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      margin: 0,\n                      fontWeight: theme.typography.fontWeight.medium\n                    },\n                    children: director.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 856,\n                    columnNumber: 29\n                  }, this), director.nationality && /*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      margin: `${theme.spacing.xs} 0 0 0`,\n                      fontSize: theme.typography.fontSize.sm,\n                      color: theme.colors.textSecondary\n                    },\n                    children: [\"Nationality: \", director.nationality]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 860,\n                    columnNumber: 31\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 855,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(Checkbox, {\n                  label: \"Confirm as Key Personnel\",\n                  checked: director.confirmed || false,\n                  onChange: e => {\n                    const updated = [...step3Data.directors];\n                    updated[index].confirmed = e.target.checked;\n                    const confirmed = updated.filter(d => d.confirmed);\n                    setStep3Data({\n                      ...step3Data,\n                      directors: updated,\n                      key_personnel_confirmed: [...step3Data.shareholders.filter(s => s.confirmed), ...confirmed]\n                    });\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 865,\n                  columnNumber: 27\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 848,\n                columnNumber: 25\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 846,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 844,\n            columnNumber: 19\n          }, this), step3Data.shareholders.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: theme.spacing.xl\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                margin: `0 0 ${theme.spacing.md} 0`\n              },\n              children: \"Persons with Significant Control\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 891,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'grid',\n                gap: theme.spacing.md\n              },\n              children: step3Data.shareholders.map((shareholder, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  ...commonStyles.card,\n                  padding: theme.spacing.md,\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      margin: 0,\n                      fontWeight: theme.typography.fontWeight.medium\n                    },\n                    children: shareholder.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 902,\n                    columnNumber: 29\n                  }, this), shareholder.natures_of_control && /*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      margin: `${theme.spacing.xs} 0 0 0`,\n                      fontSize: theme.typography.fontSize.sm,\n                      color: theme.colors.textSecondary\n                    },\n                    children: [\"Control: \", shareholder.natures_of_control.join(', ')]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 906,\n                    columnNumber: 31\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 901,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(Checkbox, {\n                  label: \"Confirm as Key Personnel\",\n                  checked: shareholder.confirmed || false,\n                  onChange: e => {\n                    const updated = [...step3Data.shareholders];\n                    updated[index].confirmed = e.target.checked;\n                    const confirmed = updated.filter(s => s.confirmed);\n                    setStep3Data({\n                      ...step3Data,\n                      shareholders: updated,\n                      key_personnel_confirmed: [...step3Data.directors.filter(d => d.confirmed), ...confirmed]\n                    });\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 911,\n                  columnNumber: 27\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 894,\n                columnNumber: 25\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 892,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 890,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              ...commonStyles.card,\n              padding: theme.spacing.lg,\n              marginTop: theme.spacing.xl,\n              background: theme.colors.gray50\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                margin: `0 0 ${theme.spacing.md} 0`\n              },\n              children: \"Account Assignment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 941,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: theme.colors.textSecondary,\n                marginBottom: theme.spacing.md\n              },\n              children: \"This account will be assigned to you (the current logged-in user). If you are not a director, you can still manage the consultant profile on behalf of the company.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 942,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Checkbox, {\n              label: \"I am a director of this company\",\n              checked: step3Data.account_holder_is_director,\n              onChange: e => setStep3Data({\n                ...step3Data,\n                account_holder_is_director: e.target.checked\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 946,\n              columnNumber: 19\n            }, this), !step3Data.account_holder_is_director && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: theme.spacing.md\n              },\n              children: [/*#__PURE__*/_jsxDEV(Input, {\n                label: \"Your Name\",\n                value: step3Data.account_holder_name,\n                onChange: e => setStep3Data({\n                  ...step3Data,\n                  account_holder_name: e.target.value\n                }),\n                placeholder: \"Enter your full name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 953,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                label: \"Your Role\",\n                value: step3Data.account_holder_role,\n                onChange: e => setStep3Data({\n                  ...step3Data,\n                  account_holder_role: e.target.value\n                }),\n                placeholder: \"e.g., Operations Manager, Practice Manager\",\n                style: {\n                  marginTop: theme.spacing.md\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 959,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 952,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 935,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 841,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            marginTop: theme.spacing.xl\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            onClick: prevStep,\n            children: \"Previous\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 973,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: nextStep,\n            children: \"Next: Key Contact Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 976,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 972,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 815,\n        columnNumber: 11\n      }, this), step === 4 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            fontSize: theme.typography.fontSize['2xl'],\n            fontWeight: theme.typography.fontWeight.semibold,\n            margin: `0 0 ${theme.spacing.lg} 0`\n          },\n          children: \"Key Contact Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 989,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: theme.colors.textSecondary,\n            marginBottom: theme.spacing.lg\n          },\n          children: \"Provide the primary contact information for your organisation.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 996,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gap: theme.spacing.lg,\n            marginBottom: theme.spacing.xl\n          },\n          children: [/*#__PURE__*/_jsxDEV(Input, {\n            label: \"Primary Contact Email *\",\n            type: \"email\",\n            value: step4Data.primary_contact_email,\n            onChange: e => setStep4Data({\n              ...step4Data,\n              primary_contact_email: e.target.value\n            }),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1001,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: \"Primary Contact Phone *\",\n            type: \"tel\",\n            value: step4Data.primary_contact_phone,\n            onChange: e => setStep4Data({\n              ...step4Data,\n              primary_contact_phone: e.target.value\n            }),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1008,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: \"Website\",\n            type: \"url\",\n            value: step4Data.website,\n            onChange: e => setStep4Data({\n              ...step4Data,\n              website: e.target.value\n            }),\n            placeholder: \"https://example.com\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1015,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: \"Address Line 1\",\n            value: step4Data.address_line_1,\n            onChange: e => setStep4Data({\n              ...step4Data,\n              address_line_1: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1022,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: \"Address Line 2\",\n            value: step4Data.address_line_2,\n            onChange: e => setStep4Data({\n              ...step4Data,\n              address_line_2: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1027,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: \"City\",\n            value: step4Data.city,\n            onChange: e => setStep4Data({\n              ...step4Data,\n              city: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1032,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: \"County\",\n            value: step4Data.county,\n            onChange: e => setStep4Data({\n              ...step4Data,\n              county: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1037,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: \"Postcode\",\n            value: step4Data.postcode,\n            onChange: e => setStep4Data({\n              ...step4Data,\n              postcode: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1042,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: \"Country\",\n            value: step4Data.country,\n            onChange: e => setStep4Data({\n              ...step4Data,\n              country: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1047,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1000,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            marginTop: theme.spacing.xl\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            onClick: prevStep,\n            children: \"Previous\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1055,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: nextStep,\n            disabled: !step4Data.primary_contact_email || !step4Data.primary_contact_phone,\n            children: \"Next: Services & Qualifications\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1058,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1054,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 988,\n        columnNumber: 11\n      }, this), step === 5 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            marginBottom: theme.spacing.lg\n          },\n          children: \"Services & Qualifications\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1072,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gap: theme.spacing.md\n          },\n          children: [/*#__PURE__*/_jsxDEV(Select, {\n            label: \"Primary Service Type *\",\n            name: \"primary_service\",\n            value: step5Data.primary_service,\n            onChange: e => setStep5Data({\n              ...step5Data,\n              primary_service: e.target.value\n            }),\n            options: [{\n              value: '',\n              label: 'Select service type'\n            }, {\n              value: 'solicitor',\n              label: 'Solicitor'\n            }, {\n              value: 'monitoring_surveyor',\n              label: 'Monitoring Surveyor'\n            }, {\n              value: 'valuation',\n              label: 'Valuation'\n            }, {\n              value: 'other',\n              label: 'Other Professional Service'\n            }],\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1074,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                ...commonStyles.label,\n                marginBottom: theme.spacing.sm,\n                display: 'block'\n              },\n              children: \"Services Offered *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1089,\n              columnNumber: 17\n            }, this), ['solicitor', 'monitoring_surveyor', 'valuation', 'other'].map(service => /*#__PURE__*/_jsxDEV(Checkbox, {\n              label: service.replace('_', ' ').replace(/\\b\\w/g, l => l.toUpperCase()),\n              checked: step5Data.services_offered.includes(service),\n              onChange: e => {\n                const services = e.target.checked ? [...step5Data.services_offered, service] : step5Data.services_offered.filter(s => s !== service);\n                setStep5Data({\n                  ...step5Data,\n                  services_offered: services\n                });\n              }\n            }, service, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1093,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1088,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                ...commonStyles.label,\n                marginBottom: theme.spacing.sm,\n                display: 'block'\n              },\n              children: \"Qualifications\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1107,\n              columnNumber: 17\n            }, this), ['rics', 'rics_monitoring', 'rics_valuation', 'sra', 'cilex', 'other'].map(qual => /*#__PURE__*/_jsxDEV(Checkbox, {\n              label: qual.replace('_', ' ').replace(/\\b\\w/g, l => l.toUpperCase()),\n              checked: step5Data.qualifications.includes(qual),\n              onChange: e => {\n                const quals = e.target.checked ? [...step5Data.qualifications, qual] : step5Data.qualifications.filter(q => q !== qual);\n                setStep5Data({\n                  ...step5Data,\n                  qualifications: quals\n                });\n              }\n            }, qual, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1111,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1106,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: \"RICS Number\",\n            name: \"rics_number\",\n            value: step5Data.professional_registration_numbers.rics,\n            onChange: e => setStep5Data({\n              ...step5Data,\n              professional_registration_numbers: {\n                ...step5Data.professional_registration_numbers,\n                rics: e.target.value\n              }\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1124,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: \"SRA Number\",\n            name: \"sra_number\",\n            value: step5Data.professional_registration_numbers.sra,\n            onChange: e => setStep5Data({\n              ...step5Data,\n              professional_registration_numbers: {\n                ...step5Data.professional_registration_numbers,\n                sra: e.target.value\n              }\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1136,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: \"CILEX Number\",\n            name: \"cilex_number\",\n            value: step5Data.professional_registration_numbers.cilex,\n            onChange: e => setStep5Data({\n              ...step5Data,\n              professional_registration_numbers: {\n                ...step5Data.professional_registration_numbers,\n                cilex: e.target.value\n              }\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1148,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1073,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            marginTop: theme.spacing.xl\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            onClick: prevStep,\n            children: \"Previous\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1162,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: nextStep,\n            children: \"Next: Service Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1165,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1161,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1071,\n        columnNumber: 11\n      }, this), step === 6 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            marginBottom: theme.spacing.lg\n          },\n          children: \"Service Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1175,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gap: theme.spacing.md\n          },\n          children: [/*#__PURE__*/_jsxDEV(Textarea, {\n            label: \"Service Description\",\n            name: \"service_description\",\n            value: step6Data.service_description,\n            onChange: e => setStep6Data({\n              ...step6Data,\n              service_description: e.target.value\n            }),\n            rows: 6\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1177,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: \"Years of Experience\",\n            name: \"years_of_experience\",\n            type: \"number\",\n            value: step6Data.years_of_experience,\n            onChange: e => setStep6Data({\n              ...step6Data,\n              years_of_experience: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1184,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: \"Team Size\",\n            name: \"team_size\",\n            type: \"number\",\n            value: step6Data.team_size,\n            onChange: e => setStep6Data({\n              ...step6Data,\n              team_size: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1191,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n            label: \"Geographic Coverage (one per line)\",\n            name: \"geographic_coverage\",\n            value: step6Data.geographic_coverage.join('\\n'),\n            onChange: e => setStep6Data({\n              ...step6Data,\n              geographic_coverage: e.target.value.split('\\n').filter(line => line.trim())\n            }),\n            rows: 4\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1198,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n            label: \"Key Personnel (JSON format)\",\n            name: \"key_personnel\",\n            value: JSON.stringify(step6Data.key_personnel, null, 2),\n            onChange: e => {\n              try {\n                const parsed = JSON.parse(e.target.value);\n                setStep6Data({\n                  ...step6Data,\n                  key_personnel: Array.isArray(parsed) ? parsed : []\n                });\n              } catch (err) {\n                // Invalid JSON, keep as is\n              }\n            },\n            rows: 6,\n            placeholder: \"[{\\\"name\\\": \\\"John Doe\\\", \\\"role\\\": \\\"Senior Partner\\\", \\\"qualifications\\\": \\\"RICS\\\"}]\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1208,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1176,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            marginTop: theme.spacing.xl\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            onClick: prevStep,\n            children: \"Previous\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1225,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: nextStep,\n            children: \"Next: Capacity & Availability\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1228,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1224,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1174,\n        columnNumber: 11\n      }, this), step === 7 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            marginBottom: theme.spacing.lg\n          },\n          children: \"Capacity & Availability\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1238,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gap: theme.spacing.md\n          },\n          children: [/*#__PURE__*/_jsxDEV(Input, {\n            label: \"Current Capacity (active projects)\",\n            name: \"current_capacity\",\n            type: \"number\",\n            value: step7Data.current_capacity,\n            onChange: e => setStep7Data({\n              ...step7Data,\n              current_capacity: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1240,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: \"Maximum Capacity\",\n            name: \"max_capacity\",\n            type: \"number\",\n            value: step7Data.max_capacity,\n            onChange: e => setStep7Data({\n              ...step7Data,\n              max_capacity: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1247,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: \"Average Response Time (days)\",\n            name: \"average_response_time_days\",\n            type: \"number\",\n            value: step7Data.average_response_time_days,\n            onChange: e => setStep7Data({\n              ...step7Data,\n              average_response_time_days: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1254,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1239,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            marginTop: theme.spacing.xl\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            onClick: prevStep,\n            children: \"Previous\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1263,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: nextStep,\n            children: \"Next: Insurance & Compliance\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1266,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1262,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1237,\n        columnNumber: 11\n      }, this), step === 8 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            marginBottom: theme.spacing.lg\n          },\n          children: \"Insurance & Compliance\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1276,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gap: theme.spacing.md\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              fontSize: theme.typography.fontSize.lg,\n              marginBottom: theme.spacing.md\n            },\n            children: \"Professional Indemnity Insurance\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1278,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: \"Insurance Provider\",\n            name: \"insurance_provider\",\n            value: step8Data.insurance_details.provider,\n            onChange: e => setStep8Data({\n              ...step8Data,\n              insurance_details: {\n                ...step8Data.insurance_details,\n                provider: e.target.value\n              }\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1281,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: \"Policy Number\",\n            name: \"policy_number\",\n            value: step8Data.insurance_details.policy_number,\n            onChange: e => setStep8Data({\n              ...step8Data,\n              insurance_details: {\n                ...step8Data.insurance_details,\n                policy_number: e.target.value\n              }\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1290,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: \"Expiry Date\",\n            name: \"expiry_date\",\n            type: \"date\",\n            value: step8Data.insurance_details.expiry_date,\n            onChange: e => setStep8Data({\n              ...step8Data,\n              insurance_details: {\n                ...step8Data.insurance_details,\n                expiry_date: e.target.value\n              }\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1299,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: \"Coverage Amount\",\n            name: \"coverage_amount\",\n            value: step8Data.insurance_details.coverage_amount,\n            onChange: e => setStep8Data({\n              ...step8Data,\n              insurance_details: {\n                ...step8Data.insurance_details,\n                coverage_amount: e.target.value\n              }\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1309,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n            label: \"Compliance Certifications (one per line)\",\n            name: \"compliance_certifications\",\n            value: step8Data.compliance_certifications.join('\\n'),\n            onChange: e => setStep8Data({\n              ...step8Data,\n              compliance_certifications: e.target.value.split('\\n').filter(line => line.trim())\n            }),\n            rows: 4,\n            placeholder: \"e.g., ISO 9001, FCA Authorised\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1318,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1277,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            marginTop: theme.spacing.xl\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            onClick: prevStep,\n            children: \"Previous\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1331,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: handleSubmit,\n            loading: loading,\n            children: loading ? 'Saving...' : 'Complete Profile'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1334,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1330,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1275,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 485,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 461,\n    columnNumber: 5\n  }, this);\n}\n_s(ConsultantProfileWizard, \"O+TH3wNR1RxAzZ0RtaaFVYjJZvc=\", false, function () {\n  return [useNavigate];\n});\n_c = ConsultantProfileWizard;\nexport default ConsultantProfileWizard;\nvar _c;\n$RefreshReg$(_c, \"ConsultantProfileWizard\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","api","theme","commonStyles","Wizard","Input","Select","Textarea","Checkbox","Button","CompanyDetails","jsxDEV","_jsxDEV","ConsultantProfileWizard","_s","navigate","step","setStep","loading","setLoading","error","setError","message","setMessage","profile","setProfile","step1Data","setStep1Data","email","mobile_number","mfa_enabled","consent_privacy","consent_terms","consent_credit_search","step2Data","setStep2Data","company_number","company_name","company_search_type","company_data","company_search_results","show_search_results","trading_address","primary_contact_email","primary_contact_phone","confirmed","step3Data","setStep3Data","directors","shareholders","key_personnel_confirmed","account_holder_is_director","account_holder_name","account_holder_role","step4Data","setStep4Data","website","address_line_1","address_line_2","city","county","postcode","country","step5Data","setStep5Data","primary_service","services_offered","qualifications","professional_registration_numbers","rics","sra","cilex","step6Data","setStep6Data","service_description","years_of_experience","team_size","key_personnel","geographic_coverage","step7Data","setStep7Data","current_capacity","max_capacity","average_response_time_days","step8Data","setStep8Data","insurance_details","provider","policy_number","expiry_date","coverage_amount","compliance_certifications","steps","fetchProfile","response","get","data","Array","isArray","_data$years_of_experi","_data$team_size","_data$current_capacit","_data$max_capacity","_data$average_respons","contact_email","contact_phone","company_registration_number","organisation_name","directors_data","shareholders_data","toString","err","_err$response","console","status","handleCompanySearch","res","params","prev","map","d","pscs","p","_err$response2","_err$response2$data","companies","length","handleSelectCompany","_err$response3","_err$response3$data","companyNumber","_err$response4","_err$response4$data","handleSaveAndContinue","payload","buildPayload","put","id","post","_err$response5","_err$response5$data","detail","handleSubmit","setTimeout","_err$response6","_err$response6$data","regNumbers","parseInt","nextStep","prevStep","canNavigateToStep","stepNumber","handleStepClick","style","container","padding","spacing","xl","children","background","colors","errorLight","color","errorDark","md","borderRadius","marginBottom","lg","fileName","_jsxFileName","lineNumber","columnNumber","successLight","successDark","currentStep","onStepClick","fontSize","typography","fontWeight","semibold","margin","textSecondary","display","gap","label","type","value","onChange","e","target","required","checked","card","gray50","border","warning","gray200","sm","flexDirection","alignItems","flex","cursor","href","rel","primary","textDecoration","xs","justifyContent","marginTop","variant","onClick","disabled","placeholder","maxHeight","overflowY","company","transition","white","onMouseEnter","currentTarget","primaryLight","borderColor","onMouseLeave","base","textPrimary","address_snippet","flexWrap","Badge","company_status","company_type","size","stopPropagation","marginLeft","onAutoImport","result","results","director","index","medium","name","nationality","updated","filter","s","shareholder","natures_of_control","join","options","service","replace","l","toUpperCase","includes","services","qual","quals","q","rows","split","line","trim","JSON","stringify","parsed","parse","_c","$RefreshReg$"],"sources":["C:/Users/paul-/OneDrive - BARE Capital Ltd/BARE Drive/10.0 BUILDFUND/1.0 Website Dev/GitHub/new_website/src/pages/ConsultantProfileWizard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport api from '../api';\r\nimport { theme, commonStyles } from '../styles/theme';\r\nimport Wizard from '../components/Wizard';\r\nimport Input from '../components/Input';\r\nimport Select from '../components/Select';\r\nimport Textarea from '../components/Textarea';\r\nimport Checkbox from '../components/Checkbox';\r\nimport Button from '../components/Button';\r\nimport CompanyDetails from '../components/CompanyDetails';\r\n\r\nfunction ConsultantProfileWizard() {\r\n  const navigate = useNavigate();\r\n  const [step, setStep] = useState(1);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [message, setMessage] = useState(null);\r\n  const [profile, setProfile] = useState(null);\r\n\r\n  // Step 1: Account setup and consent\r\n  const [step1Data, setStep1Data] = useState({\r\n    email: '',\r\n    mobile_number: '',\r\n    mfa_enabled: false,\r\n    consent_privacy: false,\r\n    consent_terms: false,\r\n    consent_credit_search: false,\r\n  });\r\n\r\n  // Step 2: Company verification\r\n  const [step2Data, setStep2Data] = useState({\r\n    company_number: '',\r\n    company_name: '',\r\n    company_search_type: 'number',\r\n    company_data: null,\r\n    company_search_results: [],\r\n    show_search_results: false,\r\n    trading_address: '',\r\n    primary_contact_email: '',\r\n    primary_contact_phone: '',\r\n    confirmed: false,\r\n  });\r\n\r\n  // Step 3: Directors and shareholders (for reference, user assignment)\r\n  const [step3Data, setStep3Data] = useState({\r\n    directors: [],\r\n    shareholders: [],\r\n    key_personnel_confirmed: [],\r\n    account_holder_is_director: false,\r\n    account_holder_name: '',\r\n    account_holder_role: '',\r\n  });\r\n\r\n  // Step 4: Key contact details\r\n  const [step4Data, setStep4Data] = useState({\r\n    primary_contact_email: '',\r\n    primary_contact_phone: '',\r\n    website: '',\r\n    address_line_1: '',\r\n    address_line_2: '',\r\n    city: '',\r\n    county: '',\r\n    postcode: '',\r\n    country: 'United Kingdom',\r\n  });\r\n\r\n  // Step 5: Services & Qualifications (renumbered from step 2)\r\n  const [step5Data, setStep5Data] = useState({\r\n    primary_service: '',\r\n    services_offered: [],\r\n    qualifications: [],\r\n    professional_registration_numbers: {\r\n      rics: '',\r\n      sra: '',\r\n      cilex: '',\r\n    },\r\n  });\r\n\r\n  // Step 6: Service Details (renumbered from step 4)\r\n  const [step6Data, setStep6Data] = useState({\r\n    service_description: '',\r\n    years_of_experience: '',\r\n    team_size: '',\r\n    key_personnel: [],\r\n    geographic_coverage: [],\r\n  });\r\n\r\n  // Step 7: Capacity & Availability (renumbered from step 5)\r\n  const [step7Data, setStep7Data] = useState({\r\n    current_capacity: '10',\r\n    max_capacity: '20',\r\n    average_response_time_days: '3',\r\n  });\r\n\r\n  // Step 8: Insurance & Compliance (renumbered from step 6)\r\n  const [step8Data, setStep8Data] = useState({\r\n    insurance_details: {\r\n      provider: '',\r\n      policy_number: '',\r\n      expiry_date: '',\r\n      coverage_amount: '',\r\n    },\r\n    compliance_certifications: [],\r\n  });\r\n\r\n  const steps = [\r\n    'Account & Consent',\r\n    'Company Verification',\r\n    'Company Personnel',\r\n    'Key Contact Details',\r\n    'Services & Qualifications',\r\n    'Service Details',\r\n    'Capacity & Availability',\r\n    'Insurance & Compliance',\r\n  ];\r\n\r\n  useEffect(() => {\r\n    fetchProfile();\r\n  }, []);\r\n\r\n  const fetchProfile = async () => {\r\n    try {\r\n      const response = await api.get('/api/consultants/profiles/');\r\n      const data = Array.isArray(response.data) ? response.data[0] : response.data;\r\n      if (data) {\r\n        setProfile(data);\r\n        // Pre-fill form data\r\n        setStep1Data({\r\n          email: data.contact_email || '',\r\n          mobile_number: data.contact_phone || '',\r\n          mfa_enabled: data.mfa_enabled || false,\r\n          consent_privacy: data.consent_privacy || false,\r\n          consent_terms: data.consent_terms || false,\r\n          consent_credit_search: data.consent_credit_search || false,\r\n        });\r\n        setStep2Data({\r\n          company_number: data.company_registration_number || '',\r\n          company_name: data.organisation_name || '',\r\n          company_search_type: 'number',\r\n          company_data: data.company_data || null,\r\n          company_search_results: [],\r\n          show_search_results: false,\r\n          trading_address: data.trading_address || '',\r\n          primary_contact_email: data.contact_email || '',\r\n          primary_contact_phone: data.contact_phone || '',\r\n          confirmed: !!data.company_registration_number,\r\n        });\r\n        setStep3Data({\r\n          directors: data.directors_data || [],\r\n          shareholders: data.shareholders_data || [],\r\n          key_personnel_confirmed: data.key_personnel || [],\r\n          account_holder_is_director: data.account_holder_is_director || false,\r\n          account_holder_name: data.account_holder_name || '',\r\n          account_holder_role: data.account_holder_role || '',\r\n        });\r\n        setStep4Data({\r\n          primary_contact_email: data.contact_email || '',\r\n          primary_contact_phone: data.contact_phone || '',\r\n          website: data.website || '',\r\n          address_line_1: data.address_line_1 || '',\r\n          address_line_2: data.address_line_2 || '',\r\n          city: data.city || '',\r\n          county: data.county || '',\r\n          postcode: data.postcode || '',\r\n          country: data.country || 'United Kingdom',\r\n        });\r\n        setStep5Data({\r\n          primary_service: data.primary_service || '',\r\n          services_offered: data.services_offered || [],\r\n          qualifications: data.qualifications || [],\r\n          professional_registration_numbers: data.professional_registration_numbers || {\r\n            rics: '',\r\n            sra: '',\r\n            cilex: '',\r\n          },\r\n        });\r\n        setStep6Data({\r\n          service_description: data.service_description || '',\r\n          years_of_experience: data.years_of_experience?.toString() || '',\r\n          team_size: data.team_size?.toString() || '',\r\n          key_personnel: data.key_personnel || [],\r\n          geographic_coverage: data.geographic_coverage || [],\r\n        });\r\n        setStep7Data({\r\n          current_capacity: data.current_capacity?.toString() || '10',\r\n          max_capacity: data.max_capacity?.toString() || '20',\r\n          average_response_time_days: data.average_response_time_days?.toString() || '3',\r\n        });\r\n        setStep8Data({\r\n          insurance_details: data.insurance_details || {\r\n            provider: '',\r\n            policy_number: '',\r\n            expiry_date: '',\r\n            coverage_amount: '',\r\n          },\r\n          compliance_certifications: data.compliance_certifications || [],\r\n        });\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to fetch profile:', err);\r\n      if (err.response?.status !== 404) {\r\n        setError('Failed to load profile');\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleCompanySearch = async () => {\r\n    if (step2Data.company_search_type === 'number') {\r\n      if (!step2Data.company_number) {\r\n        setError('Please enter a company number');\r\n        return;\r\n      }\r\n      setLoading(true);\r\n      setError(null);\r\n      try {\r\n        const res = await api.get('/api/verification/company/get_full_company_details/', {\r\n          params: { company_number: step2Data.company_number },\r\n        });\r\n        if (res.data.error) {\r\n          setError(res.data.error);\r\n        } else {\r\n          setStep2Data({\r\n            ...step2Data,\r\n            company_data: res.data,\r\n            company_number: res.data.company_number || step2Data.company_number,\r\n            company_name: res.data.company_name || step2Data.company_name,\r\n            show_search_results: false,\r\n          });\r\n          setMessage('Company found! Please review and confirm the details.');\r\n          // Auto-populate step 3 with directors\r\n          if (res.data.directors) {\r\n            setStep3Data(prev => ({\r\n              ...prev,\r\n              directors: res.data.directors.map(d => ({ ...d, confirmed: false })),\r\n            }));\r\n          }\r\n          if (res.data.pscs) {\r\n            setStep3Data(prev => ({\r\n              ...prev,\r\n              shareholders: res.data.pscs.map(p => ({ ...p, confirmed: false })),\r\n            }));\r\n          }\r\n        }\r\n      } catch (err) {\r\n        console.error('Company search error:', err);\r\n        setError(err.response?.data?.error || 'Failed to search company. Please try again.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    } else {\r\n      if (!step2Data.company_name) {\r\n        setError('Please enter a company name');\r\n        return;\r\n      }\r\n      setLoading(true);\r\n      setError(null);\r\n      try {\r\n        const res = await api.get('/api/verification/company/search_companies/', {\r\n          params: { company_name: step2Data.company_name },\r\n        });\r\n        if (res.data.error) {\r\n          setError(res.data.error);\r\n        } else if (res.data.companies && res.data.companies.length > 0) {\r\n          if (res.data.companies.length === 1) {\r\n            await handleSelectCompany(res.data.companies[0].company_number);\r\n          } else {\r\n            setStep2Data({\r\n              ...step2Data,\r\n              company_search_results: res.data.companies,\r\n              show_search_results: true,\r\n            });\r\n            setMessage(`Found ${res.data.companies.length} matching companies. Please select one:`);\r\n          }\r\n        } else {\r\n          setError('No companies found matching that name. Please try a different search term.');\r\n        }\r\n      } catch (err) {\r\n        console.error('Company search error:', err);\r\n        setError(err.response?.data?.error || 'Failed to search company. Please try again.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSelectCompany = async (companyNumber) => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const res = await api.get('/api/verification/company/get_full_company_details/', {\r\n        params: { company_number: companyNumber },\r\n      });\r\n      if (res.data.error) {\r\n        setError(res.data.error);\r\n      } else {\r\n        setStep2Data({\r\n          ...step2Data,\r\n          company_data: res.data,\r\n          company_number: res.data.company_number,\r\n          company_name: res.data.company_name,\r\n          company_search_results: [],\r\n          show_search_results: false,\r\n        });\r\n        setMessage('Company found! Please review and confirm the details.');\r\n        // Auto-populate step 3 with directors\r\n        if (res.data.directors) {\r\n          setStep3Data(prev => ({\r\n            ...prev,\r\n            directors: res.data.directors.map(d => ({ ...d, confirmed: false })),\r\n          }));\r\n        }\r\n        if (res.data.pscs) {\r\n          setStep3Data(prev => ({\r\n            ...prev,\r\n            shareholders: res.data.pscs.map(p => ({ ...p, confirmed: false })),\r\n          }));\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to load company details:', err);\r\n      setError(err.response?.data?.error || 'Failed to load company details. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSaveAndContinue = async () => {\r\n    setError(null);\r\n    setMessage(null);\r\n\r\n    if (step < steps.length) {\r\n      // Auto-save current step\r\n      try {\r\n        const payload = buildPayload();\r\n        if (profile) {\r\n          await api.put(`/api/consultants/profiles/${profile.id}/`, payload);\r\n        } else {\r\n          const response = await api.post('/api/consultants/profiles/', payload);\r\n          setProfile(response.data);\r\n        }\r\n        setStep(step + 1);\r\n      } catch (err) {\r\n        console.error('Save failed:', err);\r\n        setError(err.response?.data?.detail || 'Failed to save profile');\r\n      }\r\n    } else {\r\n      // Final step - complete profile\r\n      await handleSubmit();\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    setMessage(null);\r\n\r\n    try {\r\n      const payload = buildPayload();\r\n      if (profile) {\r\n        await api.put(`/api/consultants/profiles/${profile.id}/`, payload);\r\n        setMessage('Profile updated successfully');\r\n      } else {\r\n        await api.post('/api/consultants/profiles/', payload);\r\n        setMessage('Profile created successfully');\r\n      }\r\n      setTimeout(() => {\r\n        navigate('/consultant/profile');\r\n      }, 1500);\r\n    } catch (err) {\r\n      console.error('Submit failed:', err);\r\n      setError(err.response?.data?.detail || 'Failed to save profile');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const buildPayload = () => {\r\n    // Clean up professional registration numbers - only include non-empty values\r\n    const regNumbers = {};\r\n    if (step5Data.professional_registration_numbers.rics) {\r\n      regNumbers.rics = step5Data.professional_registration_numbers.rics;\r\n    }\r\n    if (step5Data.professional_registration_numbers.sra) {\r\n      regNumbers.sra = step5Data.professional_registration_numbers.sra;\r\n    }\r\n    if (step5Data.professional_registration_numbers.cilex) {\r\n      regNumbers.cilex = step5Data.professional_registration_numbers.cilex;\r\n    }\r\n\r\n    return {\r\n      organisation_name: step2Data.company_name,\r\n      company_registration_number: step2Data.company_number,\r\n      company_data: step2Data.company_data,\r\n      trading_address: step2Data.trading_address,\r\n      directors_data: step3Data.directors,\r\n      shareholders_data: step3Data.shareholders,\r\n      account_holder_is_director: step3Data.account_holder_is_director,\r\n      account_holder_name: step3Data.account_holder_name,\r\n      account_holder_role: step3Data.account_holder_role,\r\n      primary_service: step5Data.primary_service,\r\n      services_offered: step5Data.services_offered,\r\n      qualifications: step5Data.qualifications,\r\n      professional_registration_numbers: regNumbers,\r\n      contact_email: step4Data.primary_contact_email || step1Data.email,\r\n      contact_phone: step4Data.primary_contact_phone || step1Data.mobile_number,\r\n      website: step4Data.website,\r\n      address_line_1: step4Data.address_line_1,\r\n      address_line_2: step4Data.address_line_2,\r\n      city: step4Data.city,\r\n      county: step4Data.county,\r\n      postcode: step4Data.postcode,\r\n      country: step4Data.country,\r\n      geographic_coverage: step6Data.geographic_coverage,\r\n      service_description: step6Data.service_description,\r\n      years_of_experience: step6Data.years_of_experience ? parseInt(step6Data.years_of_experience) : null,\r\n      team_size: step6Data.team_size ? parseInt(step6Data.team_size) : null,\r\n      key_personnel: step3Data.key_personnel_confirmed.length > 0 \r\n        ? step3Data.key_personnel_confirmed \r\n        : step6Data.key_personnel,\r\n      current_capacity: parseInt(step7Data.current_capacity),\r\n      max_capacity: parseInt(step7Data.max_capacity),\r\n      average_response_time_days: parseInt(step7Data.average_response_time_days),\r\n      insurance_details: step8Data.insurance_details,\r\n      compliance_certifications: step8Data.compliance_certifications,\r\n      mobile_number: step1Data.mobile_number,\r\n      mfa_enabled: step1Data.mfa_enabled,\r\n      consent_privacy: step1Data.consent_privacy,\r\n      consent_terms: step1Data.consent_terms,\r\n      consent_credit_search: step1Data.consent_credit_search,\r\n    };\r\n  };\r\n\r\n  const nextStep = () => {\r\n    if (step < steps.length) {\r\n      setStep(step + 1);\r\n    }\r\n  };\r\n\r\n  const prevStep = () => {\r\n    if (step > 1) {\r\n      setStep(step - 1);\r\n    }\r\n  };\r\n\r\n  const canNavigateToStep = (stepNumber) => {\r\n    if (stepNumber <= step) return true;\r\n    if (stepNumber === 2 && step1Data.consent_privacy && step1Data.consent_terms && step1Data.consent_credit_search) return true;\r\n    if (stepNumber === 3 && step2Data.company_data) return true;\r\n    if (stepNumber === 4 && step3Data.key_personnel_confirmed.length > 0) return true;\r\n    return false;\r\n  };\r\n\r\n  const handleStepClick = (stepNumber) => {\r\n    if (canNavigateToStep(stepNumber)) {\r\n      setStep(stepNumber);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ ...commonStyles.container, padding: theme.spacing.xl }}>\r\n      {error && (\r\n        <div style={{\r\n          background: theme.colors.errorLight,\r\n          color: theme.colors.errorDark,\r\n          padding: theme.spacing.md,\r\n          borderRadius: theme.borderRadius.md,\r\n          marginBottom: theme.spacing.lg,\r\n        }}>\r\n          {error}\r\n        </div>\r\n      )}\r\n      {message && (\r\n        <div style={{\r\n          background: theme.colors.successLight,\r\n          color: theme.colors.successDark,\r\n          padding: theme.spacing.md,\r\n          borderRadius: theme.borderRadius.md,\r\n          marginBottom: theme.spacing.lg,\r\n        }}>\r\n          {message}\r\n        </div>\r\n      )}\r\n\r\n      <Wizard\r\n        steps={steps}\r\n        currentStep={step}\r\n        onStepClick={handleStepClick}\r\n        canNavigateToStep={canNavigateToStep}\r\n      >\r\n        {/* Step 1: Account & Consent */}\r\n        {step === 1 && (\r\n          <div>\r\n            <h2 style={{\r\n              fontSize: theme.typography.fontSize['2xl'],\r\n              fontWeight: theme.typography.fontWeight.semibold,\r\n              margin: `0 0 ${theme.spacing.lg} 0`,\r\n            }}>\r\n              Account Setup & Consent\r\n            </h2>\r\n            <p style={{ color: theme.colors.textSecondary, marginBottom: theme.spacing.lg }}>\r\n              Please provide your contact details and confirm your consents.\r\n            </p>\r\n\r\n            <div style={{ display: 'grid', gap: theme.spacing.lg, marginBottom: theme.spacing.xl }}>\r\n              <Input\r\n                label=\"Email Address\"\r\n                type=\"email\"\r\n                value={step1Data.email}\r\n                onChange={(e) => setStep1Data({ ...step1Data, email: e.target.value })}\r\n                required\r\n              />\r\n              <Input\r\n                label=\"Mobile Number\"\r\n                type=\"tel\"\r\n                value={step1Data.mobile_number}\r\n                onChange={(e) => setStep1Data({ ...step1Data, mobile_number: e.target.value })}\r\n                required\r\n              />\r\n              <Checkbox\r\n                label=\"Enable Multi-Factor Authentication (MFA)\"\r\n                checked={step1Data.mfa_enabled}\r\n                onChange={(e) => setStep1Data({ ...step1Data, mfa_enabled: e.target.checked })}\r\n              />\r\n            </div>\r\n\r\n            <div style={{\r\n              ...commonStyles.card,\r\n              padding: theme.spacing.lg,\r\n              marginBottom: theme.spacing.xl,\r\n              background: theme.colors.gray50,\r\n              border: `2px solid ${(!step1Data.consent_privacy || !step1Data.consent_terms || !step1Data.consent_credit_search) ? theme.colors.warning : theme.colors.gray200}`,\r\n            }}>\r\n              <h3 style={{ margin: `0 0 ${theme.spacing.md} 0` }}>Required Consents</h3>\r\n              <p style={{ \r\n                fontSize: theme.typography.fontSize.sm, \r\n                color: theme.colors.textSecondary,\r\n                marginBottom: theme.spacing.md,\r\n              }}>\r\n                You must agree to all of the following to proceed with your profile setup.\r\n              </p>\r\n              <div style={{ display: 'flex', flexDirection: 'column', gap: theme.spacing.md }}>\r\n                <div style={{ display: 'flex', alignItems: 'start', gap: theme.spacing.sm }}>\r\n                  <Checkbox\r\n                    label=\"\"\r\n                    checked={step1Data.consent_privacy}\r\n                    onChange={(e) => setStep1Data({ ...step1Data, consent_privacy: e.target.checked })}\r\n                    required\r\n                  />\r\n                  <div style={{ flex: 1 }}>\r\n                    <label style={{ cursor: 'pointer' }}>\r\n                      I consent to the{' '}\r\n                      <a href=\"/privacy-policy\" target=\"_blank\" rel=\"noopener noreferrer\" style={{ color: theme.colors.primary, textDecoration: 'underline' }}>\r\n                        Privacy Policy\r\n                      </a>\r\n                    </label>\r\n                    {!step1Data.consent_privacy && (\r\n                      <p style={{ margin: `${theme.spacing.xs} 0 0 0`, fontSize: theme.typography.fontSize.xs, color: theme.colors.error }}>\r\n                        This consent is required\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                \r\n                <div style={{ display: 'flex', alignItems: 'start', gap: theme.spacing.sm }}>\r\n                  <Checkbox\r\n                    label=\"\"\r\n                    checked={step1Data.consent_terms}\r\n                    onChange={(e) => setStep1Data({ ...step1Data, consent_terms: e.target.checked })}\r\n                    required\r\n                  />\r\n                  <div style={{ flex: 1 }}>\r\n                    <label style={{ cursor: 'pointer' }}>\r\n                      I accept the{' '}\r\n                      <a href=\"/terms-and-conditions\" target=\"_blank\" rel=\"noopener noreferrer\" style={{ color: theme.colors.primary, textDecoration: 'underline' }}>\r\n                        Terms and Conditions\r\n                      </a>\r\n                    </label>\r\n                    {!step1Data.consent_terms && (\r\n                      <p style={{ margin: `${theme.spacing.xs} 0 0 0`, fontSize: theme.typography.fontSize.xs, color: theme.colors.error }}>\r\n                        This consent is required\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                \r\n                <div style={{ display: 'flex', alignItems: 'start', gap: theme.spacing.sm }}>\r\n                  <Checkbox\r\n                    label=\"\"\r\n                    checked={step1Data.consent_credit_search}\r\n                    onChange={(e) => setStep1Data({ ...step1Data, consent_credit_search: e.target.checked })}\r\n                    required\r\n                  />\r\n                  <div style={{ flex: 1 }}>\r\n                    <label style={{ cursor: 'pointer' }}>\r\n                      I consent to credit search permission\r\n                    </label>\r\n                    <p style={{ margin: `${theme.spacing.xs} 0 0 0`, fontSize: theme.typography.fontSize.xs, color: theme.colors.textSecondary }}>\r\n                      We may perform credit checks as part of the verification process\r\n                    </p>\r\n                    {!step1Data.consent_credit_search && (\r\n                      <p style={{ margin: `${theme.spacing.xs} 0 0 0`, fontSize: theme.typography.fontSize.xs, color: theme.colors.error }}>\r\n                        This consent is required\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div style={{ display: 'flex', justifyContent: 'flex-end', marginTop: theme.spacing.xl }}>\r\n              <Button\r\n                variant=\"primary\"\r\n                onClick={nextStep}\r\n                disabled={!step1Data.consent_privacy || !step1Data.consent_terms || !step1Data.consent_credit_search}\r\n              >\r\n                Next: Company Verification\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Step 2: Company verification */}\r\n        {step === 2 && (\r\n          <div>\r\n            <h2 style={{\r\n              fontSize: theme.typography.fontSize['2xl'],\r\n              fontWeight: theme.typography.fontWeight.semibold,\r\n              margin: `0 0 ${theme.spacing.lg} 0`,\r\n            }}>\r\n              Company Verification (UK Only)\r\n            </h2>\r\n            <p style={{ color: theme.colors.textSecondary, marginBottom: theme.spacing.lg }}>\r\n              Search for your company using Companies House.\r\n            </p>\r\n\r\n            <div style={{ marginBottom: theme.spacing.lg }}>\r\n              <Select\r\n                label=\"Search By\"\r\n                value={step2Data.company_search_type}\r\n                onChange={(e) => setStep2Data({ ...step2Data, company_search_type: e.target.value })}\r\n              >\r\n                <option value=\"number\">Company Number</option>\r\n                <option value=\"name\">Company Name</option>\r\n              </Select>\r\n\r\n              {step2Data.company_search_type === 'number' ? (\r\n                <Input\r\n                  label=\"Company Number\"\r\n                  value={step2Data.company_number}\r\n                  onChange={(e) => setStep2Data({ ...step2Data, company_number: e.target.value })}\r\n                  placeholder=\"e.g., 12345678\"\r\n                  style={{ marginTop: theme.spacing.md }}\r\n                />\r\n              ) : (\r\n                <Input\r\n                  label=\"Company Name\"\r\n                  value={step2Data.company_name}\r\n                  onChange={(e) => setStep2Data({ ...step2Data, company_name: e.target.value })}\r\n                  placeholder=\"e.g., Example Company Ltd\"\r\n                  style={{ marginTop: theme.spacing.md }}\r\n                />\r\n              )}\r\n\r\n              <Button\r\n                variant=\"primary\"\r\n                onClick={handleCompanySearch}\r\n                loading={loading}\r\n                style={{ marginTop: theme.spacing.md }}\r\n              >\r\n                Search Company\r\n              </Button>\r\n            </div>\r\n\r\n            {/* Search Results List */}\r\n            {step2Data.show_search_results && step2Data.company_search_results.length > 0 && (\r\n              <div style={{ marginBottom: theme.spacing.xl }}>\r\n                <h3 style={{\r\n                  fontSize: theme.typography.fontSize.lg,\r\n                  fontWeight: theme.typography.fontWeight.semibold,\r\n                  margin: `0 0 ${theme.spacing.md} 0`,\r\n                }}>\r\n                  Select Company ({step2Data.company_search_results.length} found)\r\n                </h3>\r\n                <div style={{\r\n                  display: 'flex',\r\n                  flexDirection: 'column',\r\n                  gap: theme.spacing.sm,\r\n                  maxHeight: '400px',\r\n                  overflowY: 'auto',\r\n                  border: `1px solid ${theme.colors.gray200}`,\r\n                  borderRadius: theme.borderRadius.md,\r\n                  padding: theme.spacing.md,\r\n                  background: theme.colors.gray50,\r\n                }}>\r\n                  {step2Data.company_search_results.map((company) => (\r\n                    <div\r\n                      key={company.company_number}\r\n                      onClick={() => handleSelectCompany(company.company_number)}\r\n                      style={{\r\n                        padding: theme.spacing.md,\r\n                        border: `1px solid ${theme.colors.gray200}`,\r\n                        borderRadius: theme.borderRadius.md,\r\n                        cursor: 'pointer',\r\n                        transition: 'all 0.2s',\r\n                        background: theme.colors.white,\r\n                      }}\r\n                      onMouseEnter={(e) => {\r\n                        e.currentTarget.style.background = theme.colors.primaryLight;\r\n                        e.currentTarget.style.borderColor = theme.colors.primary;\r\n                      }}\r\n                      onMouseLeave={(e) => {\r\n                        e.currentTarget.style.background = theme.colors.white;\r\n                        e.currentTarget.style.borderColor = theme.colors.gray200;\r\n                      }}\r\n                    >\r\n                      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start' }}>\r\n                        <div style={{ flex: 1 }}>\r\n                          <p style={{\r\n                            margin: 0,\r\n                            fontWeight: theme.typography.fontWeight.semibold,\r\n                            fontSize: theme.typography.fontSize.base,\r\n                            color: theme.colors.textPrimary,\r\n                          }}>\r\n                            {company.company_name}\r\n                          </p>\r\n                          <p style={{\r\n                            margin: `${theme.spacing.xs} 0 0 0`,\r\n                            fontSize: theme.typography.fontSize.sm,\r\n                            color: theme.colors.textSecondary,\r\n                          }}>\r\n                            Company Number: {company.company_number}\r\n                          </p>\r\n                          {company.address_snippet && (\r\n                            <p style={{\r\n                              margin: `${theme.spacing.xs} 0 0 0`,\r\n                              fontSize: theme.typography.fontSize.sm,\r\n                              color: theme.colors.textSecondary,\r\n                            }}>\r\n                              {company.address_snippet}\r\n                            </p>\r\n                          )}\r\n                          <div style={{ display: 'flex', gap: theme.spacing.sm, marginTop: theme.spacing.xs, flexWrap: 'wrap', alignItems: 'center' }}>\r\n                            <Badge variant={company.company_status === 'active' ? 'success' : company.company_status === 'dissolved' ? 'warning' : 'error'}>\r\n                              {company.company_status || 'Unknown'}\r\n                            </Badge>\r\n                            {company.company_type && (\r\n                              <Badge variant=\"info\">\r\n                                {company.company_type}\r\n                              </Badge>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                        <Button\r\n                          variant=\"outline\"\r\n                          size=\"sm\"\r\n                          onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            handleSelectCompany(company.company_number);\r\n                          }}\r\n                          style={{ marginLeft: theme.spacing.md }}\r\n                        >\r\n                          Select\r\n                        </Button>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {step2Data.company_data && (\r\n              <div style={{ marginBottom: theme.spacing.xl }}>\r\n                <CompanyDetails \r\n                  companyNumber={step2Data.company_data.company_number}\r\n                  onAutoImport={async (result) => {\r\n                    setMessage('Company data imported successfully!');\r\n                    if (result && result.results) {\r\n                      setStep3Data(prev => ({\r\n                        ...prev,\r\n                        directors: result.results.directors || prev.directors,\r\n                        shareholders: result.results.shareholders || prev.shareholders,\r\n                      }));\r\n                    }\r\n                  }}\r\n                />\r\n                <div style={{ marginTop: theme.spacing.lg }}>\r\n                  <Input\r\n                    label=\"Trading Address (if different from registered address)\"\r\n                    value={step2Data.trading_address}\r\n                    onChange={(e) => setStep2Data({ ...step2Data, trading_address: e.target.value })}\r\n                    placeholder=\"Enter trading address if different\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: theme.spacing.xl }}>\r\n              <Button variant=\"outline\" onClick={prevStep}>\r\n                Previous\r\n              </Button>\r\n              <Button\r\n                variant=\"primary\"\r\n                onClick={nextStep}\r\n                disabled={!step2Data.company_data}\r\n              >\r\n                Next: Company Personnel\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Step 3: Directors and shareholders (with user assignment) */}\r\n        {step === 3 && (\r\n          <div>\r\n            <h2 style={{\r\n              fontSize: theme.typography.fontSize['2xl'],\r\n              fontWeight: theme.typography.fontWeight.semibold,\r\n              margin: `0 0 ${theme.spacing.lg} 0`,\r\n            }}>\r\n              Company Personnel & Account Assignment\r\n            </h2>\r\n            <p style={{ color: theme.colors.textSecondary, marginBottom: theme.spacing.lg }}>\r\n              Review the company directors and shareholders. Confirm key personnel and assign this account to the appropriate user.\r\n            </p>\r\n\r\n            <div style={{\r\n              ...commonStyles.card,\r\n              padding: theme.spacing.md,\r\n              marginBottom: theme.spacing.lg,\r\n              background: theme.colors.primaryLight,\r\n              border: `1px solid ${theme.colors.primary}`,\r\n            }}>\r\n              <p style={{ margin: 0, fontSize: theme.typography.fontSize.sm }}>\r\n                <strong>Note:</strong> The person using this account may be different from the company directors. \r\n                You can confirm company personnel for reference, but this account will be assigned to you (the current user).\r\n              </p>\r\n            </div>\r\n\r\n            {step2Data.company_data && (\r\n              <div>\r\n                {/* Directors */}\r\n                {step3Data.directors.length > 0 && (\r\n                  <div style={{ marginBottom: theme.spacing.xl }}>\r\n                    <h3 style={{ margin: `0 0 ${theme.spacing.md} 0` }}>Directors</h3>\r\n                    <div style={{ display: 'grid', gap: theme.spacing.md }}>\r\n                      {step3Data.directors.map((director, index) => (\r\n                        <div key={index} style={{\r\n                          ...commonStyles.card,\r\n                          padding: theme.spacing.md,\r\n                          display: 'flex',\r\n                          justifyContent: 'space-between',\r\n                          alignItems: 'center',\r\n                        }}>\r\n                          <div>\r\n                            <p style={{ margin: 0, fontWeight: theme.typography.fontWeight.medium }}>\r\n                              {director.name}\r\n                            </p>\r\n                            {director.nationality && (\r\n                              <p style={{ margin: `${theme.spacing.xs} 0 0 0`, fontSize: theme.typography.fontSize.sm, color: theme.colors.textSecondary }}>\r\n                                Nationality: {director.nationality}\r\n                              </p>\r\n                            )}\r\n                          </div>\r\n                          <Checkbox\r\n                            label=\"Confirm as Key Personnel\"\r\n                            checked={director.confirmed || false}\r\n                            onChange={(e) => {\r\n                              const updated = [...step3Data.directors];\r\n                              updated[index].confirmed = e.target.checked;\r\n                              const confirmed = updated.filter(d => d.confirmed);\r\n                              setStep3Data({\r\n                                ...step3Data,\r\n                                directors: updated,\r\n                                key_personnel_confirmed: [\r\n                                  ...step3Data.shareholders.filter(s => s.confirmed),\r\n                                  ...confirmed,\r\n                                ],\r\n                              });\r\n                            }}\r\n                          />\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Shareholders/PSCs */}\r\n                {step3Data.shareholders.length > 0 && (\r\n                  <div style={{ marginBottom: theme.spacing.xl }}>\r\n                    <h3 style={{ margin: `0 0 ${theme.spacing.md} 0` }}>Persons with Significant Control</h3>\r\n                    <div style={{ display: 'grid', gap: theme.spacing.md }}>\r\n                      {step3Data.shareholders.map((shareholder, index) => (\r\n                        <div key={index} style={{\r\n                          ...commonStyles.card,\r\n                          padding: theme.spacing.md,\r\n                          display: 'flex',\r\n                          justifyContent: 'space-between',\r\n                          alignItems: 'center',\r\n                        }}>\r\n                          <div>\r\n                            <p style={{ margin: 0, fontWeight: theme.typography.fontWeight.medium }}>\r\n                              {shareholder.name}\r\n                            </p>\r\n                            {shareholder.natures_of_control && (\r\n                              <p style={{ margin: `${theme.spacing.xs} 0 0 0`, fontSize: theme.typography.fontSize.sm, color: theme.colors.textSecondary }}>\r\n                                Control: {shareholder.natures_of_control.join(', ')}\r\n                              </p>\r\n                            )}\r\n                          </div>\r\n                          <Checkbox\r\n                            label=\"Confirm as Key Personnel\"\r\n                            checked={shareholder.confirmed || false}\r\n                            onChange={(e) => {\r\n                              const updated = [...step3Data.shareholders];\r\n                              updated[index].confirmed = e.target.checked;\r\n                              const confirmed = updated.filter(s => s.confirmed);\r\n                              setStep3Data({\r\n                                ...step3Data,\r\n                                shareholders: updated,\r\n                                key_personnel_confirmed: [\r\n                                  ...step3Data.directors.filter(d => d.confirmed),\r\n                                  ...confirmed,\r\n                                ],\r\n                              });\r\n                            }}\r\n                          />\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Account Assignment */}\r\n                <div style={{\r\n                  ...commonStyles.card,\r\n                  padding: theme.spacing.lg,\r\n                  marginTop: theme.spacing.xl,\r\n                  background: theme.colors.gray50,\r\n                }}>\r\n                  <h3 style={{ margin: `0 0 ${theme.spacing.md} 0` }}>Account Assignment</h3>\r\n                  <p style={{ color: theme.colors.textSecondary, marginBottom: theme.spacing.md }}>\r\n                    This account will be assigned to you (the current logged-in user). If you are not a director, \r\n                    you can still manage the consultant profile on behalf of the company.\r\n                  </p>\r\n                  <Checkbox\r\n                    label=\"I am a director of this company\"\r\n                    checked={step3Data.account_holder_is_director}\r\n                    onChange={(e) => setStep3Data({ ...step3Data, account_holder_is_director: e.target.checked })}\r\n                  />\r\n                  {!step3Data.account_holder_is_director && (\r\n                    <div style={{ marginTop: theme.spacing.md }}>\r\n                      <Input\r\n                        label=\"Your Name\"\r\n                        value={step3Data.account_holder_name}\r\n                        onChange={(e) => setStep3Data({ ...step3Data, account_holder_name: e.target.value })}\r\n                        placeholder=\"Enter your full name\"\r\n                      />\r\n                      <Input\r\n                        label=\"Your Role\"\r\n                        value={step3Data.account_holder_role}\r\n                        onChange={(e) => setStep3Data({ ...step3Data, account_holder_role: e.target.value })}\r\n                        placeholder=\"e.g., Operations Manager, Practice Manager\"\r\n                        style={{ marginTop: theme.spacing.md }}\r\n                      />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: theme.spacing.xl }}>\r\n              <Button variant=\"outline\" onClick={prevStep}>\r\n                Previous\r\n              </Button>\r\n              <Button\r\n                variant=\"primary\"\r\n                onClick={nextStep}\r\n              >\r\n                Next: Key Contact Details\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Step 4: Key contact details */}\r\n        {step === 4 && (\r\n          <div>\r\n            <h2 style={{\r\n              fontSize: theme.typography.fontSize['2xl'],\r\n              fontWeight: theme.typography.fontWeight.semibold,\r\n              margin: `0 0 ${theme.spacing.lg} 0`,\r\n            }}>\r\n              Key Contact Details\r\n            </h2>\r\n            <p style={{ color: theme.colors.textSecondary, marginBottom: theme.spacing.lg }}>\r\n              Provide the primary contact information for your organisation.\r\n            </p>\r\n\r\n            <div style={{ display: 'grid', gap: theme.spacing.lg, marginBottom: theme.spacing.xl }}>\r\n              <Input\r\n                label=\"Primary Contact Email *\"\r\n                type=\"email\"\r\n                value={step4Data.primary_contact_email}\r\n                onChange={(e) => setStep4Data({ ...step4Data, primary_contact_email: e.target.value })}\r\n                required\r\n              />\r\n              <Input\r\n                label=\"Primary Contact Phone *\"\r\n                type=\"tel\"\r\n                value={step4Data.primary_contact_phone}\r\n                onChange={(e) => setStep4Data({ ...step4Data, primary_contact_phone: e.target.value })}\r\n                required\r\n              />\r\n              <Input\r\n                label=\"Website\"\r\n                type=\"url\"\r\n                value={step4Data.website}\r\n                onChange={(e) => setStep4Data({ ...step4Data, website: e.target.value })}\r\n                placeholder=\"https://example.com\"\r\n              />\r\n              <Input\r\n                label=\"Address Line 1\"\r\n                value={step4Data.address_line_1}\r\n                onChange={(e) => setStep4Data({ ...step4Data, address_line_1: e.target.value })}\r\n              />\r\n              <Input\r\n                label=\"Address Line 2\"\r\n                value={step4Data.address_line_2}\r\n                onChange={(e) => setStep4Data({ ...step4Data, address_line_2: e.target.value })}\r\n              />\r\n              <Input\r\n                label=\"City\"\r\n                value={step4Data.city}\r\n                onChange={(e) => setStep4Data({ ...step4Data, city: e.target.value })}\r\n              />\r\n              <Input\r\n                label=\"County\"\r\n                value={step4Data.county}\r\n                onChange={(e) => setStep4Data({ ...step4Data, county: e.target.value })}\r\n              />\r\n              <Input\r\n                label=\"Postcode\"\r\n                value={step4Data.postcode}\r\n                onChange={(e) => setStep4Data({ ...step4Data, postcode: e.target.value })}\r\n              />\r\n              <Input\r\n                label=\"Country\"\r\n                value={step4Data.country}\r\n                onChange={(e) => setStep4Data({ ...step4Data, country: e.target.value })}\r\n              />\r\n            </div>\r\n\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: theme.spacing.xl }}>\r\n              <Button variant=\"outline\" onClick={prevStep}>\r\n                Previous\r\n              </Button>\r\n              <Button\r\n                variant=\"primary\"\r\n                onClick={nextStep}\r\n                disabled={!step4Data.primary_contact_email || !step4Data.primary_contact_phone}\r\n              >\r\n                Next: Services & Qualifications\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Step 5: Services & Qualifications */}\r\n        {step === 5 && (\r\n          <div>\r\n            <h2 style={{ marginBottom: theme.spacing.lg }}>Services & Qualifications</h2>\r\n            <div style={{ display: 'grid', gap: theme.spacing.md }}>\r\n              <Select\r\n                label=\"Primary Service Type *\"\r\n                name=\"primary_service\"\r\n                value={step5Data.primary_service}\r\n                onChange={(e) => setStep5Data({ ...step5Data, primary_service: e.target.value })}\r\n                options={[\r\n                  { value: '', label: 'Select service type' },\r\n                  { value: 'solicitor', label: 'Solicitor' },\r\n                  { value: 'monitoring_surveyor', label: 'Monitoring Surveyor' },\r\n                  { value: 'valuation', label: 'Valuation' },\r\n                  { value: 'other', label: 'Other Professional Service' },\r\n                ]}\r\n                required\r\n              />\r\n              <div>\r\n                <label style={{ ...commonStyles.label, marginBottom: theme.spacing.sm, display: 'block' }}>\r\n                  Services Offered *\r\n                </label>\r\n                {['solicitor', 'monitoring_surveyor', 'valuation', 'other'].map((service) => (\r\n                  <Checkbox\r\n                    key={service}\r\n                    label={service.replace('_', ' ').replace(/\\b\\w/g, l => l.toUpperCase())}\r\n                    checked={step5Data.services_offered.includes(service)}\r\n                    onChange={(e) => {\r\n                      const services = e.target.checked\r\n                        ? [...step5Data.services_offered, service]\r\n                        : step5Data.services_offered.filter(s => s !== service);\r\n                      setStep5Data({ ...step5Data, services_offered: services });\r\n                    }}\r\n                  />\r\n                ))}\r\n              </div>\r\n              <div>\r\n                <label style={{ ...commonStyles.label, marginBottom: theme.spacing.sm, display: 'block' }}>\r\n                  Qualifications\r\n                </label>\r\n                {['rics', 'rics_monitoring', 'rics_valuation', 'sra', 'cilex', 'other'].map((qual) => (\r\n                  <Checkbox\r\n                    key={qual}\r\n                    label={qual.replace('_', ' ').replace(/\\b\\w/g, l => l.toUpperCase())}\r\n                    checked={step5Data.qualifications.includes(qual)}\r\n                    onChange={(e) => {\r\n                      const quals = e.target.checked\r\n                        ? [...step5Data.qualifications, qual]\r\n                        : step5Data.qualifications.filter(q => q !== qual);\r\n                      setStep5Data({ ...step5Data, qualifications: quals });\r\n                    }}\r\n                  />\r\n                ))}\r\n              </div>\r\n              <Input\r\n                label=\"RICS Number\"\r\n                name=\"rics_number\"\r\n                value={step5Data.professional_registration_numbers.rics}\r\n                onChange={(e) => setStep5Data({\r\n                  ...step5Data,\r\n                  professional_registration_numbers: {\r\n                    ...step5Data.professional_registration_numbers,\r\n                    rics: e.target.value,\r\n                  },\r\n                })}\r\n              />\r\n              <Input\r\n                label=\"SRA Number\"\r\n                name=\"sra_number\"\r\n                value={step5Data.professional_registration_numbers.sra}\r\n                onChange={(e) => setStep5Data({\r\n                  ...step5Data,\r\n                  professional_registration_numbers: {\r\n                    ...step5Data.professional_registration_numbers,\r\n                    sra: e.target.value,\r\n                  },\r\n                })}\r\n              />\r\n              <Input\r\n                label=\"CILEX Number\"\r\n                name=\"cilex_number\"\r\n                value={step5Data.professional_registration_numbers.cilex}\r\n                onChange={(e) => setStep5Data({\r\n                  ...step5Data,\r\n                  professional_registration_numbers: {\r\n                    ...step5Data.professional_registration_numbers,\r\n                    cilex: e.target.value,\r\n                  },\r\n                })}\r\n              />\r\n            </div>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: theme.spacing.xl }}>\r\n              <Button variant=\"outline\" onClick={prevStep}>\r\n                Previous\r\n              </Button>\r\n              <Button variant=\"primary\" onClick={nextStep}>\r\n                Next: Service Details\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Step 6: Service Details */}\r\n        {step === 6 && (\r\n          <div>\r\n            <h2 style={{ marginBottom: theme.spacing.lg }}>Service Details</h2>\r\n            <div style={{ display: 'grid', gap: theme.spacing.md }}>\r\n              <Textarea\r\n                label=\"Service Description\"\r\n                name=\"service_description\"\r\n                value={step6Data.service_description}\r\n                onChange={(e) => setStep6Data({ ...step6Data, service_description: e.target.value })}\r\n                rows={6}\r\n              />\r\n              <Input\r\n                label=\"Years of Experience\"\r\n                name=\"years_of_experience\"\r\n                type=\"number\"\r\n                value={step6Data.years_of_experience}\r\n                onChange={(e) => setStep6Data({ ...step6Data, years_of_experience: e.target.value })}\r\n              />\r\n              <Input\r\n                label=\"Team Size\"\r\n                name=\"team_size\"\r\n                type=\"number\"\r\n                value={step6Data.team_size}\r\n                onChange={(e) => setStep6Data({ ...step6Data, team_size: e.target.value })}\r\n              />\r\n              <Textarea\r\n                label=\"Geographic Coverage (one per line)\"\r\n                name=\"geographic_coverage\"\r\n                value={step6Data.geographic_coverage.join('\\n')}\r\n                onChange={(e) => setStep6Data({\r\n                  ...step6Data,\r\n                  geographic_coverage: e.target.value.split('\\n').filter(line => line.trim()),\r\n                })}\r\n                rows={4}\r\n              />\r\n              <Textarea\r\n                label=\"Key Personnel (JSON format)\"\r\n                name=\"key_personnel\"\r\n                value={JSON.stringify(step6Data.key_personnel, null, 2)}\r\n                onChange={(e) => {\r\n                  try {\r\n                    const parsed = JSON.parse(e.target.value);\r\n                    setStep6Data({ ...step6Data, key_personnel: Array.isArray(parsed) ? parsed : [] });\r\n                  } catch (err) {\r\n                    // Invalid JSON, keep as is\r\n                  }\r\n                }}\r\n                rows={6}\r\n                placeholder='[{\"name\": \"John Doe\", \"role\": \"Senior Partner\", \"qualifications\": \"RICS\"}]'\r\n              />\r\n            </div>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: theme.spacing.xl }}>\r\n              <Button variant=\"outline\" onClick={prevStep}>\r\n                Previous\r\n              </Button>\r\n              <Button variant=\"primary\" onClick={nextStep}>\r\n                Next: Capacity & Availability\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Step 7: Capacity & Availability */}\r\n        {step === 7 && (\r\n          <div>\r\n            <h2 style={{ marginBottom: theme.spacing.lg }}>Capacity & Availability</h2>\r\n            <div style={{ display: 'grid', gap: theme.spacing.md }}>\r\n              <Input\r\n                label=\"Current Capacity (active projects)\"\r\n                name=\"current_capacity\"\r\n                type=\"number\"\r\n                value={step7Data.current_capacity}\r\n                onChange={(e) => setStep7Data({ ...step7Data, current_capacity: e.target.value })}\r\n              />\r\n              <Input\r\n                label=\"Maximum Capacity\"\r\n                name=\"max_capacity\"\r\n                type=\"number\"\r\n                value={step7Data.max_capacity}\r\n                onChange={(e) => setStep7Data({ ...step7Data, max_capacity: e.target.value })}\r\n              />\r\n              <Input\r\n                label=\"Average Response Time (days)\"\r\n                name=\"average_response_time_days\"\r\n                type=\"number\"\r\n                value={step7Data.average_response_time_days}\r\n                onChange={(e) => setStep7Data({ ...step7Data, average_response_time_days: e.target.value })}\r\n              />\r\n            </div>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: theme.spacing.xl }}>\r\n              <Button variant=\"outline\" onClick={prevStep}>\r\n                Previous\r\n              </Button>\r\n              <Button variant=\"primary\" onClick={nextStep}>\r\n                Next: Insurance & Compliance\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Step 8: Insurance & Compliance */}\r\n        {step === 8 && (\r\n          <div>\r\n            <h2 style={{ marginBottom: theme.spacing.lg }}>Insurance & Compliance</h2>\r\n            <div style={{ display: 'grid', gap: theme.spacing.md }}>\r\n              <h3 style={{ fontSize: theme.typography.fontSize.lg, marginBottom: theme.spacing.md }}>\r\n                Professional Indemnity Insurance\r\n              </h3>\r\n              <Input\r\n                label=\"Insurance Provider\"\r\n                name=\"insurance_provider\"\r\n                value={step8Data.insurance_details.provider}\r\n                onChange={(e) => setStep8Data({\r\n                  ...step8Data,\r\n                  insurance_details: { ...step8Data.insurance_details, provider: e.target.value },\r\n                })}\r\n              />\r\n              <Input\r\n                label=\"Policy Number\"\r\n                name=\"policy_number\"\r\n                value={step8Data.insurance_details.policy_number}\r\n                onChange={(e) => setStep8Data({\r\n                  ...step8Data,\r\n                  insurance_details: { ...step8Data.insurance_details, policy_number: e.target.value },\r\n                })}\r\n              />\r\n              <Input\r\n                label=\"Expiry Date\"\r\n                name=\"expiry_date\"\r\n                type=\"date\"\r\n                value={step8Data.insurance_details.expiry_date}\r\n                onChange={(e) => setStep8Data({\r\n                  ...step8Data,\r\n                  insurance_details: { ...step8Data.insurance_details, expiry_date: e.target.value },\r\n                })}\r\n              />\r\n              <Input\r\n                label=\"Coverage Amount\"\r\n                name=\"coverage_amount\"\r\n                value={step8Data.insurance_details.coverage_amount}\r\n                onChange={(e) => setStep8Data({\r\n                  ...step8Data,\r\n                  insurance_details: { ...step8Data.insurance_details, coverage_amount: e.target.value },\r\n                })}\r\n              />\r\n              <Textarea\r\n                label=\"Compliance Certifications (one per line)\"\r\n                name=\"compliance_certifications\"\r\n                value={step8Data.compliance_certifications.join('\\n')}\r\n                onChange={(e) => setStep8Data({\r\n                  ...step8Data,\r\n                  compliance_certifications: e.target.value.split('\\n').filter(line => line.trim()),\r\n                })}\r\n                rows={4}\r\n                placeholder=\"e.g., ISO 9001, FCA Authorised\"\r\n              />\r\n            </div>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: theme.spacing.xl }}>\r\n              <Button variant=\"outline\" onClick={prevStep}>\r\n                Previous\r\n              </Button>\r\n              <Button\r\n                variant=\"primary\"\r\n                onClick={handleSubmit}\r\n                loading={loading}\r\n              >\r\n                {loading ? 'Saving...' : 'Complete Profile'}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </Wizard>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ConsultantProfileWizard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}